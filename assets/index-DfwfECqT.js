(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function l(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=l(o);fetch(o.href,f)}})();var Nc={exports:{}},wa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function r1(){if(X_)return wa;X_=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var m in o)m!=="key"&&(f[m]=o[m])}else f=o;return o=f.ref,{$$typeof:a,type:r,key:h,ref:o!==void 0?o:null,props:f}}return wa.Fragment=n,wa.jsx=l,wa.jsxs=l,wa}var K_;function u1(){return K_||(K_=1,Nc.exports=r1()),Nc.exports}var L=u1(),Rc={exports:{}},$={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function o1(){if(Z_)return $;Z_=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function U(C){return C===null||typeof C!="object"?null:(C=S&&C[S]||C["@@iterator"],typeof C=="function"?C:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,j={};function Q(C,z,k){this.props=C,this.context=z,this.refs=j,this.updater=k||B}Q.prototype.isReactComponent={},Q.prototype.setState=function(C,z){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,z,"setState")},Q.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function X(){}X.prototype=Q.prototype;function he(C,z,k){this.props=C,this.context=z,this.refs=j,this.updater=k||B}var De=he.prototype=new X;De.constructor=he,K(De,Q.prototype),De.isPureReactComponent=!0;var He=Array.isArray;function we(){}var F={H:null,A:null,T:null,S:null},Be=Object.prototype.hasOwnProperty;function $e(C,z,k){var Y=k.ref;return{$$typeof:a,type:C,key:z,ref:Y!==void 0?Y:null,props:k}}function dt(C,z){return $e(C.type,z,C.props)}function mt(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function ve(C){var z={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(k){return z[k]})}var xe=/\/+/g;function Ge(C,z){return typeof C=="object"&&C!==null&&C.key!=null?ve(""+C.key):z.toString(36)}function Dt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(we,we):(C.status="pending",C.then(function(z){C.status==="pending"&&(C.status="fulfilled",C.value=z)},function(z){C.status==="pending"&&(C.status="rejected",C.reason=z)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function M(C,z,k,Y,ee){var se=typeof C;(se==="undefined"||se==="boolean")&&(C=null);var ye=!1;if(C===null)ye=!0;else switch(se){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(C.$$typeof){case a:case n:ye=!0;break;case E:return ye=C._init,M(ye(C._payload),z,k,Y,ee)}}if(ye)return ee=ee(C),ye=Y===""?"."+Ge(C,0):Y,He(ee)?(k="",ye!=null&&(k=ye.replace(xe,"$&/")+"/"),M(ee,z,k,"",function(Hl){return Hl})):ee!=null&&(mt(ee)&&(ee=dt(ee,k+(ee.key==null||C&&C.key===ee.key?"":(""+ee.key).replace(xe,"$&/")+"/")+ye)),z.push(ee)),1;ye=0;var _t=Y===""?".":Y+":";if(He(C))for(var Ye=0;Ye<C.length;Ye++)Y=C[Ye],se=_t+Ge(Y,Ye),ye+=M(Y,z,k,se,ee);else if(Ye=U(C),typeof Ye=="function")for(C=Ye.call(C),Ye=0;!(Y=C.next()).done;)Y=Y.value,se=_t+Ge(Y,Ye++),ye+=M(Y,z,k,se,ee);else if(se==="object"){if(typeof C.then=="function")return M(Dt(C),z,k,Y,ee);throw z=String(C),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return ye}function H(C,z,k){if(C==null)return C;var Y=[],ee=0;return M(C,Y,"","",function(se){return z.call(k,se,ee++)}),Y}function W(C){if(C._status===-1){var z=C._result;z=z(),z.then(function(k){(C._status===0||C._status===-1)&&(C._status=1,C._result=k)},function(k){(C._status===0||C._status===-1)&&(C._status=2,C._result=k)}),C._status===-1&&(C._status=0,C._result=z)}if(C._status===1)return C._result.default;throw C._result}var ge=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Ne={map:H,forEach:function(C,z,k){H(C,function(){z.apply(this,arguments)},k)},count:function(C){var z=0;return H(C,function(){z++}),z},toArray:function(C){return H(C,function(z){return z})||[]},only:function(C){if(!mt(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return $.Activity=v,$.Children=Ne,$.Component=Q,$.Fragment=l,$.Profiler=o,$.PureComponent=he,$.StrictMode=r,$.Suspense=p,$.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,$.__COMPILER_RUNTIME={__proto__:null,c:function(C){return F.H.useMemoCache(C)}},$.cache=function(C){return function(){return C.apply(null,arguments)}},$.cacheSignal=function(){return null},$.cloneElement=function(C,z,k){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var Y=K({},C.props),ee=C.key;if(z!=null)for(se in z.key!==void 0&&(ee=""+z.key),z)!Be.call(z,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&z.ref===void 0||(Y[se]=z[se]);var se=arguments.length-2;if(se===1)Y.children=k;else if(1<se){for(var ye=Array(se),_t=0;_t<se;_t++)ye[_t]=arguments[_t+2];Y.children=ye}return $e(C.type,ee,Y)},$.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},$.createElement=function(C,z,k){var Y,ee={},se=null;if(z!=null)for(Y in z.key!==void 0&&(se=""+z.key),z)Be.call(z,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ee[Y]=z[Y]);var ye=arguments.length-2;if(ye===1)ee.children=k;else if(1<ye){for(var _t=Array(ye),Ye=0;Ye<ye;Ye++)_t[Ye]=arguments[Ye+2];ee.children=_t}if(C&&C.defaultProps)for(Y in ye=C.defaultProps,ye)ee[Y]===void 0&&(ee[Y]=ye[Y]);return $e(C,se,ee)},$.createRef=function(){return{current:null}},$.forwardRef=function(C){return{$$typeof:m,render:C}},$.isValidElement=mt,$.lazy=function(C){return{$$typeof:E,_payload:{_status:-1,_result:C},_init:W}},$.memo=function(C,z){return{$$typeof:_,type:C,compare:z===void 0?null:z}},$.startTransition=function(C){var z=F.T,k={};F.T=k;try{var Y=C(),ee=F.S;ee!==null&&ee(k,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(we,ge)}catch(se){ge(se)}finally{z!==null&&k.types!==null&&(z.types=k.types),F.T=z}},$.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},$.use=function(C){return F.H.use(C)},$.useActionState=function(C,z,k){return F.H.useActionState(C,z,k)},$.useCallback=function(C,z){return F.H.useCallback(C,z)},$.useContext=function(C){return F.H.useContext(C)},$.useDebugValue=function(){},$.useDeferredValue=function(C,z){return F.H.useDeferredValue(C,z)},$.useEffect=function(C,z){return F.H.useEffect(C,z)},$.useEffectEvent=function(C){return F.H.useEffectEvent(C)},$.useId=function(){return F.H.useId()},$.useImperativeHandle=function(C,z,k){return F.H.useImperativeHandle(C,z,k)},$.useInsertionEffect=function(C,z){return F.H.useInsertionEffect(C,z)},$.useLayoutEffect=function(C,z){return F.H.useLayoutEffect(C,z)},$.useMemo=function(C,z){return F.H.useMemo(C,z)},$.useOptimistic=function(C,z){return F.H.useOptimistic(C,z)},$.useReducer=function(C,z,k){return F.H.useReducer(C,z,k)},$.useRef=function(C){return F.H.useRef(C)},$.useState=function(C){return F.H.useState(C)},$.useSyncExternalStore=function(C,z,k){return F.H.useSyncExternalStore(C,z,k)},$.useTransition=function(){return F.H.useTransition()},$.version="19.2.0",$}var F_;function uf(){return F_||(F_=1,Rc.exports=o1()),Rc.exports}var q=uf(),Dc={exports:{}},Ma={},wc={exports:{}},Mc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function c1(){return W_||(W_=1,(function(a){function n(M,H){var W=M.length;M.push(H);e:for(;0<W;){var ge=W-1>>>1,Ne=M[ge];if(0<o(Ne,H))M[ge]=H,M[W]=Ne,W=ge;else break e}}function l(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var H=M[0],W=M.pop();if(W!==H){M[0]=W;e:for(var ge=0,Ne=M.length,C=Ne>>>1;ge<C;){var z=2*(ge+1)-1,k=M[z],Y=z+1,ee=M[Y];if(0>o(k,W))Y<Ne&&0>o(ee,k)?(M[ge]=ee,M[Y]=W,ge=Y):(M[ge]=k,M[z]=W,ge=z);else if(Y<Ne&&0>o(ee,W))M[ge]=ee,M[Y]=W,ge=Y;else break e}}return H}function o(M,H){var W=M.sortIndex-H.sortIndex;return W!==0?W:M.id-H.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();a.unstable_now=function(){return h.now()-m}}var p=[],_=[],E=1,v=null,S=3,U=!1,B=!1,K=!1,j=!1,Q=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;function De(M){for(var H=l(_);H!==null;){if(H.callback===null)r(_);else if(H.startTime<=M)r(_),H.sortIndex=H.expirationTime,n(p,H);else break;H=l(_)}}function He(M){if(K=!1,De(M),!B)if(l(p)!==null)B=!0,we||(we=!0,ve());else{var H=l(_);H!==null&&Dt(He,H.startTime-M)}}var we=!1,F=-1,Be=5,$e=-1;function dt(){return j?!0:!(a.unstable_now()-$e<Be)}function mt(){if(j=!1,we){var M=a.unstable_now();$e=M;var H=!0;try{e:{B=!1,K&&(K=!1,X(F),F=-1),U=!0;var W=S;try{t:{for(De(M),v=l(p);v!==null&&!(v.expirationTime>M&&dt());){var ge=v.callback;if(typeof ge=="function"){v.callback=null,S=v.priorityLevel;var Ne=ge(v.expirationTime<=M);if(M=a.unstable_now(),typeof Ne=="function"){v.callback=Ne,De(M),H=!0;break t}v===l(p)&&r(p),De(M)}else r(p);v=l(p)}if(v!==null)H=!0;else{var C=l(_);C!==null&&Dt(He,C.startTime-M),H=!1}}break e}finally{v=null,S=W,U=!1}H=void 0}}finally{H?ve():we=!1}}}var ve;if(typeof he=="function")ve=function(){he(mt)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Ge=xe.port2;xe.port1.onmessage=mt,ve=function(){Ge.postMessage(null)}}else ve=function(){Q(mt,0)};function Dt(M,H){F=Q(function(){M(a.unstable_now())},H)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(M){M.callback=null},a.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Be=0<M?Math.floor(1e3/M):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(M){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var W=S;S=H;try{return M()}finally{S=W}},a.unstable_requestPaint=function(){j=!0},a.unstable_runWithPriority=function(M,H){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=S;S=M;try{return H()}finally{S=W}},a.unstable_scheduleCallback=function(M,H,W){var ge=a.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ge+W:ge):W=ge,M){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=W+Ne,M={id:E++,callback:H,priorityLevel:M,startTime:W,expirationTime:Ne,sortIndex:-1},W>ge?(M.sortIndex=W,n(_,M),l(p)===null&&M===l(_)&&(K?(X(F),F=-1):K=!0,Dt(He,W-ge))):(M.sortIndex=Ne,n(p,M),B||U||(B=!0,we||(we=!0,ve()))),M},a.unstable_shouldYield=dt,a.unstable_wrapCallback=function(M){var H=S;return function(){var W=S;S=H;try{return M.apply(this,arguments)}finally{S=W}}}})(Mc)),Mc}var J_;function f1(){return J_||(J_=1,wc.exports=c1()),wc.exports}var Oc={exports:{}},ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function h1(){if(P_)return ct;P_=1;var a=uf();function n(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(p,_,E){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:p,containerInfo:_,implementation:E}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ct.createPortal=function(p,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(n(299));return f(p,_,null,E)},ct.flushSync=function(p){var _=h.T,E=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=_,r.p=E,r.d.f()}},ct.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(p,_))},ct.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},ct.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var E=_.as,v=m(E,_.crossOrigin),S=typeof _.integrity=="string"?_.integrity:void 0,U=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?r.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:U}):E==="script"&&r.d.X(p,{crossOrigin:v,integrity:S,fetchPriority:U,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},ct.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=m(_.as,_.crossOrigin);r.d.M(p,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(p)},ct.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,v=m(E,_.crossOrigin);r.d.L(p,E,{crossOrigin:v,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},ct.preloadModule=function(p,_){if(typeof p=="string")if(_){var E=m(_.as,_.crossOrigin);r.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(p)},ct.requestFormReset=function(p){r.d.r(p)},ct.unstable_batchedUpdates=function(p,_){return p(_)},ct.useFormState=function(p,_,E){return h.H.useFormState(p,_,E)},ct.useFormStatus=function(){return h.H.useHostTransitionStatus()},ct.version="19.2.0",ct}var $_;function d1(){if($_)return Oc.exports;$_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Oc.exports=h1(),Oc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep;function m1(){if(ep)return Ma;ep=1;var a=f1(),n=uf(),l=d1();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(f(e)!==e)throw Error(r(188))}function _(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,s=t;;){var u=i.return;if(u===null)break;var c=u.alternate;if(c===null){if(s=u.return,s!==null){i=s;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===i)return p(u),e;if(c===s)return p(u),t;c=c.sibling}throw Error(r(188))}if(i.return!==s.return)i=u,s=c;else{for(var d=!1,g=u.child;g;){if(g===i){d=!0,i=u,s=c;break}if(g===s){d=!0,s=u,i=c;break}g=g.sibling}if(!d){for(g=c.child;g;){if(g===i){d=!0,i=c,s=u;break}if(g===s){d=!0,s=c,i=u;break}g=g.sibling}if(!d)throw Error(r(189))}}if(i.alternate!==s)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function E(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=E(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),he=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),He=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),Be=Symbol.for("react.lazy"),$e=Symbol.for("react.activity"),dt=Symbol.for("react.memo_cache_sentinel"),mt=Symbol.iterator;function ve(e){return e===null||typeof e!="object"?null:(e=mt&&e[mt]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Symbol.for("react.client.reference");function Ge(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===xe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case Q:return"Profiler";case j:return"StrictMode";case He:return"Suspense";case we:return"SuspenseList";case $e:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case he:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case De:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return t=e.displayName||null,t!==null?t:Ge(e.type)||"Memo";case Be:t=e._payload,e=e._init;try{return Ge(e(t))}catch{}}return null}var Dt=Array.isArray,M=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ge=[],Ne=-1;function C(e){return{current:e}}function z(e){0>Ne||(e.current=ge[Ne],ge[Ne]=null,Ne--)}function k(e,t){Ne++,ge[Ne]=e.current,e.current=t}var Y=C(null),ee=C(null),se=C(null),ye=C(null);function _t(e,t){switch(k(se,t),k(ee,e),k(Y,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?__(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=__(t),e=p_(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(Y),k(Y,e)}function Ye(){z(Y),z(ee),z(se)}function Hl(e){e.memoizedState!==null&&k(ye,e);var t=Y.current,i=p_(t,e.type);t!==i&&(k(ee,e),k(Y,i))}function rs(e){ee.current===e&&(z(Y),z(ee)),ye.current===e&&(z(ye),Aa._currentValue=W)}var ru,Qf;function hi(e){if(ru===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);ru=t&&t[1]||"",Qf=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ru+e+Qf}var uu=!1;function ou(e,t){if(!e||uu)return"";uu=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var x=function(){throw Error()};if(Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(D){var R=D}Reflect.construct(e,[],x)}else{try{x.call()}catch(D){R=D}e.call(x.prototype)}}else{try{throw Error()}catch(D){R=D}(x=e())&&typeof x.catch=="function"&&x.catch(function(){})}}catch(D){if(D&&R&&typeof D.stack=="string")return[D.stack,R.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=s.DetermineComponentFrameRoot(),d=c[0],g=c[1];if(d&&g){var y=d.split(`
`),N=g.split(`
`);for(u=s=0;s<y.length&&!y[s].includes("DetermineComponentFrameRoot");)s++;for(;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;if(s===y.length||u===N.length)for(s=y.length-1,u=N.length-1;1<=s&&0<=u&&y[s]!==N[u];)u--;for(;1<=s&&0<=u;s--,u--)if(y[s]!==N[u]){if(s!==1||u!==1)do if(s--,u--,0>u||y[s]!==N[u]){var w=`
`+y[s].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=s&&0<=u);break}}}finally{uu=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?hi(i):""}function Iy(e,t){switch(e.tag){case 26:case 27:case 5:return hi(e.type);case 16:return hi("Lazy");case 13:return e.child!==t&&t!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return ou(e.type,!1);case 11:return ou(e.type.render,!1);case 1:return ou(e.type,!0);case 31:return hi("Activity");default:return""}}function Xf(e){try{var t="",i=null;do t+=Iy(e,i),i=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var cu=Object.prototype.hasOwnProperty,fu=a.unstable_scheduleCallback,hu=a.unstable_cancelCallback,jy=a.unstable_shouldYield,qy=a.unstable_requestPaint,wt=a.unstable_now,ky=a.unstable_getCurrentPriorityLevel,Kf=a.unstable_ImmediatePriority,Zf=a.unstable_UserBlockingPriority,us=a.unstable_NormalPriority,Gy=a.unstable_LowPriority,Ff=a.unstable_IdlePriority,Yy=a.log,Vy=a.unstable_setDisableYieldValue,Bl=null,Mt=null;function xn(e){if(typeof Yy=="function"&&Vy(e),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(Bl,e)}catch{}}var Ot=Math.clz32?Math.clz32:Ky,Qy=Math.log,Xy=Math.LN2;function Ky(e){return e>>>=0,e===0?32:31-(Qy(e)/Xy|0)|0}var os=256,cs=262144,fs=4194304;function di(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hs(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var u=0,c=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var g=s&134217727;return g!==0?(s=g&~c,s!==0?u=di(s):(d&=g,d!==0?u=di(d):i||(i=g&~e,i!==0&&(u=di(i))))):(g=s&~c,g!==0?u=di(g):d!==0?u=di(d):i||(i=s&~e,i!==0&&(u=di(i)))),u===0?0:t!==0&&t!==u&&(t&c)===0&&(c=u&-u,i=t&-t,c>=i||c===32&&(i&4194048)!==0)?t:u}function Il(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Zy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wf(){var e=fs;return fs<<=1,(fs&62914560)===0&&(fs=4194304),e}function du(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function jl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fy(e,t,i,s,u,c){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var g=e.entanglements,y=e.expirationTimes,N=e.hiddenUpdates;for(i=d&~i;0<i;){var w=31-Ot(i),x=1<<w;g[w]=0,y[w]=-1;var R=N[w];if(R!==null)for(N[w]=null,w=0;w<R.length;w++){var D=R[w];D!==null&&(D.lane&=-536870913)}i&=~x}s!==0&&Jf(e,s,0),c!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=c&~(d&~t))}function Jf(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Ot(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function Pf(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-Ot(i),u=1<<s;u&t|e[s]&t&&(e[s]|=t),i&=~u}}function $f(e,t){var i=t&-t;return i=(i&42)!==0?1:mu(i),(i&(e.suspendedLanes|t))!==0?0:i}function mu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _u(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function eh(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:j_(e.type))}function th(e,t){var i=H.p;try{return H.p=e,t()}finally{H.p=i}}var zn=Math.random().toString(36).slice(2),at="__reactFiber$"+zn,yt="__reactProps$"+zn,ki="__reactContainer$"+zn,pu="__reactEvents$"+zn,Wy="__reactListeners$"+zn,Jy="__reactHandles$"+zn,nh="__reactResources$"+zn,ql="__reactMarker$"+zn;function gu(e){delete e[at],delete e[yt],delete e[pu],delete e[Wy],delete e[Jy]}function Gi(e){var t=e[at];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ki]||i[at]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=C_(e);e!==null;){if(i=e[at])return i;e=C_(e)}return t}e=i,i=e.parentNode}return null}function Yi(e){if(e=e[at]||e[ki]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function kl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Vi(e){var t=e[nh];return t||(t=e[nh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[ql]=!0}var ih=new Set,lh={};function mi(e,t){Qi(e,t),Qi(e+"Capture",t)}function Qi(e,t){for(lh[e]=t,e=0;e<t.length;e++)ih.add(t[e])}var Py=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ah={},sh={};function $y(e){return cu.call(sh,e)?!0:cu.call(ah,e)?!1:Py.test(e)?sh[e]=!0:(ah[e]=!0,!1)}function ds(e,t,i){if($y(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function ms(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function on(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}function jt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ev(e,t,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,c=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(d){i=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yu(e){if(!e._valueTracker){var t=rh(e)?"checked":"value";e._valueTracker=ev(e,t,""+e[t])}}function uh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=rh(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function _s(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tv=/[\n"\\]/g;function qt(e){return e.replace(tv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function vu(e,t,i,s,u,c,d,g){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+jt(t)):e.value!==""+jt(t)&&(e.value=""+jt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?Su(e,d,jt(t)):i!=null?Su(e,d,jt(i)):s!=null&&e.removeAttribute("value"),u==null&&c!=null&&(e.defaultChecked=!!c),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+jt(g):e.removeAttribute("name")}function oh(e,t,i,s,u,c,d,g){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){yu(e);return}i=i!=null?""+jt(i):"",t=t!=null?""+jt(t):i,g||t===e.value||(e.value=t),e.defaultValue=t}s=s??u,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=g?e.checked:!!s,e.defaultChecked=!!s,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),yu(e)}function Su(e,t,i){t==="number"&&_s(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Xi(e,t,i,s){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&s&&(e[i].defaultSelected=!0)}else{for(i=""+jt(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function ch(e,t,i){if(t!=null&&(t=""+jt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+jt(i):""}function fh(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(r(92));if(Dt(s)){if(1<s.length)throw Error(r(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=jt(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),yu(e)}function Ki(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var nv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hh(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||nv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function dh(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var u in t)s=t[u],t.hasOwnProperty(u)&&i[u]!==s&&hh(e,u,s)}else for(var c in t)t.hasOwnProperty(c)&&hh(e,c,t[c])}function bu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ps(e){return lv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function cn(){}var Eu=null;function Cu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zi=null,Fi=null;function mh(e){var t=Yi(e);if(t&&(e=t.stateNode)){var i=e[yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(vu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+qt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var u=s[yt]||null;if(!u)throw Error(r(90));vu(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&uh(s)}break e;case"textarea":ch(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Xi(e,!!i.multiple,t,!1)}}}var Tu=!1;function _h(e,t,i){if(Tu)return e(t,i);Tu=!0;try{var s=e(t);return s}finally{if(Tu=!1,(Zi!==null||Fi!==null)&&(ir(),Zi&&(t=Zi,e=Fi,Fi=Zi=null,mh(t),e)))for(t=0;t<e.length;t++)mh(e[t])}}function Gl(e,t){var i=e.stateNode;if(i===null)return null;var s=i[yt]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Au=!1;if(fn)try{var Yl={};Object.defineProperty(Yl,"passive",{get:function(){Au=!0}}),window.addEventListener("test",Yl,Yl),window.removeEventListener("test",Yl,Yl)}catch{Au=!1}var Un=null,Nu=null,gs=null;function ph(){if(gs)return gs;var e,t=Nu,i=t.length,s,u="value"in Un?Un.value:Un.textContent,c=u.length;for(e=0;e<i&&t[e]===u[e];e++);var d=i-e;for(s=1;s<=d&&t[i-s]===u[c-s];s++);return gs=u.slice(e,1<s?1-s:void 0)}function ys(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vs(){return!0}function gh(){return!1}function vt(e){function t(i,s,u,c,d){this._reactName=i,this._targetInst=u,this.type=s,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(i=e[g],this[g]=i?i(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?vs:gh,this.isPropagationStopped=gh,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),t}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ss=vt(_i),Vl=v({},_i,{view:0,detail:0}),av=vt(Vl),Ru,Du,Ql,bs=v({},Vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ql&&(Ql&&e.type==="mousemove"?(Ru=e.screenX-Ql.screenX,Du=e.screenY-Ql.screenY):Du=Ru=0,Ql=e),Ru)},movementY:function(e){return"movementY"in e?e.movementY:Du}}),yh=vt(bs),sv=v({},bs,{dataTransfer:0}),rv=vt(sv),uv=v({},Vl,{relatedTarget:0}),wu=vt(uv),ov=v({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),cv=vt(ov),fv=v({},_i,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hv=vt(fv),dv=v({},_i,{data:0}),vh=vt(dv),mv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_v={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pv[e])?!!t[e]:!1}function Mu(){return gv}var yv=v({},Vl,{key:function(e){if(e.key){var t=mv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_v[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mu,charCode:function(e){return e.type==="keypress"?ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vv=vt(yv),Sv=v({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sh=vt(Sv),bv=v({},Vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mu}),Ev=vt(bv),Cv=v({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tv=vt(Cv),Av=v({},bs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nv=vt(Av),Rv=v({},_i,{newState:0,oldState:0}),Dv=vt(Rv),wv=[9,13,27,32],Ou=fn&&"CompositionEvent"in window,Xl=null;fn&&"documentMode"in document&&(Xl=document.documentMode);var Mv=fn&&"TextEvent"in window&&!Xl,bh=fn&&(!Ou||Xl&&8<Xl&&11>=Xl),Eh=" ",Ch=!1;function Th(e,t){switch(e){case"keyup":return wv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ah(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wi=!1;function Ov(e,t){switch(e){case"compositionend":return Ah(t);case"keypress":return t.which!==32?null:(Ch=!0,Eh);case"textInput":return e=t.data,e===Eh&&Ch?null:e;default:return null}}function xv(e,t){if(Wi)return e==="compositionend"||!Ou&&Th(e,t)?(e=ph(),gs=Nu=Un=null,Wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bh&&t.locale!=="ko"?null:t.data;default:return null}}var zv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zv[e.type]:t==="textarea"}function Rh(e,t,i,s){Zi?Fi?Fi.push(s):Fi=[s]:Zi=s,t=cr(t,"onChange"),0<t.length&&(i=new Ss("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var Kl=null,Zl=null;function Uv(e){o_(e,0)}function Es(e){var t=kl(e);if(uh(t))return e}function Dh(e,t){if(e==="change")return t}var wh=!1;if(fn){var xu;if(fn){var zu="oninput"in document;if(!zu){var Mh=document.createElement("div");Mh.setAttribute("oninput","return;"),zu=typeof Mh.oninput=="function"}xu=zu}else xu=!1;wh=xu&&(!document.documentMode||9<document.documentMode)}function Oh(){Kl&&(Kl.detachEvent("onpropertychange",xh),Zl=Kl=null)}function xh(e){if(e.propertyName==="value"&&Es(Zl)){var t=[];Rh(t,Zl,e,Cu(e)),_h(Uv,t)}}function Lv(e,t,i){e==="focusin"?(Oh(),Kl=t,Zl=i,Kl.attachEvent("onpropertychange",xh)):e==="focusout"&&Oh()}function Hv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Es(Zl)}function Bv(e,t){if(e==="click")return Es(t)}function Iv(e,t){if(e==="input"||e==="change")return Es(t)}function jv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:jv;function Fl(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var u=i[s];if(!cu.call(t,u)||!xt(e[u],t[u]))return!1}return!0}function zh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uh(e,t){var i=zh(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=zh(i)}}function Lh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=_s(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=_s(e.document)}return t}function Uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var qv=fn&&"documentMode"in document&&11>=document.documentMode,Ji=null,Lu=null,Wl=null,Hu=!1;function Bh(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Hu||Ji==null||Ji!==_s(s)||(s=Ji,"selectionStart"in s&&Uu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Wl&&Fl(Wl,s)||(Wl=s,s=cr(Lu,"onSelect"),0<s.length&&(t=new Ss("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=Ji)))}function pi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Pi={animationend:pi("Animation","AnimationEnd"),animationiteration:pi("Animation","AnimationIteration"),animationstart:pi("Animation","AnimationStart"),transitionrun:pi("Transition","TransitionRun"),transitionstart:pi("Transition","TransitionStart"),transitioncancel:pi("Transition","TransitionCancel"),transitionend:pi("Transition","TransitionEnd")},Bu={},Ih={};fn&&(Ih=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function gi(e){if(Bu[e])return Bu[e];if(!Pi[e])return e;var t=Pi[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Ih)return Bu[e]=t[i];return e}var jh=gi("animationend"),qh=gi("animationiteration"),kh=gi("animationstart"),kv=gi("transitionrun"),Gv=gi("transitionstart"),Yv=gi("transitioncancel"),Gh=gi("transitionend"),Yh=new Map,Iu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Iu.push("scrollEnd");function Ft(e,t){Yh.set(e,t),mi(t,[e])}var Cs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kt=[],$i=0,ju=0;function Ts(){for(var e=$i,t=ju=$i=0;t<e;){var i=kt[t];kt[t++]=null;var s=kt[t];kt[t++]=null;var u=kt[t];kt[t++]=null;var c=kt[t];if(kt[t++]=null,s!==null&&u!==null){var d=s.pending;d===null?u.next=u:(u.next=d.next,d.next=u),s.pending=u}c!==0&&Vh(i,u,c)}}function As(e,t,i,s){kt[$i++]=e,kt[$i++]=t,kt[$i++]=i,kt[$i++]=s,ju|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function qu(e,t,i,s){return As(e,t,i,s),Ns(e)}function yi(e,t){return As(e,null,null,t),Ns(e)}function Vh(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var u=!1,c=e.return;c!==null;)c.childLanes|=i,s=c.alternate,s!==null&&(s.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(u=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,u&&t!==null&&(u=31-Ot(i),e=c.hiddenUpdates,s=e[u],s===null?e[u]=[t]:s.push(t),t.lane=i|536870912),c):null}function Ns(e){if(50<ya)throw ya=0,Wo=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var el={};function Vv(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,i,s){return new Vv(e,t,i,s)}function ku(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hn(e,t){var i=e.alternate;return i===null?(i=zt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Qh(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Rs(e,t,i,s,u,c){var d=0;if(s=e,typeof e=="function")ku(e)&&(d=1);else if(typeof e=="string")d=F0(e,i,Y.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case $e:return e=zt(31,i,t,u),e.elementType=$e,e.lanes=c,e;case K:return vi(i.children,u,c,t);case j:d=8,u|=24;break;case Q:return e=zt(12,i,t,u|2),e.elementType=Q,e.lanes=c,e;case He:return e=zt(13,i,t,u),e.elementType=He,e.lanes=c,e;case we:return e=zt(19,i,t,u),e.elementType=we,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case he:d=10;break e;case X:d=9;break e;case De:d=11;break e;case F:d=14;break e;case Be:d=16,s=null;break e}d=29,i=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=zt(d,i,t,u),t.elementType=e,t.type=s,t.lanes=c,t}function vi(e,t,i,s){return e=zt(7,e,s,t),e.lanes=i,e}function Gu(e,t,i){return e=zt(6,e,null,t),e.lanes=i,e}function Xh(e){var t=zt(18,null,null,0);return t.stateNode=e,t}function Yu(e,t,i){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kh=new WeakMap;function Gt(e,t){if(typeof e=="object"&&e!==null){var i=Kh.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Xf(t)},Kh.set(e,t),t)}return{value:e,source:t,stack:Xf(t)}}var tl=[],nl=0,Ds=null,Jl=0,Yt=[],Vt=0,Ln=null,nn=1,ln="";function dn(e,t){tl[nl++]=Jl,tl[nl++]=Ds,Ds=e,Jl=t}function Zh(e,t,i){Yt[Vt++]=nn,Yt[Vt++]=ln,Yt[Vt++]=Ln,Ln=e;var s=nn;e=ln;var u=32-Ot(s)-1;s&=~(1<<u),i+=1;var c=32-Ot(t)+u;if(30<c){var d=u-u%5;c=(s&(1<<d)-1).toString(32),s>>=d,u-=d,nn=1<<32-Ot(t)+u|i<<u|s,ln=c+e}else nn=1<<c|i<<u|s,ln=e}function Vu(e){e.return!==null&&(dn(e,1),Zh(e,1,0))}function Qu(e){for(;e===Ds;)Ds=tl[--nl],tl[nl]=null,Jl=tl[--nl],tl[nl]=null;for(;e===Ln;)Ln=Yt[--Vt],Yt[Vt]=null,ln=Yt[--Vt],Yt[Vt]=null,nn=Yt[--Vt],Yt[Vt]=null}function Fh(e,t){Yt[Vt++]=nn,Yt[Vt++]=ln,Yt[Vt++]=Ln,nn=t.id,ln=t.overflow,Ln=e}var st=null,ze=null,fe=!1,Hn=null,Qt=!1,Xu=Error(r(519));function Bn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pl(Gt(t,e)),Xu}function Wh(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[at]=e,t[yt]=s,i){case"dialog":ue("cancel",t),ue("close",t);break;case"iframe":case"object":case"embed":ue("load",t);break;case"video":case"audio":for(i=0;i<Sa.length;i++)ue(Sa[i],t);break;case"source":ue("error",t);break;case"img":case"image":case"link":ue("error",t),ue("load",t);break;case"details":ue("toggle",t);break;case"input":ue("invalid",t),oh(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ue("invalid",t);break;case"textarea":ue("invalid",t),fh(t,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||d_(t.textContent,i)?(s.popover!=null&&(ue("beforetoggle",t),ue("toggle",t)),s.onScroll!=null&&ue("scroll",t),s.onScrollEnd!=null&&ue("scrollend",t),s.onClick!=null&&(t.onclick=cn),t=!0):t=!1,t||Bn(e,!0)}function Jh(e){for(st=e.return;st;)switch(st.tag){case 5:case 31:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:st=st.return}}function il(e){if(e!==st)return!1;if(!fe)return Jh(e),fe=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||fc(e.type,e.memoizedProps)),i=!i),i&&ze&&Bn(e),Jh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ze=E_(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ze=E_(e)}else t===27?(t=ze,Jn(e.type)?(e=pc,pc=null,ze=e):ze=t):ze=st?Kt(e.stateNode.nextSibling):null;return!0}function Si(){ze=st=null,fe=!1}function Ku(){var e=Hn;return e!==null&&(Ct===null?Ct=e:Ct.push.apply(Ct,e),Hn=null),e}function Pl(e){Hn===null?Hn=[e]:Hn.push(e)}var Zu=C(null),bi=null,mn=null;function In(e,t,i){k(Zu,t._currentValue),t._currentValue=i}function _n(e){e._currentValue=Zu.current,z(Zu)}function Fu(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function Wu(e,t,i,s){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var c=u.dependencies;if(c!==null){var d=u.child;c=c.firstContext;e:for(;c!==null;){var g=c;c=u;for(var y=0;y<t.length;y++)if(g.context===t[y]){c.lanes|=i,g=c.alternate,g!==null&&(g.lanes|=i),Fu(c.return,i,e),s||(d=null);break e}c=g.next}}else if(u.tag===18){if(d=u.return,d===null)throw Error(r(341));d.lanes|=i,c=d.alternate,c!==null&&(c.lanes|=i),Fu(d,i,e),d=null}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===e){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}}function ll(e,t,i,s){e=null;for(var u=t,c=!1;u!==null;){if(!c){if((u.flags&524288)!==0)c=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var d=u.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var g=u.type;xt(u.pendingProps.value,d.value)||(e!==null?e.push(g):e=[g])}}else if(u===ye.current){if(d=u.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Aa):e=[Aa])}u=u.return}e!==null&&Wu(t,e,i,s),t.flags|=262144}function ws(e){for(e=e.firstContext;e!==null;){if(!xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ei(e){bi=e,mn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rt(e){return Ph(bi,e)}function Ms(e,t){return bi===null&&Ei(e),Ph(e,t)}function Ph(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},mn===null){if(e===null)throw Error(r(308));mn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else mn=mn.next=t;return i}var Qv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Xv=a.unstable_scheduleCallback,Kv=a.unstable_NormalPriority,Xe={$$typeof:he,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ju(){return{controller:new Qv,data:new Map,refCount:0}}function $l(e){e.refCount--,e.refCount===0&&Xv(Kv,function(){e.controller.abort()})}var ea=null,Pu=0,al=0,sl=null;function Zv(e,t){if(ea===null){var i=ea=[];Pu=0,al=nc(),sl={status:"pending",value:void 0,then:function(s){i.push(s)}}}return Pu++,t.then($h,$h),t}function $h(){if(--Pu===0&&ea!==null){sl!==null&&(sl.status="fulfilled");var e=ea;ea=null,al=0,sl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Fv(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var u=0;u<i.length;u++)(0,i[u])(t)},function(u){for(s.status="rejected",s.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),s}var ed=M.S;M.S=function(e,t){Bm=wt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Zv(e,t),ed!==null&&ed(e,t)};var Ci=C(null);function $u(){var e=Ci.current;return e!==null?e:Re.pooledCache}function Os(e,t){t===null?k(Ci,Ci.current):k(Ci,t.pool)}function td(){var e=$u();return e===null?null:{parent:Xe._currentValue,pool:e}}var rl=Error(r(460)),eo=Error(r(474)),xs=Error(r(542)),zs={then:function(){}};function nd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function id(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(cn,cn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ad(e),e;default:if(typeof t.status=="string")t.then(cn,cn);else{if(e=Re,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=s}},function(s){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ad(e),e}throw Ai=t,rl}}function Ti(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ai=i,rl):i}}var Ai=null;function ld(){if(Ai===null)throw Error(r(459));var e=Ai;return Ai=null,e}function ad(e){if(e===rl||e===xs)throw Error(r(483))}var ul=null,ta=0;function Us(e){var t=ta;return ta+=1,ul===null&&(ul=[]),id(ul,e,t)}function na(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ls(e,t){throw t.$$typeof===S?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function sd(e){function t(T,b){if(e){var A=T.deletions;A===null?(T.deletions=[b],T.flags|=16):A.push(b)}}function i(T,b){if(!e)return null;for(;b!==null;)t(T,b),b=b.sibling;return null}function s(T){for(var b=new Map;T!==null;)T.key!==null?b.set(T.key,T):b.set(T.index,T),T=T.sibling;return b}function u(T,b){return T=hn(T,b),T.index=0,T.sibling=null,T}function c(T,b,A){return T.index=A,e?(A=T.alternate,A!==null?(A=A.index,A<b?(T.flags|=67108866,b):A):(T.flags|=67108866,b)):(T.flags|=1048576,b)}function d(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function g(T,b,A,O){return b===null||b.tag!==6?(b=Gu(A,T.mode,O),b.return=T,b):(b=u(b,A),b.return=T,b)}function y(T,b,A,O){var Z=A.type;return Z===K?w(T,b,A.props.children,O,A.key):b!==null&&(b.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Be&&Ti(Z)===b.type)?(b=u(b,A.props),na(b,A),b.return=T,b):(b=Rs(A.type,A.key,A.props,null,T.mode,O),na(b,A),b.return=T,b)}function N(T,b,A,O){return b===null||b.tag!==4||b.stateNode.containerInfo!==A.containerInfo||b.stateNode.implementation!==A.implementation?(b=Yu(A,T.mode,O),b.return=T,b):(b=u(b,A.children||[]),b.return=T,b)}function w(T,b,A,O,Z){return b===null||b.tag!==7?(b=vi(A,T.mode,O,Z),b.return=T,b):(b=u(b,A),b.return=T,b)}function x(T,b,A){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Gu(""+b,T.mode,A),b.return=T,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case U:return A=Rs(b.type,b.key,b.props,null,T.mode,A),na(A,b),A.return=T,A;case B:return b=Yu(b,T.mode,A),b.return=T,b;case Be:return b=Ti(b),x(T,b,A)}if(Dt(b)||ve(b))return b=vi(b,T.mode,A,null),b.return=T,b;if(typeof b.then=="function")return x(T,Us(b),A);if(b.$$typeof===he)return x(T,Ms(T,b),A);Ls(T,b)}return null}function R(T,b,A,O){var Z=b!==null?b.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return Z!==null?null:g(T,b,""+A,O);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case U:return A.key===Z?y(T,b,A,O):null;case B:return A.key===Z?N(T,b,A,O):null;case Be:return A=Ti(A),R(T,b,A,O)}if(Dt(A)||ve(A))return Z!==null?null:w(T,b,A,O,null);if(typeof A.then=="function")return R(T,b,Us(A),O);if(A.$$typeof===he)return R(T,b,Ms(T,A),O);Ls(T,A)}return null}function D(T,b,A,O,Z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return T=T.get(A)||null,g(b,T,""+O,Z);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case U:return T=T.get(O.key===null?A:O.key)||null,y(b,T,O,Z);case B:return T=T.get(O.key===null?A:O.key)||null,N(b,T,O,Z);case Be:return O=Ti(O),D(T,b,A,O,Z)}if(Dt(O)||ve(O))return T=T.get(A)||null,w(b,T,O,Z,null);if(typeof O.then=="function")return D(T,b,A,Us(O),Z);if(O.$$typeof===he)return D(T,b,A,Ms(b,O),Z);Ls(b,O)}return null}function G(T,b,A,O){for(var Z=null,de=null,V=b,ne=b=0,ce=null;V!==null&&ne<A.length;ne++){V.index>ne?(ce=V,V=null):ce=V.sibling;var me=R(T,V,A[ne],O);if(me===null){V===null&&(V=ce);break}e&&V&&me.alternate===null&&t(T,V),b=c(me,b,ne),de===null?Z=me:de.sibling=me,de=me,V=ce}if(ne===A.length)return i(T,V),fe&&dn(T,ne),Z;if(V===null){for(;ne<A.length;ne++)V=x(T,A[ne],O),V!==null&&(b=c(V,b,ne),de===null?Z=V:de.sibling=V,de=V);return fe&&dn(T,ne),Z}for(V=s(V);ne<A.length;ne++)ce=D(V,T,ne,A[ne],O),ce!==null&&(e&&ce.alternate!==null&&V.delete(ce.key===null?ne:ce.key),b=c(ce,b,ne),de===null?Z=ce:de.sibling=ce,de=ce);return e&&V.forEach(function(ni){return t(T,ni)}),fe&&dn(T,ne),Z}function J(T,b,A,O){if(A==null)throw Error(r(151));for(var Z=null,de=null,V=b,ne=b=0,ce=null,me=A.next();V!==null&&!me.done;ne++,me=A.next()){V.index>ne?(ce=V,V=null):ce=V.sibling;var ni=R(T,V,me.value,O);if(ni===null){V===null&&(V=ce);break}e&&V&&ni.alternate===null&&t(T,V),b=c(ni,b,ne),de===null?Z=ni:de.sibling=ni,de=ni,V=ce}if(me.done)return i(T,V),fe&&dn(T,ne),Z;if(V===null){for(;!me.done;ne++,me=A.next())me=x(T,me.value,O),me!==null&&(b=c(me,b,ne),de===null?Z=me:de.sibling=me,de=me);return fe&&dn(T,ne),Z}for(V=s(V);!me.done;ne++,me=A.next())me=D(V,T,ne,me.value,O),me!==null&&(e&&me.alternate!==null&&V.delete(me.key===null?ne:me.key),b=c(me,b,ne),de===null?Z=me:de.sibling=me,de=me);return e&&V.forEach(function(s1){return t(T,s1)}),fe&&dn(T,ne),Z}function Te(T,b,A,O){if(typeof A=="object"&&A!==null&&A.type===K&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case U:e:{for(var Z=A.key;b!==null;){if(b.key===Z){if(Z=A.type,Z===K){if(b.tag===7){i(T,b.sibling),O=u(b,A.props.children),O.return=T,T=O;break e}}else if(b.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Be&&Ti(Z)===b.type){i(T,b.sibling),O=u(b,A.props),na(O,A),O.return=T,T=O;break e}i(T,b);break}else t(T,b);b=b.sibling}A.type===K?(O=vi(A.props.children,T.mode,O,A.key),O.return=T,T=O):(O=Rs(A.type,A.key,A.props,null,T.mode,O),na(O,A),O.return=T,T=O)}return d(T);case B:e:{for(Z=A.key;b!==null;){if(b.key===Z)if(b.tag===4&&b.stateNode.containerInfo===A.containerInfo&&b.stateNode.implementation===A.implementation){i(T,b.sibling),O=u(b,A.children||[]),O.return=T,T=O;break e}else{i(T,b);break}else t(T,b);b=b.sibling}O=Yu(A,T.mode,O),O.return=T,T=O}return d(T);case Be:return A=Ti(A),Te(T,b,A,O)}if(Dt(A))return G(T,b,A,O);if(ve(A)){if(Z=ve(A),typeof Z!="function")throw Error(r(150));return A=Z.call(A),J(T,b,A,O)}if(typeof A.then=="function")return Te(T,b,Us(A),O);if(A.$$typeof===he)return Te(T,b,Ms(T,A),O);Ls(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,b!==null&&b.tag===6?(i(T,b.sibling),O=u(b,A),O.return=T,T=O):(i(T,b),O=Gu(A,T.mode,O),O.return=T,T=O),d(T)):i(T,b)}return function(T,b,A,O){try{ta=0;var Z=Te(T,b,A,O);return ul=null,Z}catch(V){if(V===rl||V===xs)throw V;var de=zt(29,V,null,T.mode);return de.lanes=O,de.return=T,de}finally{}}}var Ni=sd(!0),rd=sd(!1),jn=!1;function to(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function no(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function kn(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(pe&2)!==0){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,t=Ns(e),Vh(e,null,i),t}return As(e,s,t,i),Ns(e)}function ia(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Pf(e,i)}}function io(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var u=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?u=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?u=c=t:c=c.next=t}else u=c=t;i={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var lo=!1;function la(){if(lo){var e=sl;if(e!==null)throw e}}function aa(e,t,i,s){lo=!1;var u=e.updateQueue;jn=!1;var c=u.firstBaseUpdate,d=u.lastBaseUpdate,g=u.shared.pending;if(g!==null){u.shared.pending=null;var y=g,N=y.next;y.next=null,d===null?c=N:d.next=N,d=y;var w=e.alternate;w!==null&&(w=w.updateQueue,g=w.lastBaseUpdate,g!==d&&(g===null?w.firstBaseUpdate=N:g.next=N,w.lastBaseUpdate=y))}if(c!==null){var x=u.baseState;d=0,w=N=y=null,g=c;do{var R=g.lane&-536870913,D=R!==g.lane;if(D?(oe&R)===R:(s&R)===R){R!==0&&R===al&&(lo=!0),w!==null&&(w=w.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var G=e,J=g;R=t;var Te=i;switch(J.tag){case 1:if(G=J.payload,typeof G=="function"){x=G.call(Te,x,R);break e}x=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=J.payload,R=typeof G=="function"?G.call(Te,x,R):G,R==null)break e;x=v({},x,R);break e;case 2:jn=!0}}R=g.callback,R!==null&&(e.flags|=64,D&&(e.flags|=8192),D=u.callbacks,D===null?u.callbacks=[R]:D.push(R))}else D={lane:R,tag:g.tag,payload:g.payload,callback:g.callback,next:null},w===null?(N=w=D,y=x):w=w.next=D,d|=R;if(g=g.next,g===null){if(g=u.shared.pending,g===null)break;D=g,g=D.next,D.next=null,u.lastBaseUpdate=D,u.shared.pending=null}}while(!0);w===null&&(y=x),u.baseState=y,u.firstBaseUpdate=N,u.lastBaseUpdate=w,c===null&&(u.shared.lanes=0),Xn|=d,e.lanes=d,e.memoizedState=x}}function ud(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function od(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)ud(i[e],t)}var ol=C(null),Hs=C(0);function cd(e,t){e=Tn,k(Hs,e),k(ol,t),Tn=e|t.baseLanes}function ao(){k(Hs,Tn),k(ol,ol.current)}function so(){Tn=Hs.current,z(ol),z(Hs)}var Ut=C(null),Xt=null;function Gn(e){var t=e.alternate;k(Ve,Ve.current&1),k(Ut,e),Xt===null&&(t===null||ol.current!==null||t.memoizedState!==null)&&(Xt=e)}function ro(e){k(Ve,Ve.current),k(Ut,e),Xt===null&&(Xt=e)}function fd(e){e.tag===22?(k(Ve,Ve.current),k(Ut,e),Xt===null&&(Xt=e)):Yn()}function Yn(){k(Ve,Ve.current),k(Ut,Ut.current)}function Lt(e){z(Ut),Xt===e&&(Xt=null),z(Ve)}var Ve=C(0);function Bs(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||mc(i)||_c(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pn=0,te=null,Ee=null,Ke=null,Is=!1,cl=!1,Ri=!1,js=0,sa=0,fl=null,Wv=0;function qe(){throw Error(r(321))}function uo(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!xt(e[i],t[i]))return!1;return!0}function oo(e,t,i,s,u,c){return pn=c,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?Zd:Ao,Ri=!1,c=i(s,u),Ri=!1,cl&&(c=dd(t,i,s,u)),hd(e),c}function hd(e){M.H=oa;var t=Ee!==null&&Ee.next!==null;if(pn=0,Ke=Ee=te=null,Is=!1,sa=0,fl=null,t)throw Error(r(300));e===null||Ze||(e=e.dependencies,e!==null&&ws(e)&&(Ze=!0))}function dd(e,t,i,s){te=e;var u=0;do{if(cl&&(fl=null),sa=0,cl=!1,25<=u)throw Error(r(301));if(u+=1,Ke=Ee=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}M.H=Fd,c=t(i,s)}while(cl);return c}function Jv(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?ra(t):t,e=e.useState()[0],(Ee!==null?Ee.memoizedState:null)!==e&&(te.flags|=1024),t}function co(){var e=js!==0;return js=0,e}function fo(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function ho(e){if(Is){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Is=!1}pn=0,Ke=Ee=te=null,cl=!1,sa=js=0,fl=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?te.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Qe(){if(Ee===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Ke===null?te.memoizedState:Ke.next;if(t!==null)Ke=t,Ee=e;else{if(e===null)throw te.alternate===null?Error(r(467)):Error(r(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Ke===null?te.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function qs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ra(e){var t=sa;return sa+=1,fl===null&&(fl=[]),e=id(fl,e,t),t=te,(Ke===null?t.memoizedState:Ke.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?Zd:Ao),e}function ks(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ra(e);if(e.$$typeof===he)return rt(e)}throw Error(r(438,String(e)))}function mo(e){var t=null,i=te.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=te.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=qs(),te.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=dt;return t.index++,i}function gn(e,t){return typeof t=="function"?t(e):t}function Gs(e){var t=Qe();return _o(t,Ee,e)}function _o(e,t,i){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=i;var u=e.baseQueue,c=s.pending;if(c!==null){if(u!==null){var d=u.next;u.next=c.next,c.next=d}t.baseQueue=u=c,s.pending=null}if(c=e.baseState,u===null)e.memoizedState=c;else{t=u.next;var g=d=null,y=null,N=t,w=!1;do{var x=N.lane&-536870913;if(x!==N.lane?(oe&x)===x:(pn&x)===x){var R=N.revertLane;if(R===0)y!==null&&(y=y.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),x===al&&(w=!0);else if((pn&R)===R){N=N.next,R===al&&(w=!0);continue}else x={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},y===null?(g=y=x,d=c):y=y.next=x,te.lanes|=R,Xn|=R;x=N.action,Ri&&i(c,x),c=N.hasEagerState?N.eagerState:i(c,x)}else R={lane:x,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},y===null?(g=y=R,d=c):y=y.next=R,te.lanes|=x,Xn|=x;N=N.next}while(N!==null&&N!==t);if(y===null?d=c:y.next=g,!xt(c,e.memoizedState)&&(Ze=!0,w&&(i=sl,i!==null)))throw i;e.memoizedState=c,e.baseState=d,e.baseQueue=y,s.lastRenderedState=c}return u===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function po(e){var t=Qe(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var s=i.dispatch,u=i.pending,c=t.memoizedState;if(u!==null){i.pending=null;var d=u=u.next;do c=e(c,d.action),d=d.next;while(d!==u);xt(c,t.memoizedState)||(Ze=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,s]}function md(e,t,i){var s=te,u=Qe(),c=fe;if(c){if(i===void 0)throw Error(r(407));i=i()}else i=t();var d=!xt((Ee||u).memoizedState,i);if(d&&(u.memoizedState=i,Ze=!0),u=u.queue,vo(gd.bind(null,s,u,e),[e]),u.getSnapshot!==t||d||Ke!==null&&Ke.memoizedState.tag&1){if(s.flags|=2048,hl(9,{destroy:void 0},pd.bind(null,s,u,i,t),null),Re===null)throw Error(r(349));c||(pn&127)!==0||_d(s,t,i)}return i}function _d(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=te.updateQueue,t===null?(t=qs(),te.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function pd(e,t,i,s){t.value=i,t.getSnapshot=s,yd(t)&&vd(e)}function gd(e,t,i){return i(function(){yd(t)&&vd(e)})}function yd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!xt(e,i)}catch{return!0}}function vd(e){var t=yi(e,2);t!==null&&Tt(t,e,2)}function go(e){var t=pt();if(typeof e=="function"){var i=e;if(e=i(),Ri){xn(!0);try{i()}finally{xn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:e},t}function Sd(e,t,i,s){return e.baseState=i,_o(e,Ee,typeof s=="function"?s:gn)}function Pv(e,t,i,s,u){if(Qs(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};M.T!==null?i(!0):c.isTransition=!1,s(c),i=t.pending,i===null?(c.next=t.pending=c,bd(t,c)):(c.next=i.next,t.pending=i.next=c)}}function bd(e,t){var i=t.action,s=t.payload,u=e.state;if(t.isTransition){var c=M.T,d={};M.T=d;try{var g=i(u,s),y=M.S;y!==null&&y(d,g),Ed(e,t,g)}catch(N){yo(e,t,N)}finally{c!==null&&d.types!==null&&(c.types=d.types),M.T=c}}else try{c=i(u,s),Ed(e,t,c)}catch(N){yo(e,t,N)}}function Ed(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){Cd(e,t,s)},function(s){return yo(e,t,s)}):Cd(e,t,i)}function Cd(e,t,i){t.status="fulfilled",t.value=i,Td(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,bd(e,i)))}function yo(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,Td(t),t=t.next;while(t!==s)}e.action=null}function Td(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ad(e,t){return t}function Nd(e,t){if(fe){var i=Re.formState;if(i!==null){e:{var s=te;if(fe){if(ze){t:{for(var u=ze,c=Qt;u.nodeType!==8;){if(!c){u=null;break t}if(u=Kt(u.nextSibling),u===null){u=null;break t}}c=u.data,u=c==="F!"||c==="F"?u:null}if(u){ze=Kt(u.nextSibling),s=u.data==="F!";break e}}Bn(s)}s=!1}s&&(t=i[0])}}return i=pt(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ad,lastRenderedState:t},i.queue=s,i=Qd.bind(null,te,s),s.dispatch=i,s=go(!1),c=To.bind(null,te,!1,s.queue),s=pt(),u={state:t,dispatch:null,action:e,pending:null},s.queue=u,i=Pv.bind(null,te,u,c,i),u.dispatch=i,s.memoizedState=e,[t,i,!1]}function Rd(e){var t=Qe();return Dd(t,Ee,e)}function Dd(e,t,i){if(t=_o(e,t,Ad)[0],e=Gs(gn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=ra(t)}catch(d){throw d===rl?xs:d}else s=t;t=Qe();var u=t.queue,c=u.dispatch;return i!==t.memoizedState&&(te.flags|=2048,hl(9,{destroy:void 0},$v.bind(null,u,i),null)),[s,c,e]}function $v(e,t){e.action=t}function wd(e){var t=Qe(),i=Ee;if(i!==null)return Dd(t,i,e);Qe(),t=t.memoizedState,i=Qe();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function hl(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=te.updateQueue,t===null&&(t=qs(),te.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function Md(){return Qe().memoizedState}function Ys(e,t,i,s){var u=pt();te.flags|=e,u.memoizedState=hl(1|t,{destroy:void 0},i,s===void 0?null:s)}function Vs(e,t,i,s){var u=Qe();s=s===void 0?null:s;var c=u.memoizedState.inst;Ee!==null&&s!==null&&uo(s,Ee.memoizedState.deps)?u.memoizedState=hl(t,c,i,s):(te.flags|=e,u.memoizedState=hl(1|t,c,i,s))}function Od(e,t){Ys(8390656,8,e,t)}function vo(e,t){Vs(2048,8,e,t)}function e0(e){te.flags|=4;var t=te.updateQueue;if(t===null)t=qs(),te.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function xd(e){var t=Qe().memoizedState;return e0({ref:t,nextImpl:e}),function(){if((pe&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function zd(e,t){return Vs(4,2,e,t)}function Ud(e,t){return Vs(4,4,e,t)}function Ld(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hd(e,t,i){i=i!=null?i.concat([e]):null,Vs(4,4,Ld.bind(null,t,e),i)}function So(){}function Bd(e,t){var i=Qe();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&uo(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function Id(e,t){var i=Qe();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&uo(t,s[1]))return s[0];if(s=e(),Ri){xn(!0);try{e()}finally{xn(!1)}}return i.memoizedState=[s,t],s}function bo(e,t,i){return i===void 0||(pn&1073741824)!==0&&(oe&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=jm(),te.lanes|=e,Xn|=e,i)}function jd(e,t,i,s){return xt(i,t)?i:ol.current!==null?(e=bo(e,i,s),xt(e,t)||(Ze=!0),e):(pn&42)===0||(pn&1073741824)!==0&&(oe&261930)===0?(Ze=!0,e.memoizedState=i):(e=jm(),te.lanes|=e,Xn|=e,t)}function qd(e,t,i,s,u){var c=H.p;H.p=c!==0&&8>c?c:8;var d=M.T,g={};M.T=g,To(e,!1,t,i);try{var y=u(),N=M.S;if(N!==null&&N(g,y),y!==null&&typeof y=="object"&&typeof y.then=="function"){var w=Fv(y,s);ua(e,t,w,It(e))}else ua(e,t,s,It(e))}catch(x){ua(e,t,{then:function(){},status:"rejected",reason:x},It())}finally{H.p=c,d!==null&&g.types!==null&&(d.types=g.types),M.T=d}}function t0(){}function Eo(e,t,i,s){if(e.tag!==5)throw Error(r(476));var u=kd(e).queue;qd(e,u,t,W,i===null?t0:function(){return Gd(e),i(s)})}function kd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:W},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Gd(e){var t=kd(e);t.next===null&&(t=e.alternate.memoizedState),ua(e,t.next.queue,{},It())}function Co(){return rt(Aa)}function Yd(){return Qe().memoizedState}function Vd(){return Qe().memoizedState}function n0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=It();e=qn(i);var s=kn(t,e,i);s!==null&&(Tt(s,t,i),ia(s,t,i)),t={cache:Ju()},e.payload=t;return}t=t.return}}function i0(e,t,i){var s=It();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Qs(e)?Xd(t,i):(i=qu(e,t,i,s),i!==null&&(Tt(i,e,s),Kd(i,t,s)))}function Qd(e,t,i){var s=It();ua(e,t,i,s)}function ua(e,t,i,s){var u={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Qs(e))Xd(t,u);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,g=c(d,i);if(u.hasEagerState=!0,u.eagerState=g,xt(g,d))return As(e,t,u,0),Re===null&&Ts(),!1}catch{}finally{}if(i=qu(e,t,u,s),i!==null)return Tt(i,e,s),Kd(i,t,s),!0}return!1}function To(e,t,i,s){if(s={lane:2,revertLane:nc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Qs(e)){if(t)throw Error(r(479))}else t=qu(e,i,s,2),t!==null&&Tt(t,e,2)}function Qs(e){var t=e.alternate;return e===te||t!==null&&t===te}function Xd(e,t){cl=Is=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Kd(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Pf(e,i)}}var oa={readContext:rt,use:ks,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe};oa.useEffectEvent=qe;var Zd={readContext:rt,use:ks,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:Od,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Ys(4194308,4,Ld.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ys(4194308,4,e,t)},useInsertionEffect:function(e,t){Ys(4,2,e,t)},useMemo:function(e,t){var i=pt();t=t===void 0?null:t;var s=e();if(Ri){xn(!0);try{e()}finally{xn(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=pt();if(i!==void 0){var u=i(t);if(Ri){xn(!0);try{i(t)}finally{xn(!1)}}}else u=t;return s.memoizedState=s.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},s.queue=e,e=e.dispatch=i0.bind(null,te,e),[s.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=go(e);var t=e.queue,i=Qd.bind(null,te,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:So,useDeferredValue:function(e,t){var i=pt();return bo(i,e,t)},useTransition:function(){var e=go(!1);return e=qd.bind(null,te,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=te,u=pt();if(fe){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),Re===null)throw Error(r(349));(oe&127)!==0||_d(s,t,i)}u.memoizedState=i;var c={value:i,getSnapshot:t};return u.queue=c,Od(gd.bind(null,s,c,e),[e]),s.flags|=2048,hl(9,{destroy:void 0},pd.bind(null,s,c,i,t),null),i},useId:function(){var e=pt(),t=Re.identifierPrefix;if(fe){var i=ln,s=nn;i=(s&~(1<<32-Ot(s)-1)).toString(32)+i,t="_"+t+"R_"+i,i=js++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=Wv++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Co,useFormState:Nd,useActionState:Nd,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=To.bind(null,te,!0,i),i.dispatch=t,[e,t]},useMemoCache:mo,useCacheRefresh:function(){return pt().memoizedState=n0.bind(null,te)},useEffectEvent:function(e){var t=pt(),i={impl:e};return t.memoizedState=i,function(){if((pe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},Ao={readContext:rt,use:ks,useCallback:Bd,useContext:rt,useEffect:vo,useImperativeHandle:Hd,useInsertionEffect:zd,useLayoutEffect:Ud,useMemo:Id,useReducer:Gs,useRef:Md,useState:function(){return Gs(gn)},useDebugValue:So,useDeferredValue:function(e,t){var i=Qe();return jd(i,Ee.memoizedState,e,t)},useTransition:function(){var e=Gs(gn)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:ra(e),t]},useSyncExternalStore:md,useId:Yd,useHostTransitionStatus:Co,useFormState:Rd,useActionState:Rd,useOptimistic:function(e,t){var i=Qe();return Sd(i,Ee,e,t)},useMemoCache:mo,useCacheRefresh:Vd};Ao.useEffectEvent=xd;var Fd={readContext:rt,use:ks,useCallback:Bd,useContext:rt,useEffect:vo,useImperativeHandle:Hd,useInsertionEffect:zd,useLayoutEffect:Ud,useMemo:Id,useReducer:po,useRef:Md,useState:function(){return po(gn)},useDebugValue:So,useDeferredValue:function(e,t){var i=Qe();return Ee===null?bo(i,e,t):jd(i,Ee.memoizedState,e,t)},useTransition:function(){var e=po(gn)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:ra(e),t]},useSyncExternalStore:md,useId:Yd,useHostTransitionStatus:Co,useFormState:wd,useActionState:wd,useOptimistic:function(e,t){var i=Qe();return Ee!==null?Sd(i,Ee,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:mo,useCacheRefresh:Vd};Fd.useEffectEvent=xd;function No(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:v({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ro={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=It(),u=qn(s);u.payload=t,i!=null&&(u.callback=i),t=kn(e,u,s),t!==null&&(Tt(t,e,s),ia(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=It(),u=qn(s);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=kn(e,u,s),t!==null&&(Tt(t,e,s),ia(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=It(),s=qn(i);s.tag=2,t!=null&&(s.callback=t),t=kn(e,s,i),t!==null&&(Tt(t,e,i),ia(t,e,i))}};function Wd(e,t,i,s,u,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,d):t.prototype&&t.prototype.isPureReactComponent?!Fl(i,s)||!Fl(u,c):!0}function Jd(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&Ro.enqueueReplaceState(t,t.state,null)}function Di(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=v({},i));for(var u in e)i[u]===void 0&&(i[u]=e[u])}return i}function Pd(e){Cs(e)}function $d(e){console.error(e)}function em(e){Cs(e)}function Xs(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function tm(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Do(e,t,i){return i=qn(i),i.tag=3,i.payload={element:null},i.callback=function(){Xs(e,t)},i}function nm(e){return e=qn(e),e.tag=3,e}function im(e,t,i,s){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var c=s.value;e.payload=function(){return u(c)},e.callback=function(){tm(t,i,s)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){tm(t,i,s),typeof u!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var g=s.stack;this.componentDidCatch(s.value,{componentStack:g!==null?g:""})})}function l0(e,t,i,s,u){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&ll(t,i,u,!0),i=Ut.current,i!==null){switch(i.tag){case 31:case 13:return Xt===null?lr():i.alternate===null&&ke===0&&(ke=3),i.flags&=-257,i.flags|=65536,i.lanes=u,s===zs?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),$o(e,s,u)),!1;case 22:return i.flags|=65536,s===zs?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),$o(e,s,u)),!1}throw Error(r(435,i.tag))}return $o(e,s,u),lr(),!1}if(fe)return t=Ut.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,s!==Xu&&(e=Error(r(422),{cause:s}),Pl(Gt(e,i)))):(s!==Xu&&(t=Error(r(423),{cause:s}),Pl(Gt(t,i))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,s=Gt(s,i),u=Do(e.stateNode,s,u),io(e,u),ke!==4&&(ke=2)),!1;var c=Error(r(520),{cause:s});if(c=Gt(c,i),ga===null?ga=[c]:ga.push(c),ke!==4&&(ke=2),t===null)return!0;s=Gt(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=u&-u,i.lanes|=e,e=Do(i.stateNode,s,e),io(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Kn===null||!Kn.has(c))))return i.flags|=65536,u&=-u,i.lanes|=u,u=nm(u),im(u,e,i,s),io(i,u),!1}i=i.return}while(i!==null);return!1}var wo=Error(r(461)),Ze=!1;function ut(e,t,i,s){t.child=e===null?rd(t,null,i,s):Ni(t,e.child,i,s)}function lm(e,t,i,s,u){i=i.render;var c=t.ref;if("ref"in s){var d={};for(var g in s)g!=="ref"&&(d[g]=s[g])}else d=s;return Ei(t),s=oo(e,t,i,d,c,u),g=co(),e!==null&&!Ze?(fo(e,t,u),yn(e,t,u)):(fe&&g&&Vu(t),t.flags|=1,ut(e,t,s,u),t.child)}function am(e,t,i,s,u){if(e===null){var c=i.type;return typeof c=="function"&&!ku(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,sm(e,t,c,s,u)):(e=Rs(i.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Bo(e,u)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:Fl,i(d,s)&&e.ref===t.ref)return yn(e,t,u)}return t.flags|=1,e=hn(c,s),e.ref=t.ref,e.return=t,t.child=e}function sm(e,t,i,s,u){if(e!==null){var c=e.memoizedProps;if(Fl(c,s)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=s=c,Bo(e,u))(e.flags&131072)!==0&&(Ze=!0);else return t.lanes=e.lanes,yn(e,t,u)}return Mo(e,t,i,s,u)}function rm(e,t,i,s){var u=s.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|i:i,e!==null){for(s=t.child=e.child,u=0;s!==null;)u=u|s.lanes|s.childLanes,s=s.sibling;s=u&~c}else s=0,t.child=null;return um(e,t,c,i,s)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Os(t,c!==null?c.cachePool:null),c!==null?cd(t,c):ao(),fd(t);else return s=t.lanes=536870912,um(e,t,c!==null?c.baseLanes|i:i,i,s)}else c!==null?(Os(t,c.cachePool),cd(t,c),Yn(),t.memoizedState=null):(e!==null&&Os(t,null),ao(),Yn());return ut(e,t,u,i),t.child}function ca(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function um(e,t,i,s,u){var c=$u();return c=c===null?null:{parent:Xe._currentValue,pool:c},t.memoizedState={baseLanes:i,cachePool:c},e!==null&&Os(t,null),ao(),fd(t),e!==null&&ll(e,t,s,!0),t.childLanes=u,null}function Ks(e,t){return t=Fs({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function om(e,t,i){return Ni(t,e.child,null,i),e=Ks(t,t.pendingProps),e.flags|=2,Lt(t),t.memoizedState=null,e}function a0(e,t,i){var s=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(fe){if(s.mode==="hidden")return e=Ks(t,s),t.lanes=536870912,ca(null,e);if(ro(t),(e=ze)?(e=b_(e,Qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ln!==null?{id:nn,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},i=Xh(e),i.return=t,t.child=i,st=t,ze=null)):e=null,e===null)throw Bn(t);return t.lanes=536870912,null}return Ks(t,s)}var c=e.memoizedState;if(c!==null){var d=c.dehydrated;if(ro(t),u)if(t.flags&256)t.flags&=-257,t=om(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Ze||ll(e,t,i,!1),u=(i&e.childLanes)!==0,Ze||u){if(s=Re,s!==null&&(d=$f(s,i),d!==0&&d!==c.retryLane))throw c.retryLane=d,yi(e,d),Tt(s,e,d),wo;lr(),t=om(e,t,i)}else e=c.treeContext,ze=Kt(d.nextSibling),st=t,fe=!0,Hn=null,Qt=!1,e!==null&&Fh(t,e),t=Ks(t,s),t.flags|=4096;return t}return e=hn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Zs(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Mo(e,t,i,s,u){return Ei(t),i=oo(e,t,i,s,void 0,u),s=co(),e!==null&&!Ze?(fo(e,t,u),yn(e,t,u)):(fe&&s&&Vu(t),t.flags|=1,ut(e,t,i,u),t.child)}function cm(e,t,i,s,u,c){return Ei(t),t.updateQueue=null,i=dd(t,s,i,u),hd(e),s=co(),e!==null&&!Ze?(fo(e,t,c),yn(e,t,c)):(fe&&s&&Vu(t),t.flags|=1,ut(e,t,i,c),t.child)}function fm(e,t,i,s,u){if(Ei(t),t.stateNode===null){var c=el,d=i.contextType;typeof d=="object"&&d!==null&&(c=rt(d)),c=new i(s,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Ro,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=s,c.state=t.memoizedState,c.refs={},to(t),d=i.contextType,c.context=typeof d=="object"&&d!==null?rt(d):el,c.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(No(t,i,d,s),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&Ro.enqueueReplaceState(c,c.state,null),aa(t,s,c,u),la(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){c=t.stateNode;var g=t.memoizedProps,y=Di(i,g);c.props=y;var N=c.context,w=i.contextType;d=el,typeof w=="object"&&w!==null&&(d=rt(w));var x=i.getDerivedStateFromProps;w=typeof x=="function"||typeof c.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,w||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g||N!==d)&&Jd(t,c,s,d),jn=!1;var R=t.memoizedState;c.state=R,aa(t,s,c,u),la(),N=t.memoizedState,g||R!==N||jn?(typeof x=="function"&&(No(t,i,x,s),N=t.memoizedState),(y=jn||Wd(t,i,y,s,R,N,d))?(w||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=N),c.props=s,c.state=N,c.context=d,s=y):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,no(e,t),d=t.memoizedProps,w=Di(i,d),c.props=w,x=t.pendingProps,R=c.context,N=i.contextType,y=el,typeof N=="object"&&N!==null&&(y=rt(N)),g=i.getDerivedStateFromProps,(N=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==x||R!==y)&&Jd(t,c,s,y),jn=!1,R=t.memoizedState,c.state=R,aa(t,s,c,u),la();var D=t.memoizedState;d!==x||R!==D||jn||e!==null&&e.dependencies!==null&&ws(e.dependencies)?(typeof g=="function"&&(No(t,i,g,s),D=t.memoizedState),(w=jn||Wd(t,i,w,s,R,D,y)||e!==null&&e.dependencies!==null&&ws(e.dependencies))?(N||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,D,y),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,D,y)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=D),c.props=s,c.state=D,c.context=y,s=w):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),s=!1)}return c=s,Zs(e,t),s=(t.flags&128)!==0,c||s?(c=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&s?(t.child=Ni(t,e.child,null,u),t.child=Ni(t,null,i,u)):ut(e,t,i,u),t.memoizedState=c.state,e=t.child):e=yn(e,t,u),e}function hm(e,t,i,s){return Si(),t.flags|=256,ut(e,t,i,s),t.child}var Oo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xo(e){return{baseLanes:e,cachePool:td()}}function zo(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Bt),e}function dm(e,t,i){var s=t.pendingProps,u=!1,c=(t.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),d&&(u=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(fe){if(u?Gn(t):Yn(),(e=ze)?(e=b_(e,Qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ln!==null?{id:nn,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},i=Xh(e),i.return=t,t.child=i,st=t,ze=null)):e=null,e===null)throw Bn(t);return _c(e)?t.lanes=32:t.lanes=536870912,null}var g=s.children;return s=s.fallback,u?(Yn(),u=t.mode,g=Fs({mode:"hidden",children:g},u),s=vi(s,u,i,null),g.return=t,s.return=t,g.sibling=s,t.child=g,s=t.child,s.memoizedState=xo(i),s.childLanes=zo(e,d,i),t.memoizedState=Oo,ca(null,s)):(Gn(t),Uo(t,g))}var y=e.memoizedState;if(y!==null&&(g=y.dehydrated,g!==null)){if(c)t.flags&256?(Gn(t),t.flags&=-257,t=Lo(e,t,i)):t.memoizedState!==null?(Yn(),t.child=e.child,t.flags|=128,t=null):(Yn(),g=s.fallback,u=t.mode,s=Fs({mode:"visible",children:s.children},u),g=vi(g,u,i,null),g.flags|=2,s.return=t,g.return=t,s.sibling=g,t.child=s,Ni(t,e.child,null,i),s=t.child,s.memoizedState=xo(i),s.childLanes=zo(e,d,i),t.memoizedState=Oo,t=ca(null,s));else if(Gn(t),_c(g)){if(d=g.nextSibling&&g.nextSibling.dataset,d)var N=d.dgst;d=N,s=Error(r(419)),s.stack="",s.digest=d,Pl({value:s,source:null,stack:null}),t=Lo(e,t,i)}else if(Ze||ll(e,t,i,!1),d=(i&e.childLanes)!==0,Ze||d){if(d=Re,d!==null&&(s=$f(d,i),s!==0&&s!==y.retryLane))throw y.retryLane=s,yi(e,s),Tt(d,e,s),wo;mc(g)||lr(),t=Lo(e,t,i)}else mc(g)?(t.flags|=192,t.child=e.child,t=null):(e=y.treeContext,ze=Kt(g.nextSibling),st=t,fe=!0,Hn=null,Qt=!1,e!==null&&Fh(t,e),t=Uo(t,s.children),t.flags|=4096);return t}return u?(Yn(),g=s.fallback,u=t.mode,y=e.child,N=y.sibling,s=hn(y,{mode:"hidden",children:s.children}),s.subtreeFlags=y.subtreeFlags&65011712,N!==null?g=hn(N,g):(g=vi(g,u,i,null),g.flags|=2),g.return=t,s.return=t,s.sibling=g,t.child=s,ca(null,s),s=t.child,g=e.child.memoizedState,g===null?g=xo(i):(u=g.cachePool,u!==null?(y=Xe._currentValue,u=u.parent!==y?{parent:y,pool:y}:u):u=td(),g={baseLanes:g.baseLanes|i,cachePool:u}),s.memoizedState=g,s.childLanes=zo(e,d,i),t.memoizedState=Oo,ca(e.child,s)):(Gn(t),i=e.child,e=i.sibling,i=hn(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function Uo(e,t){return t=Fs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Fs(e,t){return e=zt(22,e,null,t),e.lanes=0,e}function Lo(e,t,i){return Ni(t,e.child,null,i),e=Uo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mm(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Fu(e.return,t,i)}function Ho(e,t,i,s,u,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:u,treeForkCount:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=s,d.tail=i,d.tailMode=u,d.treeForkCount=c)}function _m(e,t,i){var s=t.pendingProps,u=s.revealOrder,c=s.tail;s=s.children;var d=Ve.current,g=(d&2)!==0;if(g?(d=d&1|2,t.flags|=128):d&=1,k(Ve,d),ut(e,t,s,i),s=fe?Jl:0,!g&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mm(e,i,t);else if(e.tag===19)mm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&Bs(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),Ho(t,!1,u,i,c,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Bs(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}Ho(t,!0,i,null,c,s);break;case"together":Ho(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function yn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Xn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(ll(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=hn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=hn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Bo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ws(e)))}function s0(e,t,i){switch(t.tag){case 3:_t(t,t.stateNode.containerInfo),In(t,Xe,e.memoizedState.cache),Si();break;case 27:case 5:Hl(t);break;case 4:_t(t,t.stateNode.containerInfo);break;case 10:In(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ro(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Gn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?dm(e,t,i):(Gn(t),e=yn(e,t,i),e!==null?e.sibling:null);Gn(t);break;case 19:var u=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(ll(e,t,i,!1),s=(i&t.childLanes)!==0),u){if(s)return _m(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),k(Ve,Ve.current),s)break;return null;case 22:return t.lanes=0,rm(e,t,i,t.pendingProps);case 24:In(t,Xe,e.memoizedState.cache)}return yn(e,t,i)}function pm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ze=!0;else{if(!Bo(e,i)&&(t.flags&128)===0)return Ze=!1,s0(e,t,i);Ze=(e.flags&131072)!==0}else Ze=!1,fe&&(t.flags&1048576)!==0&&Zh(t,Jl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Ti(t.elementType),t.type=e,typeof e=="function")ku(e)?(s=Di(e,s),t.tag=1,t=fm(null,t,e,s,i)):(t.tag=0,t=Mo(null,t,e,s,i));else{if(e!=null){var u=e.$$typeof;if(u===De){t.tag=11,t=lm(null,t,e,s,i);break e}else if(u===F){t.tag=14,t=am(null,t,e,s,i);break e}}throw t=Ge(e)||e,Error(r(306,t,""))}}return t;case 0:return Mo(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,u=Di(s,t.pendingProps),fm(e,t,s,u,i);case 3:e:{if(_t(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var c=t.memoizedState;u=c.element,no(e,t),aa(t,s,null,i);var d=t.memoizedState;if(s=d.cache,In(t,Xe,s),s!==c.cache&&Wu(t,[Xe],i,!0),la(),s=d.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=hm(e,t,s,i);break e}else if(s!==u){u=Gt(Error(r(424)),t),Pl(u),t=hm(e,t,s,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ze=Kt(e.firstChild),st=t,fe=!0,Hn=null,Qt=!0,i=rd(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Si(),s===u){t=yn(e,t,i);break e}ut(e,t,s,i)}t=t.child}return t;case 26:return Zs(e,t),e===null?(i=R_(t.type,null,t.pendingProps,null))?t.memoizedState=i:fe||(i=t.type,e=t.pendingProps,s=fr(se.current).createElement(i),s[at]=t,s[yt]=e,ot(s,i,e),et(s),t.stateNode=s):t.memoizedState=R_(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Hl(t),e===null&&fe&&(s=t.stateNode=T_(t.type,t.pendingProps,se.current),st=t,Qt=!0,u=ze,Jn(t.type)?(pc=u,ze=Kt(s.firstChild)):ze=u),ut(e,t,t.pendingProps.children,i),Zs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&fe&&((u=s=ze)&&(s=H0(s,t.type,t.pendingProps,Qt),s!==null?(t.stateNode=s,st=t,ze=Kt(s.firstChild),Qt=!1,u=!0):u=!1),u||Bn(t)),Hl(t),u=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,s=c.children,fc(u,c)?s=null:d!==null&&fc(u,d)&&(t.flags|=32),t.memoizedState!==null&&(u=oo(e,t,Jv,null,null,i),Aa._currentValue=u),Zs(e,t),ut(e,t,s,i),t.child;case 6:return e===null&&fe&&((e=i=ze)&&(i=B0(i,t.pendingProps,Qt),i!==null?(t.stateNode=i,st=t,ze=null,e=!0):e=!1),e||Bn(t)),null;case 13:return dm(e,t,i);case 4:return _t(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ni(t,null,s,i):ut(e,t,s,i),t.child;case 11:return lm(e,t,t.type,t.pendingProps,i);case 7:return ut(e,t,t.pendingProps,i),t.child;case 8:return ut(e,t,t.pendingProps.children,i),t.child;case 12:return ut(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,In(t,t.type,s.value),ut(e,t,s.children,i),t.child;case 9:return u=t.type._context,s=t.pendingProps.children,Ei(t),u=rt(u),s=s(u),t.flags|=1,ut(e,t,s,i),t.child;case 14:return am(e,t,t.type,t.pendingProps,i);case 15:return sm(e,t,t.type,t.pendingProps,i);case 19:return _m(e,t,i);case 31:return a0(e,t,i);case 22:return rm(e,t,i,t.pendingProps);case 24:return Ei(t),s=rt(Xe),e===null?(u=$u(),u===null&&(u=Re,c=Ju(),u.pooledCache=c,c.refCount++,c!==null&&(u.pooledCacheLanes|=i),u=c),t.memoizedState={parent:s,cache:u},to(t),In(t,Xe,u)):((e.lanes&i)!==0&&(no(e,t),aa(t,null,null,i),la()),u=e.memoizedState,c=t.memoizedState,u.parent!==s?(u={parent:s,cache:s},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),In(t,Xe,s)):(s=c.cache,In(t,Xe,s),s!==u.cache&&Wu(t,[Xe],i,!0))),ut(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function vn(e){e.flags|=4}function Io(e,t,i,s,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Ym())e.flags|=8192;else throw Ai=zs,eo}else e.flags&=-16777217}function gm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!x_(t))if(Ym())e.flags|=8192;else throw Ai=zs,eo}function Ws(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Wf():536870912,e.lanes|=t,pl|=t)}function fa(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,s|=u.subtreeFlags&65011712,s|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function r0(e,t,i){var s=t.pendingProps;switch(Qu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return Ue(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),_n(Xe),Ye(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(il(t)?vn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ku())),Ue(t),null;case 26:var u=t.type,c=t.memoizedState;return e===null?(vn(t),c!==null?(Ue(t),gm(t,c)):(Ue(t),Io(t,u,null,s,i))):c?c!==e.memoizedState?(vn(t),Ue(t),gm(t,c)):(Ue(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&vn(t),Ue(t),Io(t,u,e,s,i)),null;case 27:if(rs(t),i=se.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&vn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Ue(t),null}e=Y.current,il(t)?Wh(t):(e=T_(u,s,i),t.stateNode=e,vn(t))}return Ue(t),null;case 5:if(rs(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&vn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Ue(t),null}if(c=Y.current,il(t))Wh(t);else{var d=fr(se.current);switch(c){case 1:c=d.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:c=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":c=d.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":c=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":c=d.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof s.is=="string"?d.createElement("select",{is:s.is}):d.createElement("select"),s.multiple?c.multiple=!0:s.size&&(c.size=s.size);break;default:c=typeof s.is=="string"?d.createElement(u,{is:s.is}):d.createElement(u)}}c[at]=t,c[yt]=s;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)c.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=c;e:switch(ot(c,u,s),u){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&vn(t)}}return Ue(t),Io(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&vn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=se.current,il(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,u=st,u!==null)switch(u.tag){case 27:case 5:s=u.memoizedProps}e[at]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||d_(e.nodeValue,i)),e||Bn(t,!0)}else e=fr(e).createTextNode(s),e[at]=t,t.stateNode=e}return Ue(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(s=il(t),i!==null){if(e===null){if(!s)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[at]=t}else Si(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ue(t),e=!1}else i=Ku(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Lt(t),t):(Lt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Ue(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=il(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[at]=t}else Si(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ue(t),u=!1}else u=Ku(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Lt(t),t):(Lt(t),null)}return Lt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=t.child,u=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(u=s.alternate.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==u&&(s.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Ws(t,t.updateQueue),Ue(t),null);case 4:return Ye(),e===null&&sc(t.stateNode.containerInfo),Ue(t),null;case 10:return _n(t.type),Ue(t),null;case 19:if(z(Ve),s=t.memoizedState,s===null)return Ue(t),null;if(u=(t.flags&128)!==0,c=s.rendering,c===null)if(u)fa(s,!1);else{if(ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Bs(e),c!==null){for(t.flags|=128,fa(s,!1),e=c.updateQueue,t.updateQueue=e,Ws(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Qh(i,e),i=i.sibling;return k(Ve,Ve.current&1|2),fe&&dn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&wt()>tr&&(t.flags|=128,u=!0,fa(s,!1),t.lanes=4194304)}else{if(!u)if(e=Bs(c),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Ws(t,e),fa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!fe)return Ue(t),null}else 2*wt()-s.renderingStartTime>tr&&i!==536870912&&(t.flags|=128,u=!0,fa(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(e=s.last,e!==null?e.sibling=c:t.child=c,s.last=c)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=wt(),e.sibling=null,i=Ve.current,k(Ve,u?i&1|2:i&1),fe&&dn(t,s.treeForkCount),e):(Ue(t),null);case 22:case 23:return Lt(t),so(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),i=t.updateQueue,i!==null&&Ws(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&z(Ci),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),_n(Xe),Ue(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function u0(e,t){switch(Qu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _n(Xe),Ye(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return rs(t),null;case 31:if(t.memoizedState!==null){if(Lt(t),t.alternate===null)throw Error(r(340));Si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return z(Ve),null;case 4:return Ye(),null;case 10:return _n(t.type),null;case 22:case 23:return Lt(t),so(),e!==null&&z(Ci),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return _n(Xe),null;case 25:return null;default:return null}}function ym(e,t){switch(Qu(t),t.tag){case 3:_n(Xe),Ye();break;case 26:case 27:case 5:rs(t);break;case 4:Ye();break;case 31:t.memoizedState!==null&&Lt(t);break;case 13:Lt(t);break;case 19:z(Ve);break;case 10:_n(t.type);break;case 22:case 23:Lt(t),so(),e!==null&&z(Ci);break;case 24:_n(Xe)}}function ha(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var u=s.next;i=u;do{if((i.tag&e)===e){s=void 0;var c=i.create,d=i.inst;s=c(),d.destroy=s}i=i.next}while(i!==u)}}catch(g){be(t,t.return,g)}}function Vn(e,t,i){try{var s=t.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var c=u.next;s=c;do{if((s.tag&e)===e){var d=s.inst,g=d.destroy;if(g!==void 0){d.destroy=void 0,u=t;var y=i,N=g;try{N()}catch(w){be(u,y,w)}}}s=s.next}while(s!==c)}}catch(w){be(t,t.return,w)}}function vm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{od(t,i)}catch(s){be(e,e.return,s)}}}function Sm(e,t,i){i.props=Di(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){be(e,t,s)}}function da(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(u){be(e,t,u)}}function an(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(u){be(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){be(e,t,u)}else i.current=null}function bm(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(u){be(e,e.return,u)}}function jo(e,t,i){try{var s=e.stateNode;M0(s,e.type,i,t),s[yt]=t}catch(u){be(e,e.return,u)}}function Em(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Jn(e.type)||e.tag===4}function qo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Em(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Jn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ko(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=cn));else if(s!==4&&(s===27&&Jn(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(ko(e,t,i),e=e.sibling;e!==null;)ko(e,t,i),e=e.sibling}function Js(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&Jn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Js(e,t,i),e=e.sibling;e!==null;)Js(e,t,i),e=e.sibling}function Cm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);ot(t,s,i),t[at]=e,t[yt]=i}catch(c){be(e,e.return,c)}}var Sn=!1,Fe=!1,Go=!1,Tm=typeof WeakSet=="function"?WeakSet:Set,tt=null;function o0(e,t){if(e=e.containerInfo,oc=yr,e=Hh(e),Uu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var u=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,g=-1,y=-1,N=0,w=0,x=e,R=null;t:for(;;){for(var D;x!==i||u!==0&&x.nodeType!==3||(g=d+u),x!==c||s!==0&&x.nodeType!==3||(y=d+s),x.nodeType===3&&(d+=x.nodeValue.length),(D=x.firstChild)!==null;)R=x,x=D;for(;;){if(x===e)break t;if(R===i&&++N===u&&(g=d),R===c&&++w===s&&(y=d),(D=x.nextSibling)!==null)break;x=R,R=x.parentNode}x=D}i=g===-1||y===-1?null:{start:g,end:y}}else i=null}i=i||{start:0,end:0}}else i=null;for(cc={focusedElem:e,selectionRange:i},yr=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){switch(t=tt,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)u=e[i],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,i=t,u=c.memoizedProps,c=c.memoizedState,s=i.stateNode;try{var G=Di(i.type,u);e=s.getSnapshotBeforeUpdate(G,c),s.__reactInternalSnapshotBeforeUpdate=e}catch(J){be(i,i.return,J)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)dc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}}function Am(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:En(e,i),s&4&&ha(5,i);break;case 1:if(En(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(d){be(i,i.return,d)}else{var u=Di(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){be(i,i.return,d)}}s&64&&vm(i),s&512&&da(i,i.return);break;case 3:if(En(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{od(e,t)}catch(d){be(i,i.return,d)}}break;case 27:t===null&&s&4&&Cm(i);case 26:case 5:En(e,i),t===null&&s&4&&bm(i),s&512&&da(i,i.return);break;case 12:En(e,i);break;case 31:En(e,i),s&4&&Dm(e,i);break;case 13:En(e,i),s&4&&wm(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=y0.bind(null,i),I0(e,i))));break;case 22:if(s=i.memoizedState!==null||Sn,!s){t=t!==null&&t.memoizedState!==null||Fe,u=Sn;var c=Fe;Sn=s,(Fe=t)&&!c?Cn(e,i,(i.subtreeFlags&8772)!==0):En(e,i),Sn=u,Fe=c}break;case 30:break;default:En(e,i)}}function Nm(e){var t=e.alternate;t!==null&&(e.alternate=null,Nm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&gu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ie=null,St=!1;function bn(e,t,i){for(i=i.child;i!==null;)Rm(e,t,i),i=i.sibling}function Rm(e,t,i){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Bl,i)}catch{}switch(i.tag){case 26:Fe||an(i,t),bn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Fe||an(i,t);var s=Ie,u=St;Jn(i.type)&&(Ie=i.stateNode,St=!1),bn(e,t,i),Ea(i.stateNode),Ie=s,St=u;break;case 5:Fe||an(i,t);case 6:if(s=Ie,u=St,Ie=null,bn(e,t,i),Ie=s,St=u,Ie!==null)if(St)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(i.stateNode)}catch(c){be(i,t,c)}else try{Ie.removeChild(i.stateNode)}catch(c){be(i,t,c)}break;case 18:Ie!==null&&(St?(e=Ie,v_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Tl(e)):v_(Ie,i.stateNode));break;case 4:s=Ie,u=St,Ie=i.stateNode.containerInfo,St=!0,bn(e,t,i),Ie=s,St=u;break;case 0:case 11:case 14:case 15:Vn(2,i,t),Fe||Vn(4,i,t),bn(e,t,i);break;case 1:Fe||(an(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&Sm(i,t,s)),bn(e,t,i);break;case 21:bn(e,t,i);break;case 22:Fe=(s=Fe)||i.memoizedState!==null,bn(e,t,i),Fe=s;break;default:bn(e,t,i)}}function Dm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Tl(e)}catch(i){be(t,t.return,i)}}}function wm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Tl(e)}catch(i){be(t,t.return,i)}}function c0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Tm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Tm),t;default:throw Error(r(435,e.tag))}}function Ps(e,t){var i=c0(e);t.forEach(function(s){if(!i.has(s)){i.add(s);var u=v0.bind(null,e,s);s.then(u,u)}})}function bt(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var u=i[s],c=e,d=t,g=d;e:for(;g!==null;){switch(g.tag){case 27:if(Jn(g.type)){Ie=g.stateNode,St=!1;break e}break;case 5:Ie=g.stateNode,St=!1;break e;case 3:case 4:Ie=g.stateNode.containerInfo,St=!0;break e}g=g.return}if(Ie===null)throw Error(r(160));Rm(c,d,u),Ie=null,St=!1,c=u.alternate,c!==null&&(c.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Mm(t,e),t=t.sibling}var Wt=null;function Mm(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bt(t,e),Et(e),s&4&&(Vn(3,e,e.return),ha(3,e),Vn(5,e,e.return));break;case 1:bt(t,e),Et(e),s&512&&(Fe||i===null||an(i,i.return)),s&64&&Sn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var u=Wt;if(bt(t,e),Et(e),s&512&&(Fe||i===null||an(i,i.return)),s&4){var c=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,u=u.ownerDocument||u;t:switch(s){case"title":c=u.getElementsByTagName("title")[0],(!c||c[ql]||c[at]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=u.createElement(s),u.head.insertBefore(c,u.querySelector("head > title"))),ot(c,s,i),c[at]=e,et(c),s=c;break e;case"link":var d=M_("link","href",u).get(s+(i.href||""));if(d){for(var g=0;g<d.length;g++)if(c=d[g],c.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(g,1);break t}}c=u.createElement(s),ot(c,s,i),u.head.appendChild(c);break;case"meta":if(d=M_("meta","content",u).get(s+(i.content||""))){for(g=0;g<d.length;g++)if(c=d[g],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(g,1);break t}}c=u.createElement(s),ot(c,s,i),u.head.appendChild(c);break;default:throw Error(r(468,s))}c[at]=e,et(c),s=c}e.stateNode=s}else O_(u,e.type,e.stateNode);else e.stateNode=w_(u,s,e.memoizedProps);else c!==s?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,s===null?O_(u,e.type,e.stateNode):w_(u,s,e.memoizedProps)):s===null&&e.stateNode!==null&&jo(e,e.memoizedProps,i.memoizedProps)}break;case 27:bt(t,e),Et(e),s&512&&(Fe||i===null||an(i,i.return)),i!==null&&s&4&&jo(e,e.memoizedProps,i.memoizedProps);break;case 5:if(bt(t,e),Et(e),s&512&&(Fe||i===null||an(i,i.return)),e.flags&32){u=e.stateNode;try{Ki(u,"")}catch(G){be(e,e.return,G)}}s&4&&e.stateNode!=null&&(u=e.memoizedProps,jo(e,u,i!==null?i.memoizedProps:u)),s&1024&&(Go=!0);break;case 6:if(bt(t,e),Et(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(G){be(e,e.return,G)}}break;case 3:if(mr=null,u=Wt,Wt=hr(t.containerInfo),bt(t,e),Wt=u,Et(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{Tl(t.containerInfo)}catch(G){be(e,e.return,G)}Go&&(Go=!1,Om(e));break;case 4:s=Wt,Wt=hr(e.stateNode.containerInfo),bt(t,e),Et(e),Wt=s;break;case 12:bt(t,e),Et(e);break;case 31:bt(t,e),Et(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ps(e,s)));break;case 13:bt(t,e),Et(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(er=wt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ps(e,s)));break;case 22:u=e.memoizedState!==null;var y=i!==null&&i.memoizedState!==null,N=Sn,w=Fe;if(Sn=N||u,Fe=w||y,bt(t,e),Fe=w,Sn=N,Et(e),s&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(i===null||y||Sn||Fe||wi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){y=i=t;try{if(c=y.stateNode,u)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{g=y.stateNode;var x=y.memoizedProps.style,R=x!=null&&x.hasOwnProperty("display")?x.display:null;g.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(G){be(y,y.return,G)}}}else if(t.tag===6){if(i===null){y=t;try{y.stateNode.nodeValue=u?"":y.memoizedProps}catch(G){be(y,y.return,G)}}}else if(t.tag===18){if(i===null){y=t;try{var D=y.stateNode;u?S_(D,!0):S_(y.stateNode,!1)}catch(G){be(y,y.return,G)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,Ps(e,i))));break;case 19:bt(t,e),Et(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ps(e,s)));break;case 30:break;case 21:break;default:bt(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(Em(s)){i=s;break}s=s.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var u=i.stateNode,c=qo(e);Js(e,c,u);break;case 5:var d=i.stateNode;i.flags&32&&(Ki(d,""),i.flags&=-33);var g=qo(e);Js(e,g,d);break;case 3:case 4:var y=i.stateNode.containerInfo,N=qo(e);ko(e,N,y);break;default:throw Error(r(161))}}catch(w){be(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Om(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Om(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function En(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Am(e,t.alternate,t),t=t.sibling}function wi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Vn(4,t,t.return),wi(t);break;case 1:an(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Sm(t,t.return,i),wi(t);break;case 27:Ea(t.stateNode);case 26:case 5:an(t,t.return),wi(t);break;case 22:t.memoizedState===null&&wi(t);break;case 30:wi(t);break;default:wi(t)}e=e.sibling}}function Cn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,u=e,c=t,d=c.flags;switch(c.tag){case 0:case 11:case 15:Cn(u,c,i),ha(4,c);break;case 1:if(Cn(u,c,i),s=c,u=s.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(N){be(s,s.return,N)}if(s=c,u=s.updateQueue,u!==null){var g=s.stateNode;try{var y=u.shared.hiddenCallbacks;if(y!==null)for(u.shared.hiddenCallbacks=null,u=0;u<y.length;u++)ud(y[u],g)}catch(N){be(s,s.return,N)}}i&&d&64&&vm(c),da(c,c.return);break;case 27:Cm(c);case 26:case 5:Cn(u,c,i),i&&s===null&&d&4&&bm(c),da(c,c.return);break;case 12:Cn(u,c,i);break;case 31:Cn(u,c,i),i&&d&4&&Dm(u,c);break;case 13:Cn(u,c,i),i&&d&4&&wm(u,c);break;case 22:c.memoizedState===null&&Cn(u,c,i),da(c,c.return);break;case 30:break;default:Cn(u,c,i)}t=t.sibling}}function Yo(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&$l(i))}function Vo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$l(e))}function Jt(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xm(e,t,i,s),t=t.sibling}function xm(e,t,i,s){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Jt(e,t,i,s),u&2048&&ha(9,t);break;case 1:Jt(e,t,i,s);break;case 3:Jt(e,t,i,s),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$l(e)));break;case 12:if(u&2048){Jt(e,t,i,s),e=t.stateNode;try{var c=t.memoizedProps,d=c.id,g=c.onPostCommit;typeof g=="function"&&g(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(y){be(t,t.return,y)}}else Jt(e,t,i,s);break;case 31:Jt(e,t,i,s);break;case 13:Jt(e,t,i,s);break;case 23:break;case 22:c=t.stateNode,d=t.alternate,t.memoizedState!==null?c._visibility&2?Jt(e,t,i,s):ma(e,t):c._visibility&2?Jt(e,t,i,s):(c._visibility|=2,dl(e,t,i,s,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Yo(d,t);break;case 24:Jt(e,t,i,s),u&2048&&Vo(t.alternate,t);break;default:Jt(e,t,i,s)}}function dl(e,t,i,s,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,d=t,g=i,y=s,N=d.flags;switch(d.tag){case 0:case 11:case 15:dl(c,d,g,y,u),ha(8,d);break;case 23:break;case 22:var w=d.stateNode;d.memoizedState!==null?w._visibility&2?dl(c,d,g,y,u):ma(c,d):(w._visibility|=2,dl(c,d,g,y,u)),u&&N&2048&&Yo(d.alternate,d);break;case 24:dl(c,d,g,y,u),u&&N&2048&&Vo(d.alternate,d);break;default:dl(c,d,g,y,u)}t=t.sibling}}function ma(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,u=s.flags;switch(s.tag){case 22:ma(i,s),u&2048&&Yo(s.alternate,s);break;case 24:ma(i,s),u&2048&&Vo(s.alternate,s);break;default:ma(i,s)}t=t.sibling}}var _a=8192;function ml(e,t,i){if(e.subtreeFlags&_a)for(e=e.child;e!==null;)zm(e,t,i),e=e.sibling}function zm(e,t,i){switch(e.tag){case 26:ml(e,t,i),e.flags&_a&&e.memoizedState!==null&&W0(i,Wt,e.memoizedState,e.memoizedProps);break;case 5:ml(e,t,i);break;case 3:case 4:var s=Wt;Wt=hr(e.stateNode.containerInfo),ml(e,t,i),Wt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=_a,_a=16777216,ml(e,t,i),_a=s):ml(e,t,i));break;default:ml(e,t,i)}}function Um(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function pa(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];tt=s,Hm(s,e)}Um(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Lm(e),e=e.sibling}function Lm(e){switch(e.tag){case 0:case 11:case 15:pa(e),e.flags&2048&&Vn(9,e,e.return);break;case 3:pa(e);break;case 12:pa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,$s(e)):pa(e);break;default:pa(e)}}function $s(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];tt=s,Hm(s,e)}Um(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Vn(8,t,t.return),$s(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,$s(t));break;default:$s(t)}e=e.sibling}}function Hm(e,t){for(;tt!==null;){var i=tt;switch(i.tag){case 0:case 11:case 15:Vn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:$l(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,tt=s;else e:for(i=e;tt!==null;){s=tt;var u=s.sibling,c=s.return;if(Nm(s),s===i){tt=null;break e}if(u!==null){u.return=c,tt=u;break e}tt=c}}}var f0={getCacheForType:function(e){var t=rt(Xe),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return rt(Xe).controller.signal}},h0=typeof WeakMap=="function"?WeakMap:Map,pe=0,Re=null,re=null,oe=0,Se=0,Ht=null,Qn=!1,_l=!1,Qo=!1,Tn=0,ke=0,Xn=0,Mi=0,Xo=0,Bt=0,pl=0,ga=null,Ct=null,Ko=!1,er=0,Bm=0,tr=1/0,nr=null,Kn=null,We=0,Zn=null,gl=null,An=0,Zo=0,Fo=null,Im=null,ya=0,Wo=null;function It(){return(pe&2)!==0&&oe!==0?oe&-oe:M.T!==null?nc():eh()}function jm(){if(Bt===0)if((oe&536870912)===0||fe){var e=cs;cs<<=1,(cs&3932160)===0&&(cs=262144),Bt=e}else Bt=536870912;return e=Ut.current,e!==null&&(e.flags|=32),Bt}function Tt(e,t,i){(e===Re&&(Se===2||Se===9)||e.cancelPendingCommit!==null)&&(yl(e,0),Fn(e,oe,Bt,!1)),jl(e,i),((pe&2)===0||e!==Re)&&(e===Re&&((pe&2)===0&&(Mi|=i),ke===4&&Fn(e,oe,Bt,!1)),sn(e))}function qm(e,t,i){if((pe&6)!==0)throw Error(r(327));var s=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Il(e,t),u=s?_0(e,t):Po(e,t,!0),c=s;do{if(u===0){_l&&!s&&Fn(e,t,0,!1);break}else{if(i=e.current.alternate,c&&!d0(i)){u=Po(e,t,!1),c=!1;continue}if(u===2){if(c=t,e.errorRecoveryDisabledLanes&c)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var g=e;u=ga;var y=g.current.memoizedState.isDehydrated;if(y&&(yl(g,d).flags|=256),d=Po(g,d,!1),d!==2){if(Qo&&!y){g.errorRecoveryDisabledLanes|=c,Mi|=c,u=4;break e}c=Ct,Ct=u,c!==null&&(Ct===null?Ct=c:Ct.push.apply(Ct,c))}u=d}if(c=!1,u!==2)continue}}if(u===1){yl(e,0),Fn(e,t,0,!0);break}e:{switch(s=e,c=u,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Fn(s,t,Bt,!Qn);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=er+300-wt(),10<u)){if(Fn(s,t,Bt,!Qn),hs(s,0,!0)!==0)break e;An=t,s.timeoutHandle=g_(km.bind(null,s,i,Ct,nr,Ko,t,Bt,Mi,pl,Qn,c,"Throttled",-0,0),u);break e}km(s,i,Ct,nr,Ko,t,Bt,Mi,pl,Qn,c,null,-0,0)}}break}while(!0);sn(e)}function km(e,t,i,s,u,c,d,g,y,N,w,x,R,D){if(e.timeoutHandle=-1,x=t.subtreeFlags,x&8192||(x&16785408)===16785408){x={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cn},zm(t,c,x);var G=(c&62914560)===c?er-wt():(c&4194048)===c?Bm-wt():0;if(G=J0(x,G),G!==null){An=c,e.cancelPendingCommit=G(Fm.bind(null,e,t,c,i,s,u,d,g,y,w,x,null,R,D)),Fn(e,c,d,!N);return}}Fm(e,t,c,i,s,u,d,g,y)}function d0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var u=i[s],c=u.getSnapshot;u=u.value;try{if(!xt(c(),u))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fn(e,t,i,s){t&=~Xo,t&=~Mi,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var u=t;0<u;){var c=31-Ot(u),d=1<<c;s[c]=-1,u&=~d}i!==0&&Jf(e,i,t)}function ir(){return(pe&6)===0?(va(0),!1):!0}function Jo(){if(re!==null){if(Se===0)var e=re.return;else e=re,mn=bi=null,ho(e),ul=null,ta=0,e=re;for(;e!==null;)ym(e.alternate,e),e=e.return;re=null}}function yl(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,z0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),An=0,Jo(),Re=e,re=i=hn(e.current,null),oe=t,Se=0,Ht=null,Qn=!1,_l=Il(e,t),Qo=!1,pl=Bt=Xo=Mi=Xn=ke=0,Ct=ga=null,Ko=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var u=31-Ot(s),c=1<<u;t|=e[u],s&=~c}return Tn=t,Ts(),i}function Gm(e,t){te=null,M.H=oa,t===rl||t===xs?(t=ld(),Se=3):t===eo?(t=ld(),Se=4):Se=t===wo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ht=t,re===null&&(ke=1,Xs(e,Gt(t,e.current)))}function Ym(){var e=Ut.current;return e===null?!0:(oe&4194048)===oe?Xt===null:(oe&62914560)===oe||(oe&536870912)!==0?e===Xt:!1}function Vm(){var e=M.H;return M.H=oa,e===null?oa:e}function Qm(){var e=M.A;return M.A=f0,e}function lr(){ke=4,Qn||(oe&4194048)!==oe&&Ut.current!==null||(_l=!0),(Xn&134217727)===0&&(Mi&134217727)===0||Re===null||Fn(Re,oe,Bt,!1)}function Po(e,t,i){var s=pe;pe|=2;var u=Vm(),c=Qm();(Re!==e||oe!==t)&&(nr=null,yl(e,t)),t=!1;var d=ke;e:do try{if(Se!==0&&re!==null){var g=re,y=Ht;switch(Se){case 8:Jo(),d=6;break e;case 3:case 2:case 9:case 6:Ut.current===null&&(t=!0);var N=Se;if(Se=0,Ht=null,vl(e,g,y,N),i&&_l){d=0;break e}break;default:N=Se,Se=0,Ht=null,vl(e,g,y,N)}}m0(),d=ke;break}catch(w){Gm(e,w)}while(!0);return t&&e.shellSuspendCounter++,mn=bi=null,pe=s,M.H=u,M.A=c,re===null&&(Re=null,oe=0,Ts()),d}function m0(){for(;re!==null;)Xm(re)}function _0(e,t){var i=pe;pe|=2;var s=Vm(),u=Qm();Re!==e||oe!==t?(nr=null,tr=wt()+500,yl(e,t)):_l=Il(e,t);e:do try{if(Se!==0&&re!==null){t=re;var c=Ht;t:switch(Se){case 1:Se=0,Ht=null,vl(e,t,c,1);break;case 2:case 9:if(nd(c)){Se=0,Ht=null,Km(t);break}t=function(){Se!==2&&Se!==9||Re!==e||(Se=7),sn(e)},c.then(t,t);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:nd(c)?(Se=0,Ht=null,Km(t)):(Se=0,Ht=null,vl(e,t,c,7));break;case 5:var d=null;switch(re.tag){case 26:d=re.memoizedState;case 5:case 27:var g=re;if(d?x_(d):g.stateNode.complete){Se=0,Ht=null;var y=g.sibling;if(y!==null)re=y;else{var N=g.return;N!==null?(re=N,ar(N)):re=null}break t}}Se=0,Ht=null,vl(e,t,c,5);break;case 6:Se=0,Ht=null,vl(e,t,c,6);break;case 8:Jo(),ke=6;break e;default:throw Error(r(462))}}p0();break}catch(w){Gm(e,w)}while(!0);return mn=bi=null,M.H=s,M.A=u,pe=i,re!==null?0:(Re=null,oe=0,Ts(),ke)}function p0(){for(;re!==null&&!jy();)Xm(re)}function Xm(e){var t=pm(e.alternate,e,Tn);e.memoizedProps=e.pendingProps,t===null?ar(e):re=t}function Km(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=cm(i,t,t.pendingProps,t.type,void 0,oe);break;case 11:t=cm(i,t,t.pendingProps,t.type.render,t.ref,oe);break;case 5:ho(t);default:ym(i,t),t=re=Qh(t,Tn),t=pm(i,t,Tn)}e.memoizedProps=e.pendingProps,t===null?ar(e):re=t}function vl(e,t,i,s){mn=bi=null,ho(t),ul=null,ta=0;var u=t.return;try{if(l0(e,u,t,i,oe)){ke=1,Xs(e,Gt(i,e.current)),re=null;return}}catch(c){if(u!==null)throw re=u,c;ke=1,Xs(e,Gt(i,e.current)),re=null;return}t.flags&32768?(fe||s===1?e=!0:_l||(oe&536870912)!==0?e=!1:(Qn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ut.current,s!==null&&s.tag===13&&(s.flags|=16384))),Zm(t,e)):ar(t)}function ar(e){var t=e;do{if((t.flags&32768)!==0){Zm(t,Qn);return}e=t.return;var i=r0(t.alternate,t,Tn);if(i!==null){re=i;return}if(t=t.sibling,t!==null){re=t;return}re=t=e}while(t!==null);ke===0&&(ke=5)}function Zm(e,t){do{var i=u0(e.alternate,e);if(i!==null){i.flags&=32767,re=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){re=e;return}re=e=i}while(e!==null);ke=6,re=null}function Fm(e,t,i,s,u,c,d,g,y){e.cancelPendingCommit=null;do sr();while(We!==0);if((pe&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=ju,Fy(e,i,c,d,g,y),e===Re&&(re=Re=null,oe=0),gl=t,Zn=e,An=i,Zo=c,Fo=u,Im=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,S0(us,function(){return e_(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=M.T,M.T=null,u=H.p,H.p=2,d=pe,pe|=4;try{o0(e,t,i)}finally{pe=d,H.p=u,M.T=s}}We=1,Wm(),Jm(),Pm()}}function Wm(){if(We===1){We=0;var e=Zn,t=gl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=M.T,M.T=null;var s=H.p;H.p=2;var u=pe;pe|=4;try{Mm(t,e);var c=cc,d=Hh(e.containerInfo),g=c.focusedElem,y=c.selectionRange;if(d!==g&&g&&g.ownerDocument&&Lh(g.ownerDocument.documentElement,g)){if(y!==null&&Uu(g)){var N=y.start,w=y.end;if(w===void 0&&(w=N),"selectionStart"in g)g.selectionStart=N,g.selectionEnd=Math.min(w,g.value.length);else{var x=g.ownerDocument||document,R=x&&x.defaultView||window;if(R.getSelection){var D=R.getSelection(),G=g.textContent.length,J=Math.min(y.start,G),Te=y.end===void 0?J:Math.min(y.end,G);!D.extend&&J>Te&&(d=Te,Te=J,J=d);var T=Uh(g,J),b=Uh(g,Te);if(T&&b&&(D.rangeCount!==1||D.anchorNode!==T.node||D.anchorOffset!==T.offset||D.focusNode!==b.node||D.focusOffset!==b.offset)){var A=x.createRange();A.setStart(T.node,T.offset),D.removeAllRanges(),J>Te?(D.addRange(A),D.extend(b.node,b.offset)):(A.setEnd(b.node,b.offset),D.addRange(A))}}}}for(x=[],D=g;D=D.parentNode;)D.nodeType===1&&x.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<x.length;g++){var O=x[g];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}yr=!!oc,cc=oc=null}finally{pe=u,H.p=s,M.T=i}}e.current=t,We=2}}function Jm(){if(We===2){We=0;var e=Zn,t=gl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=M.T,M.T=null;var s=H.p;H.p=2;var u=pe;pe|=4;try{Am(e,t.alternate,t)}finally{pe=u,H.p=s,M.T=i}}We=3}}function Pm(){if(We===4||We===3){We=0,qy();var e=Zn,t=gl,i=An,s=Im;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?We=5:(We=0,gl=Zn=null,$m(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Kn=null),_u(i),t=t.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Bl,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=M.T,u=H.p,H.p=2,M.T=null;try{for(var c=e.onRecoverableError,d=0;d<s.length;d++){var g=s[d];c(g.value,{componentStack:g.stack})}}finally{M.T=t,H.p=u}}(An&3)!==0&&sr(),sn(e),u=e.pendingLanes,(i&261930)!==0&&(u&42)!==0?e===Wo?ya++:(ya=0,Wo=e):ya=0,va(0)}}function $m(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$l(t)))}function sr(){return Wm(),Jm(),Pm(),e_()}function e_(){if(We!==5)return!1;var e=Zn,t=Zo;Zo=0;var i=_u(An),s=M.T,u=H.p;try{H.p=32>i?32:i,M.T=null,i=Fo,Fo=null;var c=Zn,d=An;if(We=0,gl=Zn=null,An=0,(pe&6)!==0)throw Error(r(331));var g=pe;if(pe|=4,Lm(c.current),xm(c,c.current,d,i),pe=g,va(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Bl,c)}catch{}return!0}finally{H.p=u,M.T=s,$m(e,t)}}function t_(e,t,i){t=Gt(i,t),t=Do(e.stateNode,t,2),e=kn(e,t,2),e!==null&&(jl(e,2),sn(e))}function be(e,t,i){if(e.tag===3)t_(e,e,i);else for(;t!==null;){if(t.tag===3){t_(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Kn===null||!Kn.has(s))){e=Gt(i,e),i=nm(2),s=kn(t,i,2),s!==null&&(im(i,s,t,e),jl(s,2),sn(s));break}}t=t.return}}function $o(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new h0;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(i)||(Qo=!0,u.add(i),e=g0.bind(null,e,t,i),t.then(e,e))}function g0(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Re===e&&(oe&i)===i&&(ke===4||ke===3&&(oe&62914560)===oe&&300>wt()-er?(pe&2)===0&&yl(e,0):Xo|=i,pl===oe&&(pl=0)),sn(e)}function n_(e,t){t===0&&(t=Wf()),e=yi(e,t),e!==null&&(jl(e,t),sn(e))}function y0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),n_(e,i)}function v0(e,t){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),n_(e,i)}function S0(e,t){return fu(e,t)}var rr=null,Sl=null,ec=!1,ur=!1,tc=!1,Wn=0;function sn(e){e!==Sl&&e.next===null&&(Sl===null?rr=Sl=e:Sl=Sl.next=e),ur=!0,ec||(ec=!0,E0())}function va(e,t){if(!tc&&ur){tc=!0;do for(var i=!1,s=rr;s!==null;){if(e!==0){var u=s.pendingLanes;if(u===0)var c=0;else{var d=s.suspendedLanes,g=s.pingedLanes;c=(1<<31-Ot(42|e)+1)-1,c&=u&~(d&~g),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(i=!0,s_(s,c))}else c=oe,c=hs(s,s===Re?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(c&3)===0||Il(s,c)||(i=!0,s_(s,c));s=s.next}while(i);tc=!1}}function b0(){i_()}function i_(){ur=ec=!1;var e=0;Wn!==0&&x0()&&(e=Wn);for(var t=wt(),i=null,s=rr;s!==null;){var u=s.next,c=l_(s,t);c===0?(s.next=null,i===null?rr=u:i.next=u,u===null&&(Sl=i)):(i=s,(e!==0||(c&3)!==0)&&(ur=!0)),s=u}We!==0&&We!==5||va(e),Wn!==0&&(Wn=0)}function l_(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var d=31-Ot(c),g=1<<d,y=u[d];y===-1?((g&i)===0||(g&s)!==0)&&(u[d]=Zy(g,t)):y<=t&&(e.expiredLanes|=g),c&=~g}if(t=Re,i=oe,i=hs(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(Se===2||Se===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&hu(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Il(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&hu(s),_u(i)){case 2:case 8:i=Zf;break;case 32:i=us;break;case 268435456:i=Ff;break;default:i=us}return s=a_.bind(null,e),i=fu(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&hu(s),e.callbackPriority=2,e.callbackNode=null,2}function a_(e,t){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(sr()&&e.callbackNode!==i)return null;var s=oe;return s=hs(e,e===Re?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(qm(e,s,t),l_(e,wt()),e.callbackNode!=null&&e.callbackNode===i?a_.bind(null,e):null)}function s_(e,t){if(sr())return null;qm(e,t,!0)}function E0(){U0(function(){(pe&6)!==0?fu(Kf,b0):i_()})}function nc(){if(Wn===0){var e=al;e===0&&(e=os,os<<=1,(os&261888)===0&&(os=256)),Wn=e}return Wn}function r_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ps(""+e)}function u_(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function C0(e,t,i,s,u){if(t==="submit"&&i&&i.stateNode===u){var c=r_((u[yt]||null).action),d=s.submitter;d&&(t=(t=d[yt]||null)?r_(t.formAction):d.getAttribute("formAction"),t!==null&&(c=t,d=null));var g=new Ss("action","action",null,s,u);e.push({event:g,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Wn!==0){var y=d?u_(u,d):new FormData(u);Eo(i,{pending:!0,data:y,method:u.method,action:c},null,y)}}else typeof c=="function"&&(g.preventDefault(),y=d?u_(u,d):new FormData(u),Eo(i,{pending:!0,data:y,method:u.method,action:c},c,y))},currentTarget:u}]})}}for(var ic=0;ic<Iu.length;ic++){var lc=Iu[ic],T0=lc.toLowerCase(),A0=lc[0].toUpperCase()+lc.slice(1);Ft(T0,"on"+A0)}Ft(jh,"onAnimationEnd"),Ft(qh,"onAnimationIteration"),Ft(kh,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(kv,"onTransitionRun"),Ft(Gv,"onTransitionStart"),Ft(Yv,"onTransitionCancel"),Ft(Gh,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sa));function o_(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],u=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var d=s.length-1;0<=d;d--){var g=s[d],y=g.instance,N=g.currentTarget;if(g=g.listener,y!==c&&u.isPropagationStopped())break e;c=g,u.currentTarget=N;try{c(u)}catch(w){Cs(w)}u.currentTarget=null,c=y}else for(d=0;d<s.length;d++){if(g=s[d],y=g.instance,N=g.currentTarget,g=g.listener,y!==c&&u.isPropagationStopped())break e;c=g,u.currentTarget=N;try{c(u)}catch(w){Cs(w)}u.currentTarget=null,c=y}}}}function ue(e,t){var i=t[pu];i===void 0&&(i=t[pu]=new Set);var s=e+"__bubble";i.has(s)||(c_(t,e,2,!1),i.add(s))}function ac(e,t,i){var s=0;t&&(s|=4),c_(i,e,s,t)}var or="_reactListening"+Math.random().toString(36).slice(2);function sc(e){if(!e[or]){e[or]=!0,ih.forEach(function(i){i!=="selectionchange"&&(N0.has(i)||ac(i,!1,e),ac(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[or]||(t[or]=!0,ac("selectionchange",!1,t))}}function c_(e,t,i,s){switch(j_(t)){case 2:var u=e1;break;case 8:u=t1;break;default:u=bc}i=u.bind(null,t,i,e),u=void 0,!Au||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function rc(e,t,i,s,u){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var d=s.tag;if(d===3||d===4){var g=s.stateNode.containerInfo;if(g===u)break;if(d===4)for(d=s.return;d!==null;){var y=d.tag;if((y===3||y===4)&&d.stateNode.containerInfo===u)return;d=d.return}for(;g!==null;){if(d=Gi(g),d===null)return;if(y=d.tag,y===5||y===6||y===26||y===27){s=c=d;continue e}g=g.parentNode}}s=s.return}_h(function(){var N=c,w=Cu(i),x=[];e:{var R=Yh.get(e);if(R!==void 0){var D=Ss,G=e;switch(e){case"keypress":if(ys(i)===0)break e;case"keydown":case"keyup":D=vv;break;case"focusin":G="focus",D=wu;break;case"focusout":G="blur",D=wu;break;case"beforeblur":case"afterblur":D=wu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=rv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=Ev;break;case jh:case qh:case kh:D=cv;break;case Gh:D=Tv;break;case"scroll":case"scrollend":D=av;break;case"wheel":D=Nv;break;case"copy":case"cut":case"paste":D=hv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Sh;break;case"toggle":case"beforetoggle":D=Dv}var J=(t&4)!==0,Te=!J&&(e==="scroll"||e==="scrollend"),T=J?R!==null?R+"Capture":null:R;J=[];for(var b=N,A;b!==null;){var O=b;if(A=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||A===null||T===null||(O=Gl(b,T),O!=null&&J.push(ba(b,O,A))),Te)break;b=b.return}0<J.length&&(R=new D(R,G,null,i,w),x.push({event:R,listeners:J}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",R&&i!==Eu&&(G=i.relatedTarget||i.fromElement)&&(Gi(G)||G[ki]))break e;if((D||R)&&(R=w.window===w?w:(R=w.ownerDocument)?R.defaultView||R.parentWindow:window,D?(G=i.relatedTarget||i.toElement,D=N,G=G?Gi(G):null,G!==null&&(Te=f(G),J=G.tag,G!==Te||J!==5&&J!==27&&J!==6)&&(G=null)):(D=null,G=N),D!==G)){if(J=yh,O="onMouseLeave",T="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(J=Sh,O="onPointerLeave",T="onPointerEnter",b="pointer"),Te=D==null?R:kl(D),A=G==null?R:kl(G),R=new J(O,b+"leave",D,i,w),R.target=Te,R.relatedTarget=A,O=null,Gi(w)===N&&(J=new J(T,b+"enter",G,i,w),J.target=A,J.relatedTarget=Te,O=J),Te=O,D&&G)t:{for(J=R0,T=D,b=G,A=0,O=T;O;O=J(O))A++;O=0;for(var Z=b;Z;Z=J(Z))O++;for(;0<A-O;)T=J(T),A--;for(;0<O-A;)b=J(b),O--;for(;A--;){if(T===b||b!==null&&T===b.alternate){J=T;break t}T=J(T),b=J(b)}J=null}else J=null;D!==null&&f_(x,R,D,J,!1),G!==null&&Te!==null&&f_(x,Te,G,J,!0)}}e:{if(R=N?kl(N):window,D=R.nodeName&&R.nodeName.toLowerCase(),D==="select"||D==="input"&&R.type==="file")var de=Dh;else if(Nh(R))if(wh)de=Iv;else{de=Hv;var V=Lv}else D=R.nodeName,!D||D.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?N&&bu(N.elementType)&&(de=Dh):de=Bv;if(de&&(de=de(e,N))){Rh(x,de,i,w);break e}V&&V(e,R,N),e==="focusout"&&N&&R.type==="number"&&N.memoizedProps.value!=null&&Su(R,"number",R.value)}switch(V=N?kl(N):window,e){case"focusin":(Nh(V)||V.contentEditable==="true")&&(Ji=V,Lu=N,Wl=null);break;case"focusout":Wl=Lu=Ji=null;break;case"mousedown":Hu=!0;break;case"contextmenu":case"mouseup":case"dragend":Hu=!1,Bh(x,i,w);break;case"selectionchange":if(qv)break;case"keydown":case"keyup":Bh(x,i,w)}var ne;if(Ou)e:{switch(e){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else Wi?Th(e,i)&&(ce="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ce="onCompositionStart");ce&&(bh&&i.locale!=="ko"&&(Wi||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&Wi&&(ne=ph()):(Un=w,Nu="value"in Un?Un.value:Un.textContent,Wi=!0)),V=cr(N,ce),0<V.length&&(ce=new vh(ce,e,null,i,w),x.push({event:ce,listeners:V}),ne?ce.data=ne:(ne=Ah(i),ne!==null&&(ce.data=ne)))),(ne=Mv?Ov(e,i):xv(e,i))&&(ce=cr(N,"onBeforeInput"),0<ce.length&&(V=new vh("onBeforeInput","beforeinput",null,i,w),x.push({event:V,listeners:ce}),V.data=ne)),C0(x,e,N,i,w)}o_(x,t)})}function ba(e,t,i){return{instance:e,listener:t,currentTarget:i}}function cr(e,t){for(var i=t+"Capture",s=[];e!==null;){var u=e,c=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||c===null||(u=Gl(e,i),u!=null&&s.unshift(ba(e,u,c)),u=Gl(e,t),u!=null&&s.push(ba(e,u,c))),e.tag===3)return s;e=e.return}return[]}function R0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function f_(e,t,i,s,u){for(var c=t._reactName,d=[];i!==null&&i!==s;){var g=i,y=g.alternate,N=g.stateNode;if(g=g.tag,y!==null&&y===s)break;g!==5&&g!==26&&g!==27||N===null||(y=N,u?(N=Gl(i,c),N!=null&&d.unshift(ba(i,N,y))):u||(N=Gl(i,c),N!=null&&d.push(ba(i,N,y)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var D0=/\r\n?/g,w0=/\u0000|\uFFFD/g;function h_(e){return(typeof e=="string"?e:""+e).replace(D0,`
`).replace(w0,"")}function d_(e,t){return t=h_(t),h_(e)===t}function Ce(e,t,i,s,u,c){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ki(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ki(e,""+s);break;case"className":ms(e,"class",s);break;case"tabIndex":ms(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ms(e,i,s);break;case"style":dh(e,s,c);break;case"data":if(t!=="object"){ms(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=ps(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&Ce(e,t,"name",u.name,u,null),Ce(e,t,"formEncType",u.formEncType,u,null),Ce(e,t,"formMethod",u.formMethod,u,null),Ce(e,t,"formTarget",u.formTarget,u,null)):(Ce(e,t,"encType",u.encType,u,null),Ce(e,t,"method",u.method,u,null),Ce(e,t,"target",u.target,u,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=ps(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=cn);break;case"onScroll":s!=null&&ue("scroll",e);break;case"onScrollEnd":s!=null&&ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=ps(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":ue("beforetoggle",e),ue("toggle",e),ds(e,"popover",s);break;case"xlinkActuate":on(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":on(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":on(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":on(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":on(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":on(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":on(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":on(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":on(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ds(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=iv.get(i)||i,ds(e,i,s))}}function uc(e,t,i,s,u,c){switch(i){case"style":dh(e,s,c);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Ki(e,s):(typeof s=="number"||typeof s=="bigint")&&Ki(e,""+s);break;case"onScroll":s!=null&&ue("scroll",e);break;case"onScrollEnd":s!=null&&ue("scrollend",e);break;case"onClick":s!=null&&(e.onclick=cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lh.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),t=i.slice(2,u?i.length-7:void 0),c=e[yt]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,u),typeof s=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,u);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):ds(e,i,s)}}}function ot(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",e),ue("load",e);var s=!1,u=!1,c;for(c in i)if(i.hasOwnProperty(c)){var d=i[c];if(d!=null)switch(c){case"src":s=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ce(e,t,c,d,i,null)}}u&&Ce(e,t,"srcSet",i.srcSet,i,null),s&&Ce(e,t,"src",i.src,i,null);return;case"input":ue("invalid",e);var g=c=d=u=null,y=null,N=null;for(s in i)if(i.hasOwnProperty(s)){var w=i[s];if(w!=null)switch(s){case"name":u=w;break;case"type":d=w;break;case"checked":y=w;break;case"defaultChecked":N=w;break;case"value":c=w;break;case"defaultValue":g=w;break;case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(137,t));break;default:Ce(e,t,s,w,i,null)}}oh(e,c,g,y,N,d,u,!1);return;case"select":ue("invalid",e),s=d=c=null;for(u in i)if(i.hasOwnProperty(u)&&(g=i[u],g!=null))switch(u){case"value":c=g;break;case"defaultValue":d=g;break;case"multiple":s=g;default:Ce(e,t,u,g,i,null)}t=c,i=d,e.multiple=!!s,t!=null?Xi(e,!!s,t,!1):i!=null&&Xi(e,!!s,i,!0);return;case"textarea":ue("invalid",e),c=u=s=null;for(d in i)if(i.hasOwnProperty(d)&&(g=i[d],g!=null))switch(d){case"value":s=g;break;case"defaultValue":u=g;break;case"children":c=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:Ce(e,t,d,g,i,null)}fh(e,s,u,c);return;case"option":for(y in i)if(i.hasOwnProperty(y)&&(s=i[y],s!=null))switch(y){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ce(e,t,y,s,i,null)}return;case"dialog":ue("beforetoggle",e),ue("toggle",e),ue("cancel",e),ue("close",e);break;case"iframe":case"object":ue("load",e);break;case"video":case"audio":for(s=0;s<Sa.length;s++)ue(Sa[s],e);break;case"image":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"embed":case"source":case"link":ue("error",e),ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in i)if(i.hasOwnProperty(N)&&(s=i[N],s!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ce(e,t,N,s,i,null)}return;default:if(bu(t)){for(w in i)i.hasOwnProperty(w)&&(s=i[w],s!==void 0&&uc(e,t,w,s,i,void 0));return}}for(g in i)i.hasOwnProperty(g)&&(s=i[g],s!=null&&Ce(e,t,g,s,i,null))}function M0(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,c=null,d=null,g=null,y=null,N=null,w=null;for(D in i){var x=i[D];if(i.hasOwnProperty(D)&&x!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":y=x;default:s.hasOwnProperty(D)||Ce(e,t,D,null,s,x)}}for(var R in s){var D=s[R];if(x=i[R],s.hasOwnProperty(R)&&(D!=null||x!=null))switch(R){case"type":c=D;break;case"name":u=D;break;case"checked":N=D;break;case"defaultChecked":w=D;break;case"value":d=D;break;case"defaultValue":g=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:D!==x&&Ce(e,t,R,D,s,x)}}vu(e,d,g,y,N,w,c,u);return;case"select":D=d=g=R=null;for(c in i)if(y=i[c],i.hasOwnProperty(c)&&y!=null)switch(c){case"value":break;case"multiple":D=y;default:s.hasOwnProperty(c)||Ce(e,t,c,null,s,y)}for(u in s)if(c=s[u],y=i[u],s.hasOwnProperty(u)&&(c!=null||y!=null))switch(u){case"value":R=c;break;case"defaultValue":g=c;break;case"multiple":d=c;default:c!==y&&Ce(e,t,u,c,s,y)}t=g,i=d,s=D,R!=null?Xi(e,!!i,R,!1):!!s!=!!i&&(t!=null?Xi(e,!!i,t,!0):Xi(e,!!i,i?[]:"",!1));return;case"textarea":D=R=null;for(g in i)if(u=i[g],i.hasOwnProperty(g)&&u!=null&&!s.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:Ce(e,t,g,null,s,u)}for(d in s)if(u=s[d],c=i[d],s.hasOwnProperty(d)&&(u!=null||c!=null))switch(d){case"value":R=u;break;case"defaultValue":D=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==c&&Ce(e,t,d,u,s,c)}ch(e,R,D);return;case"option":for(var G in i)if(R=i[G],i.hasOwnProperty(G)&&R!=null&&!s.hasOwnProperty(G))switch(G){case"selected":e.selected=!1;break;default:Ce(e,t,G,null,s,R)}for(y in s)if(R=s[y],D=i[y],s.hasOwnProperty(y)&&R!==D&&(R!=null||D!=null))switch(y){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:Ce(e,t,y,R,s,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var J in i)R=i[J],i.hasOwnProperty(J)&&R!=null&&!s.hasOwnProperty(J)&&Ce(e,t,J,null,s,R);for(N in s)if(R=s[N],D=i[N],s.hasOwnProperty(N)&&R!==D&&(R!=null||D!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:Ce(e,t,N,R,s,D)}return;default:if(bu(t)){for(var Te in i)R=i[Te],i.hasOwnProperty(Te)&&R!==void 0&&!s.hasOwnProperty(Te)&&uc(e,t,Te,void 0,s,R);for(w in s)R=s[w],D=i[w],!s.hasOwnProperty(w)||R===D||R===void 0&&D===void 0||uc(e,t,w,R,s,D);return}}for(var T in i)R=i[T],i.hasOwnProperty(T)&&R!=null&&!s.hasOwnProperty(T)&&Ce(e,t,T,null,s,R);for(x in s)R=s[x],D=i[x],!s.hasOwnProperty(x)||R===D||R==null&&D==null||Ce(e,t,x,R,s,D)}function m_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function O0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var u=i[s],c=u.transferSize,d=u.initiatorType,g=u.duration;if(c&&g&&m_(d)){for(d=0,g=u.responseEnd,s+=1;s<i.length;s++){var y=i[s],N=y.startTime;if(N>g)break;var w=y.transferSize,x=y.initiatorType;w&&m_(x)&&(y=y.responseEnd,d+=w*(y<g?1:(g-N)/(y-N)))}if(--s,t+=8*(c+d)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var oc=null,cc=null;function fr(e){return e.nodeType===9?e:e.ownerDocument}function __(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p_(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function fc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hc=null;function x0(){var e=window.event;return e&&e.type==="popstate"?e===hc?!1:(hc=e,!0):(hc=null,!1)}var g_=typeof setTimeout=="function"?setTimeout:void 0,z0=typeof clearTimeout=="function"?clearTimeout:void 0,y_=typeof Promise=="function"?Promise:void 0,U0=typeof queueMicrotask=="function"?queueMicrotask:typeof y_<"u"?function(e){return y_.resolve(null).then(e).catch(L0)}:g_;function L0(e){setTimeout(function(){throw e})}function Jn(e){return e==="head"}function v_(e,t){var i=t,s=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(u),Tl(t);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")Ea(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Ea(i);for(var c=i.firstChild;c;){var d=c.nextSibling,g=c.nodeName;c[ql]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&c.rel.toLowerCase()==="stylesheet"||i.removeChild(c),c=d}}else i==="body"&&Ea(e.ownerDocument.body);i=u}while(i);Tl(t)}function S_(e,t){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function dc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":dc(i),gu(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function H0(e,t,i,s){for(;e.nodeType===1;){var u=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ql])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function B0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Kt(e.nextSibling),e===null))return null;return e}function b_(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Kt(e.nextSibling),e===null))return null;return e}function mc(e){return e.data==="$?"||e.data==="$~"}function _c(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function I0(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var pc=null;function E_(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Kt(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function C_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function T_(e,t,i){switch(t=fr(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ea(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);gu(e)}var Zt=new Map,A_=new Set;function hr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Nn=H.d;H.d={f:j0,r:q0,D:k0,C:G0,L:Y0,m:V0,X:X0,S:Q0,M:K0};function j0(){var e=Nn.f(),t=ir();return e||t}function q0(e){var t=Yi(e);t!==null&&t.tag===5&&t.type==="form"?Gd(t):Nn.r(e)}var bl=typeof document>"u"?null:document;function N_(e,t,i){var s=bl;if(s&&typeof t=="string"&&t){var u=qt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),A_.has(u)||(A_.add(u),e={rel:e,crossOrigin:i,href:t},s.querySelector(u)===null&&(t=s.createElement("link"),ot(t,"link",e),et(t),s.head.appendChild(t)))}}function k0(e){Nn.D(e),N_("dns-prefetch",e,null)}function G0(e,t){Nn.C(e,t),N_("preconnect",e,t)}function Y0(e,t,i){Nn.L(e,t,i);var s=bl;if(s&&e&&t){var u='link[rel="preload"][as="'+qt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+qt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+qt(i.imageSizes)+'"]')):u+='[href="'+qt(e)+'"]';var c=u;switch(t){case"style":c=El(e);break;case"script":c=Cl(e)}Zt.has(c)||(e=v({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Zt.set(c,e),s.querySelector(u)!==null||t==="style"&&s.querySelector(Ca(c))||t==="script"&&s.querySelector(Ta(c))||(t=s.createElement("link"),ot(t,"link",e),et(t),s.head.appendChild(t)))}}function V0(e,t){Nn.m(e,t);var i=bl;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+qt(s)+'"][href="'+qt(e)+'"]',c=u;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Cl(e)}if(!Zt.has(c)&&(e=v({rel:"modulepreload",href:e},t),Zt.set(c,e),i.querySelector(u)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ta(c)))return}s=i.createElement("link"),ot(s,"link",e),et(s),i.head.appendChild(s)}}}function Q0(e,t,i){Nn.S(e,t,i);var s=bl;if(s&&e){var u=Vi(s).hoistableStyles,c=El(e);t=t||"default";var d=u.get(c);if(!d){var g={loading:0,preload:null};if(d=s.querySelector(Ca(c)))g.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Zt.get(c))&&gc(e,i);var y=d=s.createElement("link");et(y),ot(y,"link",e),y._p=new Promise(function(N,w){y.onload=N,y.onerror=w}),y.addEventListener("load",function(){g.loading|=1}),y.addEventListener("error",function(){g.loading|=2}),g.loading|=4,dr(d,t,s)}d={type:"stylesheet",instance:d,count:1,state:g},u.set(c,d)}}}function X0(e,t){Nn.X(e,t);var i=bl;if(i&&e){var s=Vi(i).hoistableScripts,u=Cl(e),c=s.get(u);c||(c=i.querySelector(Ta(u)),c||(e=v({src:e,async:!0},t),(t=Zt.get(u))&&yc(e,t),c=i.createElement("script"),et(c),ot(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(u,c))}}function K0(e,t){Nn.M(e,t);var i=bl;if(i&&e){var s=Vi(i).hoistableScripts,u=Cl(e),c=s.get(u);c||(c=i.querySelector(Ta(u)),c||(e=v({src:e,async:!0,type:"module"},t),(t=Zt.get(u))&&yc(e,t),c=i.createElement("script"),et(c),ot(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(u,c))}}function R_(e,t,i,s){var u=(u=se.current)?hr(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=El(i.href),i=Vi(u).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=El(i.href);var c=Vi(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Ca(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Zt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Zt.set(e,i),c||Z0(u,e,i,d.state))),t&&s===null)throw Error(r(528,""));return d}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Cl(i),i=Vi(u).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function El(e){return'href="'+qt(e)+'"'}function Ca(e){return'link[rel="stylesheet"]['+e+"]"}function D_(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Z0(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),ot(t,"link",i),et(t),e.head.appendChild(t))}function Cl(e){return'[src="'+qt(e)+'"]'}function Ta(e){return"script[async]"+e}function w_(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+qt(i.href)+'"]');if(s)return t.instance=s,et(s),s;var u=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),et(s),ot(s,"style",u),dr(s,i.precedence,e),t.instance=s;case"stylesheet":u=El(i.href);var c=e.querySelector(Ca(u));if(c)return t.state.loading|=4,t.instance=c,et(c),c;s=D_(i),(u=Zt.get(u))&&gc(s,u),c=(e.ownerDocument||e).createElement("link"),et(c);var d=c;return d._p=new Promise(function(g,y){d.onload=g,d.onerror=y}),ot(c,"link",s),t.state.loading|=4,dr(c,i.precedence,e),t.instance=c;case"script":return c=Cl(i.src),(u=e.querySelector(Ta(c)))?(t.instance=u,et(u),u):(s=i,(u=Zt.get(c))&&(s=v({},i),yc(s,u)),e=e.ownerDocument||e,u=e.createElement("script"),et(u),ot(u,"link",s),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,dr(s,i.precedence,e));return t.instance}function dr(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=s.length?s[s.length-1]:null,c=u,d=0;d<s.length;d++){var g=s[d];if(g.dataset.precedence===t)c=g;else if(c!==u)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function gc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function yc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var mr=null;function M_(e,t,i){if(mr===null){var s=new Map,u=mr=new Map;u.set(i,s)}else u=mr,s=u.get(i),s||(s=new Map,u.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),u=0;u<i.length;u++){var c=i[u];if(!(c[ql]||c[at]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(t)||"";d=e+d;var g=s.get(d);g?g.push(c):s.set(d,[c])}}return s}function O_(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function F0(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function x_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function W0(e,t,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=El(s.href),c=t.querySelector(Ca(u));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=_r.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=c,et(c);return}c=t.ownerDocument||t,s=D_(s),(u=Zt.get(u))&&gc(s,u),c=c.createElement("link"),et(c);var d=c;d._p=new Promise(function(g,y){d.onload=g,d.onerror=y}),ot(c,"link",s),i.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=_r.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var vc=0;function J0(e,t){return e.stylesheets&&e.count===0&&gr(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&gr(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&vc===0&&(vc=62500*O0());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gr(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>vc?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(u)}}:null}function _r(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pr=null;function gr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pr=new Map,t.forEach(P0,e),pr=null,_r.call(e))}function P0(e,t){if(!(t.state.loading&4)){var i=pr.get(e);if(i)var s=i.get(null);else{i=new Map,pr.set(e,i);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<u.length;c++){var d=u[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),s=d)}s&&i.set(null,s)}u=t.instance,d=u.getAttribute("data-precedence"),c=i.get(d)||s,c===s&&i.set(null,u),i.set(d,u),this.count++,s=_r.bind(this),u.addEventListener("load",s),u.addEventListener("error",s),c?c.parentNode.insertBefore(u,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Aa={$$typeof:he,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function $0(e,t,i,s,u,c,d,g,y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=du(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=du(0),this.hiddenUpdates=du(null),this.identifierPrefix=s,this.onUncaughtError=u,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function z_(e,t,i,s,u,c,d,g,y,N,w,x){return e=new $0(e,t,i,d,y,N,w,x,g),t=1,c===!0&&(t|=24),c=zt(3,null,null,t),e.current=c,c.stateNode=e,t=Ju(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:s,isDehydrated:i,cache:t},to(c),e}function U_(e){return e?(e=el,e):el}function L_(e,t,i,s,u,c){u=U_(u),s.context===null?s.context=u:s.pendingContext=u,s=qn(t),s.payload={element:i},c=c===void 0?null:c,c!==null&&(s.callback=c),i=kn(e,s,t),i!==null&&(Tt(i,e,t),ia(i,e,t))}function H_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Sc(e,t){H_(e,t),(e=e.alternate)&&H_(e,t)}function B_(e){if(e.tag===13||e.tag===31){var t=yi(e,67108864);t!==null&&Tt(t,e,67108864),Sc(e,67108864)}}function I_(e){if(e.tag===13||e.tag===31){var t=It();t=mu(t);var i=yi(e,t);i!==null&&Tt(i,e,t),Sc(e,t)}}var yr=!0;function e1(e,t,i,s){var u=M.T;M.T=null;var c=H.p;try{H.p=2,bc(e,t,i,s)}finally{H.p=c,M.T=u}}function t1(e,t,i,s){var u=M.T;M.T=null;var c=H.p;try{H.p=8,bc(e,t,i,s)}finally{H.p=c,M.T=u}}function bc(e,t,i,s){if(yr){var u=Ec(s);if(u===null)rc(e,t,s,vr,i),q_(e,s);else if(i1(u,e,t,i,s))s.stopPropagation();else if(q_(e,s),t&4&&-1<n1.indexOf(e)){for(;u!==null;){var c=Yi(u);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=di(c.pendingLanes);if(d!==0){var g=c;for(g.pendingLanes|=2,g.entangledLanes|=2;d;){var y=1<<31-Ot(d);g.entanglements[1]|=y,d&=~y}sn(c),(pe&6)===0&&(tr=wt()+500,va(0))}}break;case 31:case 13:g=yi(c,2),g!==null&&Tt(g,c,2),ir(),Sc(c,2)}if(c=Ec(s),c===null&&rc(e,t,s,vr,i),c===u)break;u=c}u!==null&&s.stopPropagation()}else rc(e,t,s,null,i)}}function Ec(e){return e=Cu(e),Cc(e)}var vr=null;function Cc(e){if(vr=null,e=Gi(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===31){if(e=m(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return vr=e,null}function j_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ky()){case Kf:return 2;case Zf:return 8;case us:case Gy:return 32;case Ff:return 268435456;default:return 32}default:return 32}}var Tc=!1,Pn=null,$n=null,ei=null,Na=new Map,Ra=new Map,ti=[],n1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q_(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":Na.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ra.delete(t.pointerId)}}function Da(e,t,i,s,u,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:c,targetContainers:[u]},t!==null&&(t=Yi(t),t!==null&&B_(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function i1(e,t,i,s,u){switch(t){case"focusin":return Pn=Da(Pn,e,t,i,s,u),!0;case"dragenter":return $n=Da($n,e,t,i,s,u),!0;case"mouseover":return ei=Da(ei,e,t,i,s,u),!0;case"pointerover":var c=u.pointerId;return Na.set(c,Da(Na.get(c)||null,e,t,i,s,u)),!0;case"gotpointercapture":return c=u.pointerId,Ra.set(c,Da(Ra.get(c)||null,e,t,i,s,u)),!0}return!1}function k_(e){var t=Gi(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,th(e.priority,function(){I_(i)});return}}else if(t===31){if(t=m(i),t!==null){e.blockedOn=t,th(e.priority,function(){I_(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Ec(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);Eu=s,i.target.dispatchEvent(s),Eu=null}else return t=Yi(i),t!==null&&B_(t),e.blockedOn=i,!1;t.shift()}return!0}function G_(e,t,i){Sr(e)&&i.delete(t)}function l1(){Tc=!1,Pn!==null&&Sr(Pn)&&(Pn=null),$n!==null&&Sr($n)&&($n=null),ei!==null&&Sr(ei)&&(ei=null),Na.forEach(G_),Ra.forEach(G_)}function br(e,t){e.blockedOn===t&&(e.blockedOn=null,Tc||(Tc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,l1)))}var Er=null;function Y_(e){Er!==e&&(Er=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Er===e&&(Er=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],u=e[t+2];if(typeof s!="function"){if(Cc(s||i)===null)continue;break}var c=Yi(i);c!==null&&(e.splice(t,3),t-=3,Eo(c,{pending:!0,data:u,method:i.method,action:s},s,u))}}))}function Tl(e){function t(y){return br(y,e)}Pn!==null&&br(Pn,e),$n!==null&&br($n,e),ei!==null&&br(ei,e),Na.forEach(t),Ra.forEach(t);for(var i=0;i<ti.length;i++){var s=ti[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ti.length&&(i=ti[0],i.blockedOn===null);)k_(i),i.blockedOn===null&&ti.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var u=i[s],c=i[s+1],d=u[yt]||null;if(typeof c=="function")d||Y_(i);else if(d){var g=null;if(c&&c.hasAttribute("formAction")){if(u=c,d=c[yt]||null)g=d.formAction;else if(Cc(u)!==null)continue}else g=d.action;typeof g=="function"?i[s+1]=g:(i.splice(s,3),s-=3),Y_(i)}}}function V_(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(d){return u=d})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Ac(e){this._internalRoot=e}Cr.prototype.render=Ac.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,s=It();L_(i,s,e,t,null,null)},Cr.prototype.unmount=Ac.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;L_(e.current,2,null,e,null,null),ir(),t[ki]=null}};function Cr(e){this._internalRoot=e}Cr.prototype.unstable_scheduleHydration=function(e){if(e){var t=eh();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ti.length&&t!==0&&t<ti[i].priority;i++);ti.splice(i,0,e),i===0&&k_(e)}};var Q_=n.version;if(Q_!=="19.2.0")throw Error(r(527,Q_,"19.2.0"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(t),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var a1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tr.isDisabled&&Tr.supportsFiber)try{Bl=Tr.inject(a1),Mt=Tr}catch{}}return Ma.createRoot=function(e,t){if(!o(e))throw Error(r(299));var i=!1,s="",u=Pd,c=$d,d=em;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=z_(e,1,!1,null,null,i,s,null,u,c,d,V_),e[ki]=t.current,sc(e),new Ac(t)},Ma.hydrateRoot=function(e,t,i){if(!o(e))throw Error(r(299));var s=!1,u="",c=Pd,d=$d,g=em,y=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError),i.formState!==void 0&&(y=i.formState)),t=z_(e,1,!0,t,i??null,s,u,y,c,d,g,V_),t.context=U_(null),i=t.current,s=It(),s=mu(s),u=qn(s),u.callback=null,kn(i,u,s),i=s,t.current.lanes=i,jl(t,i),sn(t),e[ki]=t.current,sc(e),new Cr(t)},Ma.version="19.2.0",Ma}var tp;function _1(){if(tp)return Dc.exports;tp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Dc.exports=m1(),Dc.exports}var p1=_1();const g1=({width:a=800,height:n=600,onCanvasReady:l,onResize:r})=>{const o=q.useRef(null),f=q.useRef(null),[h,m]=q.useState({width:a,height:n});return q.useEffect(()=>{const p=o.current;if(!p)return;const _=p.getContext("2d");if(!_)return;_.imageSmoothingEnabled=!1,l?.({canvas:p,ctx:_,size:h})},[h,l]),q.useEffect(()=>{const p=()=>{const _=f.current;if(!_)return;const S=_.clientWidth-20,U=n/a,B=Math.min(S,a),K=Math.floor(B*U),j=window.innerHeight*.65;if(K>j){const Q=j,X=Math.floor(Q/U);m({width:X,height:Q}),r?.({width:X,height:Q})}else m({width:B,height:K}),r?.({width:B,height:K})};return window.addEventListener("resize",p),setTimeout(p,100),()=>window.removeEventListener("resize",p)},[a,n,r]),L.jsx("div",{ref:f,style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"0 10px"},children:L.jsx("canvas",{ref:o,width:h.width,height:h.height,style:{border:"2px solid #333",borderRadius:"8px",display:"block",width:"100%",height:"auto",maxWidth:`${h.width}px`,touchAction:"none"}})})},ft={WALL:"wall",PATH:"path",START:"start",FINISH:"finish",PLAYER:"player"},y1=a=>{const n=Math.floor(a/1e3),l=Math.floor(n/60),r=n%60;return`${l}:${r.toString().padStart(2,"0")}`},v1={classic:{wall:"#2c3e50",path:"#ecf0f1",start:"#2ecc71",finish:"#e74c3c",player:"#3498db",gridColor:"#95a5a6",background:"#34495e"}},zi=v1.classic,tg={[ft.WALL]:zi.wall,[ft.PATH]:zi.path,[ft.START]:zi.start,[ft.FINISH]:zi.finish,[ft.PLAYER]:zi.player},S1=(a,n,l)=>{const r=n.position.x*l,o=n.position.y*l;a.fillStyle=tg[n.type],a.fillRect(r,o,l,l),a.strokeStyle=zi.gridColor,a.lineWidth=1,a.strokeRect(r,o,l,l)},b1=(a,n,l)=>{a.clearRect(0,0,a.canvas.width,a.canvas.height),a.fillStyle=zi.background,a.fillRect(0,0,a.canvas.width,a.canvas.height),n.forEach(r=>{r.forEach(o=>{S1(a,o,l)})})},E1=(a,n,l)=>{const r=n.x*l+l/2,o=n.y*l+l/2,f=l/3;a.fillStyle=tg[ft.PLAYER],a.beginPath(),a.arc(r,o,f,0,Math.PI*2),a.fill(),a.strokeStyle="#2980b9",a.lineWidth=2,a.stroke()},C1=(a,n,l)=>{b1(a,n.maze,l),E1(a,n.player.position,l),n.gameStatus==="paused"&&T1(a),n.gameStatus==="won"&&A1(a,n)},T1=a=>{a.fillStyle="rgba(0, 0, 0, 0.5)",a.fillRect(0,0,a.canvas.width,a.canvas.height),a.fillStyle="#ffffff",a.font="bold 48px Arial",a.textAlign="center",a.textBaseline="middle",a.fillText("ПАУЗА",a.canvas.width/2,a.canvas.height/2),a.font="24px Arial",a.fillText("Натисніть ESC для продовження",a.canvas.width/2,a.canvas.height/2+50)},A1=(a,n)=>{a.fillStyle="rgba(46, 204, 113, 0.8)",a.fillRect(0,0,a.canvas.width,a.canvas.height),a.fillStyle="#ffffff",a.font="bold 56px Arial",a.textAlign="center",a.textBaseline="middle",a.fillText("🎉 ПЕРЕМОГА! 🎉",a.canvas.width/2,a.canvas.height/2-50),a.font="28px Arial",a.fillText(`Кроків: ${n.moves}`,a.canvas.width/2,a.canvas.height/2+20),a.font="20px Arial",a.fillText("Натисніть R для нової гри",a.canvas.width/2,a.canvas.height/2+70)},N1=(a,n,l,r)=>{const o=Math.floor(a/l),f=Math.floor(n/r);return Math.min(o,f)};function R1(a,n){const l=[];for(let f=0;f<n;f++){const h=[];for(let m=0;m<a;m++)h.push({type:ft.WALL,position:{x:m,y:f}});l.push(h)}const r=[],o={x:1,y:1};for(l[o.y][o.x].type=ft.PATH,np(o,r,l,a,n);r.length>0;){const f=Math.floor(Math.random()*r.length),h=r.splice(f,1)[0];l[h.y][h.x].type===ft.WALL&&D1(h,l).length===1&&(l[h.y][h.x].type=ft.PATH,np(h,r,l,a,n))}return l[1][1].type=ft.START,l[n-2][a-2].type=ft.FINISH,l}function np(a,n,l,r,o){[{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:-1,y:0}].forEach(h=>{const m=a.x+h.x,p=a.y+h.y;m>0&&m<r-1&&p>0&&p<o-1&&l[p][m].type===ft.WALL&&n.push({x:m,y:p})})}function D1(a,n){const l=[];return[{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:-1,y:0}].forEach(o=>{const f=a.x+o.x,h=a.y+o.y;h>=0&&h<n.length&&f>=0&&f<n[0].length&&n[h][f].type===ft.PATH&&l.push({x:f,y:h})}),l}const w1=a=>{const n=Math.floor(a/60),l=Math.floor(a%60);return`${n}:${l.toString().padStart(2,"0")}`},M1=a=>new Date(a).toLocaleDateString("uk-UA",{day:"2-digit",month:"2-digit",year:"numeric"}),O1=({gameState:a})=>{const[n,l]=q.useState(0);return q.useEffect(()=>{if(a.gameStatus==="playing"){const r=setInterval(()=>{l(Date.now()-a.startTime)},100);return()=>clearInterval(r)}else a.gameStatus==="won"&&a.endTime&&l(a.endTime-a.startTime)},[a.gameStatus,a.startTime,a.endTime]),L.jsxs("div",{className:"game-stats",children:[L.jsxs("div",{className:"stat-item",children:[L.jsx("span",{className:"stat-label",children:"⏱️ Час:"}),L.jsx("span",{className:"stat-value",children:y1(n)})]}),L.jsxs("div",{className:"stat-item",children:[L.jsx("span",{className:"stat-label",children:"👣 Кроки:"}),L.jsx("span",{className:"stat-value",children:a.moves})]}),L.jsxs("div",{className:"stat-item",children:[L.jsx("span",{className:"stat-label",children:"📊 Статус:"}),L.jsxs("span",{className:`stat-value status-${a.gameStatus}`,children:[a.gameStatus==="playing"&&"🎮 Гра",a.gameStatus==="paused"&&"⏸️ Пауза",a.gameStatus==="won"&&"🏆 Перемога"]})]}),L.jsxs("div",{className:"stat-item",children:[L.jsx("span",{className:"stat-label",children:"📐 Розмір:"}),L.jsxs("span",{className:"stat-value",children:[a.mazeSize.width," × ",a.mazeSize.height]})]})]})},x1=({onPause:a,onReset:n,onMove:l,isPaused:r=!1,onToggleSound:o,isMuted:f=!1,onToggleMusic:h,isMusicMuted:m=!1})=>L.jsxs("div",{className:"game-controls",children:[l&&L.jsxs("div",{className:"direction-controls",children:[L.jsx("div",{className:"direction-row",children:L.jsx("button",{className:"direction-btn",onClick:()=>l("up"),title:"Вгору (W або ↑)",children:"⬆️"})}),L.jsxs("div",{className:"direction-row",children:[L.jsx("button",{className:"direction-btn",onClick:()=>l("left"),title:"Вліво (A або ←)",children:"⬅️"}),L.jsx("button",{className:"direction-btn",onClick:()=>l("down"),title:"Вниз (S або ↓)",children:"⬇️"}),L.jsx("button",{className:"direction-btn",onClick:()=>l("right"),title:"Вправо (D або →)",children:"➡️"})]})]}),L.jsxs("div",{className:"control-buttons",children:[L.jsx("button",{className:"control-btn pause-btn",onClick:a,title:"Пауза (ESC)",children:r?"▶️ Продовжити":"⏸️ Пауза"}),L.jsx("button",{className:"control-btn reset-btn",onClick:n,title:"Рестарт (R)",children:"🔄 Рестарт"}),o&&L.jsx("button",{className:"control-btn sound-btn",onClick:o,title:f?"Увімкнути звук":"Вимкнути звук",children:f?"🔇 Звук":"🔊 Звук"}),h&&L.jsx("button",{className:"control-btn music-btn",onClick:h,title:m?"Увімкнути музику":"Вимкнути музику",children:m?"🎵 Музика":"🎶 Музика"})]})]}),z1=["блять","бляд","хуй","хуя","піда","сука","пизд","єбат","їбат","ебат","гандон","мудак","дебіл","ідіот","лайно","срака","жопа","довб","курв","шлюх","падл","сволоч","муділ","чмир","чмо","йобан","йоба","сука","блядь","хуй","пизда","ебать","мудак","гандон","идиот","сволочь","курва","шлюха","падла","дурак","fuck","shit","bitch","ass","damn","crap","dick","cock","pussy","bastard","asshole","retard","idiot","stupid","dumb","moron","f*ck","sh*t","b*tch","a$$","@ss","fck","fuk","fcuk","xuj","hui","blyat","suka","pizda","ebat"];function ip(a){return a.toLowerCase().replace(/[^\wа-яїієґ]/gi,"").replace(/[0o]/g,"o").replace(/[1l!|іі]/g,"i").replace(/[3eеє]/g,"e").replace(/[4a@а]/g,"a").replace(/[5s$]/g,"s").replace(/[7t]/g,"t").replace(/[8b]/g,"b").replace(/[уu]/g,"u").replace(/[хx]/g,"x").replace(/[сc]/g,"c")}function U1(a){const n=ip(a);return z1.some(l=>{const r=ip(l);return n.includes(r)})}function L1(a){return!a||a.trim().length===0?{isValid:!1,error:"Ім'я не може бути порожнім"}:a.trim().length<2?{isValid:!1,error:"Ім'я має містити мінімум 2 символи"}:a.length>20?{isValid:!1,error:"Ім'я має містити максимум 20 символів"}:U1(a)?{isValid:!1,error:"Ім'я містить недопустимі слова. Будь ласка, оберіть інше ім'я"}:/[a-zа-яїієґ0-9]/i.test(a)?{isValid:!0}:{isValid:!1,error:"Ім'я має містити хоча б одну літеру або цифру"}}function H1(a){return a.trim().replace(/\s+/g," ")}const B1=({onSubmit:a})=>{const[n,l]=q.useState(""),[r,o]=q.useState(null),f=m=>{m.preventDefault();const p=H1(n);if(!p){a("Анонім");return}const _=L1(p);if(!_.isValid){o(_.error||"Некоректне ім'я");return}o(null),a(p)},h=m=>{l(m.target.value),r&&o(null)};return L.jsxs("div",{className:"player-name-container",children:[L.jsx("h2",{className:"player-name-title",children:"👤 Введіть своє ім'я"}),L.jsxs("form",{onSubmit:f,className:"player-name-form",children:[L.jsx("input",{type:"text",value:n,onChange:h,placeholder:"Ваше ім'я...",maxLength:20,className:`player-name-input ${r?"error":""}`,autoFocus:!0}),r&&L.jsxs("div",{className:"player-name-error",children:["⚠️ ",r]}),L.jsx("button",{type:"submit",className:"player-name-submit",children:"✅ Продовжити"})]}),L.jsx("p",{className:"player-name-hint",children:"Ваш результат буде збережено в таблиці лідерів"})]})},I1=()=>{};var lp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I=function(a,n){if(!a)throw xl(n)},xl=function(a){return new Error("Firebase Database ("+ng.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=function(a){const n=[];let l=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},j1=function(a){const n=[];let l=0,r=0;for(;l<a.length;){const o=a[l++];if(o<128)n[r++]=String.fromCharCode(o);else if(o>191&&o<224){const f=a[l++];n[r++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=a[l++],h=a[l++],m=a[l++],p=((o&7)<<18|(f&63)<<12|(h&63)<<6|m&63)-65536;n[r++]=String.fromCharCode(55296+(p>>10)),n[r++]=String.fromCharCode(56320+(p&1023))}else{const f=a[l++],h=a[l++];n[r++]=String.fromCharCode((o&15)<<12|(f&63)<<6|h&63)}}return n.join("")},of={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,n){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const f=a[o],h=o+1<a.length,m=h?a[o+1]:0,p=o+2<a.length,_=p?a[o+2]:0,E=f>>2,v=(f&3)<<4|m>>4;let S=(m&15)<<2|_>>6,U=_&63;p||(U=64,h||(S=64)),r.push(l[E],l[v],l[S],l[U])}return r.join("")},encodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(a):this.encodeByteArray(ig(a),n)},decodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(a):j1(this.decodeStringToByteArray(a,n))},decodeStringToByteArray(a,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const f=l[a.charAt(o++)],m=o<a.length?l[a.charAt(o)]:0;++o;const _=o<a.length?l[a.charAt(o)]:64;++o;const v=o<a.length?l[a.charAt(o)]:64;if(++o,f==null||m==null||_==null||v==null)throw new q1;const S=f<<2|m>>4;if(r.push(S),_!==64){const U=m<<4&240|_>>2;if(r.push(U),v!==64){const B=_<<6&192|v;r.push(B)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class q1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lg=function(a){const n=ig(a);return of.encodeByteArray(n,!0)},Dr=function(a){return lg(a).replace(/\./g,"")},Vc=function(a){try{return of.decodeString(a,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(a){return ag(void 0,a)}function ag(a,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!G1(l)||(a[l]=ag(a[l],n[l]));return a}function G1(a){return a!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=()=>Y1().__FIREBASE_DEFAULTS__,Q1=()=>{if(typeof process>"u"||typeof lp>"u")return;const a=lp.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},X1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=a&&Vc(a[1]);return n&&JSON.parse(n)},sg=()=>{try{return I1()||V1()||Q1()||X1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},K1=a=>sg()?.emulatorHosts?.[a],Z1=a=>{const n=K1(a);if(!n)return;const l=n.lastIndexOf(":");if(l<=0||l+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(l+1),10);return n[0]==="["?[n.substring(1,l-1),r]:[n.substring(0,l),r]},rg=()=>sg()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,r)=>{l?this.reject(l):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function F1(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(a,n){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},r=n||"demo-project",o=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Dr(JSON.stringify(l)),Dr(JSON.stringify(h)),""].join(".")}const La={};function J1(){const a={prod:[],emulator:[]};for(const n of Object.keys(La))La[n]?a.emulator.push(n):a.prod.push(n);return a}function P1(a){let n=document.getElementById(a),l=!1;return n||(n=document.createElement("div"),n.setAttribute("id",a),l=!0),{created:l,element:n}}let ap=!1;function $1(a,n){if(typeof window>"u"||typeof document>"u"||!cf(window.location.host)||La[a]===n||La[a]||ap)return;La[a]=n;function l(S){return`__firebase__banner__${S}`}const r="__firebase__banner",f=J1().prod.length>0;function h(){const S=document.getElementById(r);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,U){S.setAttribute("width","24"),S.setAttribute("id",U),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function _(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{ap=!0,h()},S}function E(S,U){S.setAttribute("id",U),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function v(){const S=P1(r),U=l("text"),B=document.getElementById(U)||document.createElement("span"),K=l("learnmore"),j=document.getElementById(K)||document.createElement("a"),Q=l("preprendIcon"),X=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const he=S.element;m(he),E(j,K);const De=_();p(X,Q),he.append(X,B,j,De),document.body.appendChild(he)}f?(B.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ug(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(eS())}function tS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nS(){return ng.NODE_ADMIN===!0}function iS(){try{return typeof indexedDB=="object"}catch{return!1}}function lS(){return new Promise((a,n)=>{try{let l=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),l||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{l=!1},o.onerror=()=>{n(o.error?.message||"")}}catch(l){n(l)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="FirebaseError";class $a extends Error{constructor(n,l,r){super(l),this.code=n,this.customData=r,this.name=aS,Object.setPrototypeOf(this,$a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,og.prototype.create)}}class og{constructor(n,l,r){this.service=n,this.serviceName=l,this.errors=r}create(n,...l){const r=l[0]||{},o=`${this.service}/${n}`,f=this.errors[n],h=f?sS(f,r):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new $a(o,m,r)}}function sS(a,n){return a.replace(rS,(l,r)=>{const o=n[r];return o!=null?String(o):`<${r}?>`})}const rS=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(a){return JSON.parse(a)}function Je(a){return JSON.stringify(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=function(a){let n={},l={},r={},o="";try{const f=a.split(".");n=ka(Vc(f[0])||""),l=ka(Vc(f[1])||""),o=f[2],r=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:r,signature:o}},uS=function(a){const n=cg(a),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},oS=function(a){const n=cg(a).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function wl(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]}function sp(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}function wr(a,n,l){const r={};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=n.call(l,a[o],o,a));return r}function Mr(a,n){if(a===n)return!0;const l=Object.keys(a),r=Object.keys(n);for(const o of l){if(!r.includes(o))return!1;const f=a[o],h=n[o];if(rp(f)&&rp(h)){if(!Mr(f,h))return!1}else if(f!==h)return!1}for(const o of r)if(!l.includes(o))return!1;return!0}function rp(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(a){const n=[];for(const[l,r]of Object.entries(a))Array.isArray(r)?r.forEach(o=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(o))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const r=this.W_;if(typeof n=="string")for(let v=0;v<16;v++)r[v]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let v=0;v<16;v++)r[v]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let v=16;v<80;v++){const S=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(S<<1|S>>>31)&4294967295}let o=this.chain_[0],f=this.chain_[1],h=this.chain_[2],m=this.chain_[3],p=this.chain_[4],_,E;for(let v=0;v<80;v++){v<40?v<20?(_=m^f&(h^m),E=1518500249):(_=f^h^m,E=1859775393):v<60?(_=f&h|m&(f|h),E=2400959708):(_=f^h^m,E=3395469782);const S=(o<<5|o>>>27)+_+p+E+r[v]&4294967295;p=m,m=h,h=(f<<30|f>>>2)&4294967295,f=o,o=S}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const r=l-this.blockSize;let o=0;const f=this.buf_;let h=this.inbuf_;for(;o<l;){if(h===0)for(;o<=r;)this.compress_(n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<l;)if(f[h]=n.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}else for(;o<l;)if(f[h]=n[o],++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=l&255,l/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let f=24;f>=0;f-=8)n[r]=this.chain_[o]>>f&255,++r;return n}}function ff(a,n){return`${a} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=function(a){const n=[];let l=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);if(o>=55296&&o<=56319){const f=o-55296;r++,I(r<a.length,"Surrogate pair missing trail surrogate.");const h=a.charCodeAt(r)-56320;o=65536+(f<<10)+h}o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):o<65536?(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},Wr=function(a){let n=0;for(let l=0;l<a.length;l++){const r=a.charCodeAt(l);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,l++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(a){return a&&a._delegate?a._delegate:a}class Ga{constructor(n,l,r){this.name=n,this.instanceFactory=l,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const r=new Fr;if(this.instancesDeferred.set(l,r),this.isInitialized(l)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:l});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){const l=this.normalizeInstanceIdentifier(n?.identifier),r=n?.optional??!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(_S(n))try{this.getOrInitializeService({instanceIdentifier:Oi})}catch{}for(const[l,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(l);try{const f=this.getOrInitializeService({instanceIdentifier:o});r.resolve(f)}catch{}}}}clearInstance(n=Oi){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Oi){return this.instances.has(n)}getOptions(n=Oi){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:l});for(const[f,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(f);r===m&&h.resolve(o)}return o}onInit(n,l){const r=this.normalizeInstanceIdentifier(l),o=this.onInitCallbacks.get(r)??new Set;o.add(n),this.onInitCallbacks.set(r,o);const f=this.instances.get(r);return f&&n(f,r),()=>{o.delete(n)}}invokeOnInitCallbacks(n,l){const r=this.onInitCallbacks.get(l);if(r)for(const o of r)try{o(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mS(n),options:l}),this.instances.set(n,r),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=Oi){return this.component?this.component.multipleInstances?n:Oi:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mS(a){return a===Oi?void 0:a}function _S(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new dS(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Me||(Me={}));const gS={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},yS=Me.INFO,vS={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},SS=(a,n,...l)=>{if(n<a.logLevel)return;const r=new Date().toISOString(),o=vS[n];if(o)console[o](`[${r}]  ${a.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class fg{constructor(n){this.name=n,this._logLevel=yS,this._logHandler=SS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Me))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?gS[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...n),this._logHandler(this,Me.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...n),this._logHandler(this,Me.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...n),this._logHandler(this,Me.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...n),this._logHandler(this,Me.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...n),this._logHandler(this,Me.ERROR,...n)}}const bS=(a,n)=>n.some(l=>a instanceof l);let up,op;function ES(){return up||(up=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CS(){return op||(op=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hg=new WeakMap,Qc=new WeakMap,dg=new WeakMap,xc=new WeakMap,hf=new WeakMap;function TS(a){const n=new Promise((l,r)=>{const o=()=>{a.removeEventListener("success",f),a.removeEventListener("error",h)},f=()=>{l(ii(a.result)),o()},h=()=>{r(a.error),o()};a.addEventListener("success",f),a.addEventListener("error",h)});return n.then(l=>{l instanceof IDBCursor&&hg.set(l,a)}).catch(()=>{}),hf.set(n,a),n}function AS(a){if(Qc.has(a))return;const n=new Promise((l,r)=>{const o=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",h),a.removeEventListener("abort",h)},f=()=>{l(),o()},h=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",f),a.addEventListener("error",h),a.addEventListener("abort",h)});Qc.set(a,n)}let Xc={get(a,n,l){if(a instanceof IDBTransaction){if(n==="done")return Qc.get(a);if(n==="objectStoreNames")return a.objectStoreNames||dg.get(a);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return ii(a[n])},set(a,n,l){return a[n]=l,!0},has(a,n){return a instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in a}};function NS(a){Xc=a(Xc)}function RS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const r=a.call(zc(this),n,...l);return dg.set(r,n.sort?n.sort():[n]),ii(r)}:CS().includes(a)?function(...n){return a.apply(zc(this),n),ii(hg.get(this))}:function(...n){return ii(a.apply(zc(this),n))}}function DS(a){return typeof a=="function"?RS(a):(a instanceof IDBTransaction&&AS(a),bS(a,ES())?new Proxy(a,Xc):a)}function ii(a){if(a instanceof IDBRequest)return TS(a);if(xc.has(a))return xc.get(a);const n=DS(a);return n!==a&&(xc.set(a,n),hf.set(n,a)),n}const zc=a=>hf.get(a);function wS(a,n,{blocked:l,upgrade:r,blocking:o,terminated:f}={}){const h=indexedDB.open(a,n),m=ii(h);return r&&h.addEventListener("upgradeneeded",p=>{r(ii(h.result),p.oldVersion,p.newVersion,ii(h.transaction),p)}),l&&h.addEventListener("blocked",p=>l(p.oldVersion,p.newVersion,p)),m.then(p=>{f&&p.addEventListener("close",()=>f()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const MS=["get","getKey","getAll","getAllKeys","count"],OS=["put","add","delete","clear"],Uc=new Map;function cp(a,n){if(!(a instanceof IDBDatabase&&!(n in a)&&typeof n=="string"))return;if(Uc.get(n))return Uc.get(n);const l=n.replace(/FromIndex$/,""),r=n!==l,o=OS.includes(l);if(!(l in(r?IDBIndex:IDBObjectStore).prototype)||!(o||MS.includes(l)))return;const f=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let _=p.store;return r&&(_=_.index(m.shift())),(await Promise.all([_[l](...m),o&&p.done]))[0]};return Uc.set(n,f),f}NS(a=>({...a,get:(n,l,r)=>cp(n,l)||a.get(n,l,r),has:(n,l)=>!!cp(n,l)||a.has(n,l)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(zS(l)){const r=l.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(l=>l).join(" ")}}function zS(a){return a.getComponent()?.type==="VERSION"}const Kc="@firebase/app",fp="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn=new fg("@firebase/app"),US="@firebase/app-compat",LS="@firebase/analytics-compat",HS="@firebase/analytics",BS="@firebase/app-check-compat",IS="@firebase/app-check",jS="@firebase/auth",qS="@firebase/auth-compat",kS="@firebase/database",GS="@firebase/data-connect",YS="@firebase/database-compat",VS="@firebase/functions",QS="@firebase/functions-compat",XS="@firebase/installations",KS="@firebase/installations-compat",ZS="@firebase/messaging",FS="@firebase/messaging-compat",WS="@firebase/performance",JS="@firebase/performance-compat",PS="@firebase/remote-config",$S="@firebase/remote-config-compat",eb="@firebase/storage",tb="@firebase/storage-compat",nb="@firebase/firestore",ib="@firebase/ai",lb="@firebase/firestore-compat",ab="firebase",sb="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc="[DEFAULT]",rb={[Kc]:"fire-core",[US]:"fire-core-compat",[HS]:"fire-analytics",[LS]:"fire-analytics-compat",[IS]:"fire-app-check",[BS]:"fire-app-check-compat",[jS]:"fire-auth",[qS]:"fire-auth-compat",[kS]:"fire-rtdb",[GS]:"fire-data-connect",[YS]:"fire-rtdb-compat",[VS]:"fire-fn",[QS]:"fire-fn-compat",[XS]:"fire-iid",[KS]:"fire-iid-compat",[ZS]:"fire-fcm",[FS]:"fire-fcm-compat",[WS]:"fire-perf",[JS]:"fire-perf-compat",[PS]:"fire-rc",[$S]:"fire-rc-compat",[eb]:"fire-gcs",[tb]:"fire-gcs-compat",[nb]:"fire-fst",[lb]:"fire-fst-compat",[ib]:"fire-vertex","fire-js":"fire-js",[ab]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new Map,ub=new Map,Fc=new Map;function hp(a,n){try{a.container.addComponent(n)}catch(l){wn.debug(`Component ${n.name} failed to register with FirebaseApp ${a.name}`,l)}}function xr(a){const n=a.name;if(Fc.has(n))return wn.debug(`There were multiple attempts to register component ${n}.`),!1;Fc.set(n,a);for(const l of Or.values())hp(l,a);for(const l of ub.values())hp(l,a);return!0}function ob(a,n){const l=a.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),a.container.getProvider(n)}function cb(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},li=new og("app","Firebase",fb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(n,l,r){this._isDeleted=!1,this._options={...n},this._config={...l},this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=sb;function mg(a,n={}){let l=a;typeof n!="object"&&(n={name:n});const r={name:Zc,automaticDataCollectionEnabled:!0,...n},o=r.name;if(typeof o!="string"||!o)throw li.create("bad-app-name",{appName:String(o)});if(l||(l=rg()),!l)throw li.create("no-options");const f=Or.get(o);if(f){if(Mr(l,f.options)&&Mr(r,f.config))return f;throw li.create("duplicate-app",{appName:o})}const h=new pS(o);for(const p of Fc.values())h.addComponent(p);const m=new hb(l,r,h);return Or.set(o,m),m}function mb(a=Zc){const n=Or.get(a);if(!n&&a===Zc&&rg())return mg();if(!n)throw li.create("no-app",{appName:a});return n}function Rl(a,n,l){let r=rb[a]??a;l&&(r+=`-${l}`);const o=r.match(/\s|\//),f=n.match(/\s|\//);if(o||f){const h=[`Unable to register library "${r}" with version "${n}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&f&&h.push("and"),f&&h.push(`version name "${n}" contains illegal characters (whitespace or "/")`),wn.warn(h.join(" "));return}xr(new Ga(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="firebase-heartbeat-database",pb=1,Ya="firebase-heartbeat-store";let Lc=null;function _g(){return Lc||(Lc=wS(_b,pb,{upgrade:(a,n)=>{switch(n){case 0:try{a.createObjectStore(Ya)}catch(l){console.warn(l)}}}}).catch(a=>{throw li.create("idb-open",{originalErrorMessage:a.message})})),Lc}async function gb(a){try{const l=(await _g()).transaction(Ya),r=await l.objectStore(Ya).get(pg(a));return await l.done,r}catch(n){if(n instanceof $a)wn.warn(n.message);else{const l=li.create("idb-get",{originalErrorMessage:n?.message});wn.warn(l.message)}}}async function dp(a,n){try{const r=(await _g()).transaction(Ya,"readwrite");await r.objectStore(Ya).put(n,pg(a)),await r.done}catch(l){if(l instanceof $a)wn.warn(l.message);else{const r=li.create("idb-set",{originalErrorMessage:l?.message});wn.warn(r.message)}}}function pg(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=1024,vb=30;class Sb{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new Eb(l),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=mp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:l}),this._heartbeatsCache.heartbeats.length>vb){const o=Cb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){wn.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mp(),{heartbeatsToSend:l,unsentEntries:r}=bb(this._heartbeatsCache.heartbeats),o=Dr(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return wn.warn(n),""}}}function mp(){return new Date().toISOString().substring(0,10)}function bb(a,n=yb){const l=[];let r=a.slice();for(const o of a){const f=l.find(h=>h.agent===o.agent);if(f){if(f.dates.push(o.date),_p(l)>n){f.dates.pop();break}}else if(l.push({agent:o.agent,dates:[o.date]}),_p(l)>n){l.pop();break}r=r.slice(1)}return{heartbeatsToSend:l,unsentEntries:r}}class Eb{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iS()?lS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await gb(this.app);return l?.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return dp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return dp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function _p(a){return Dr(JSON.stringify({version:2,heartbeats:a})).length}function Cb(a){if(a.length===0)return-1;let n=0,l=a[0].date;for(let r=1;r<a.length;r++)a[r].date<l&&(l=a[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(a){xr(new Ga("platform-logger",n=>new xS(n),"PRIVATE")),xr(new Ga("heartbeat",n=>new Sb(n),"PRIVATE")),Rl(Kc,fp,a),Rl(Kc,fp,"esm2020"),Rl("fire-js","")}Tb("");var pp={};const gp="@firebase/database",yp="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gg="";function Ab(a){gg=a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),Je(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:ka(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return un(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const n=window[a];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Nb(n)}}catch{}return new Rb},Ui=yg("localStorage"),Db=yg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=new fg("@firebase/database"),wb=(function(){let a=1;return function(){return a++}})(),vg=function(a){const n=hS(a),l=new fS;l.update(n);const r=l.digest();return of.encodeByteArray(r)},es=function(...a){let n="";for(let l=0;l<a.length;l++){const r=a[l];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=es.apply(null,r):typeof r=="object"?n+=Je(r):n+=r,n+=" "}return n};let Ha=null,vp=!0;const Mb=function(a,n){I(!0,"Can't turn on custom loggers persistently."),Dl.logLevel=Me.VERBOSE,Ha=Dl.log.bind(Dl)},ht=function(...a){if(vp===!0&&(vp=!1,Ha===null&&Db.get("logging_enabled")===!0&&Mb()),Ha){const n=es.apply(null,a);Ha(n)}},ts=function(a){return function(...n){ht(a,...n)}},Wc=function(...a){const n="FIREBASE INTERNAL ERROR: "+es(...a);Dl.error(n)},Mn=function(...a){const n=`FIREBASE FATAL ERROR: ${es(...a)}`;throw Dl.error(n),new Error(n)},Nt=function(...a){const n="FIREBASE WARNING: "+es(...a);Dl.warn(n)},Ob=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Nt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},df=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},xb=function(a){if(document.readyState==="complete")a();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},Bi="[MIN_NAME]",ri="[MAX_NAME]",zl=function(a,n){if(a===n)return 0;if(a===Bi||n===ri)return-1;if(n===Bi||a===ri)return 1;{const l=Sp(a),r=Sp(n);return l!==null?r!==null?l-r===0?a.length-n.length:l-r:-1:r!==null?1:a<n?-1:1}},zb=function(a,n){return a===n?0:a<n?-1:1},Oa=function(a,n){if(n&&a in n)return n[a];throw new Error("Missing required key ("+a+") in object: "+Je(n))},mf=function(a){if(typeof a!="object"||a===null)return Je(a);const n=[];for(const r in a)n.push(r);n.sort();let l="{";for(let r=0;r<n.length;r++)r!==0&&(l+=","),l+=Je(n[r]),l+=":",l+=mf(a[n[r]]);return l+="}",l},Sg=function(a,n){const l=a.length;if(l<=n)return[a];const r=[];for(let o=0;o<l;o+=n)o+n>l?r.push(a.substring(o,l)):r.push(a.substring(o,o+n));return r};function Rt(a,n){for(const l in a)a.hasOwnProperty(l)&&n(l,a[l])}const bg=function(a){I(!df(a),"Invalid JSON number");const n=11,l=52,r=(1<<n-1)-1;let o,f,h,m,p;a===0?(f=0,h=0,o=1/a===-1/0?1:0):(o=a<0,a=Math.abs(a),a>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(a)/Math.LN2),r),f=m+r,h=Math.round(a*Math.pow(2,l-m)-Math.pow(2,l))):(f=0,h=Math.round(a/Math.pow(2,1-r-l))));const _=[];for(p=l;p;p-=1)_.push(h%2?1:0),h=Math.floor(h/2);for(p=n;p;p-=1)_.push(f%2?1:0),f=Math.floor(f/2);_.push(o?1:0),_.reverse();const E=_.join("");let v="";for(p=0;p<64;p+=8){let S=parseInt(E.substr(p,8),2).toString(16);S.length===1&&(S="0"+S),v=v+S}return v.toLowerCase()},Ub=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Lb=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Hb(a,n){let l="Unknown Error";a==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?l="Client doesn't have permission to access the desired data.":a==="unavailable"&&(l="The service is unavailable");const r=new Error(a+" at "+n._path.toString()+": "+l);return r.code=a.toUpperCase(),r}const Bb=new RegExp("^-?(0*)\\d{1,10}$"),Ib=-2147483648,jb=2147483647,Sp=function(a){if(Bb.test(a)){const n=Number(a);if(n>=Ib&&n<=jb)return n}return null},Ul=function(a){try{a()}catch(n){setTimeout(()=>{const l=n.stack||"";throw Nt("Exception was thrown by user callback.",l),n},Math.floor(0))}},qb=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ba=function(a,n){const l=setTimeout(a,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(n,l){this.appCheckProvider=l,this.appName=n.name,cb(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=l?.getImmediate({optional:!0}),this.appCheck||l?.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((l,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(l=>l.addTokenListener(n))}notifyForInvalidToken(){Nt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(n,l,r){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(ht("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Nt(n)}}class Rr{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Rr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="5",Eg="v",Cg="s",Tg="r",Ag="f",Ng=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Rg="ls",Dg="p",Jc="ac",wg="websocket",Mg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(n,l,r,o,f=!1,h="",m=!1,p=!1,_=null){this.secure=l,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=p,this.emulatorOptions=_,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ui.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Ui.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function Yb(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function xg(a,n,l){I(typeof n=="string","typeof type must == string"),I(typeof l=="object","typeof params must == object");let r;if(n===wg)r=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(n===Mg)r=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);Yb(a)&&(l.ns=a.namespace);const o=[];return Rt(l,(f,h)=>{o.push(f+"="+h)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.counters_={}}incrementCounter(n,l=1){un(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return k1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc={},Bc={};function pf(a){const n=a.toString();return Hc[n]||(Hc[n]=new Vb),Hc[n]}function Qb(a,n){const l=a.toString();return Bc[l]||(Bc[l]=n()),Bc[l]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Ul(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="start",Kb="close",Zb="pLPCommand",Fb="pRTLPCB",zg="id",Ug="pw",Lg="ser",Wb="cb",Jb="seg",Pb="ts",$b="d",eE="dframe",Hg=1870,Bg=30,tE=Hg-Bg,nE=25e3,iE=3e4;class Nl{constructor(n,l,r,o,f,h,m){this.connId=n,this.repoInfo=l,this.applicationId=r,this.appCheckToken=o,this.authToken=f,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ts(n),this.stats_=pf(l),this.urlFn=p=>(this.appCheckToken&&(p[Jc]=this.appCheckToken),xg(l,Mg,p))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new Xb(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(iE)),xb(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gf((...f)=>{const[h,m,p,_,E]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===bp)this.id=m,this.password=p;else if(h===Kb)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,m]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const r={};r[bp]="t",r[Lg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Wb]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Eg]=_f,this.transportSessionId&&(r[Cg]=this.transportSessionId),this.lastSessionId&&(r[Rg]=this.lastSessionId),this.applicationId&&(r[Dg]=this.applicationId),this.appCheckToken&&(r[Jc]=this.appCheckToken),typeof location<"u"&&location.hostname&&Ng.test(location.hostname)&&(r[Tg]=Ag);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Nl.forceAllow_=!0}static forceDisallow(){Nl.forceDisallow_=!0}static isAvailable(){return Nl.forceAllow_?!0:!Nl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Ub()&&!Lb()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=Je(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=lg(l),o=Sg(r,tE);for(let f=0;f<o.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[f]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const r={};r[eE]="t",r[zg]=n,r[Ug]=l,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=Je(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class gf{constructor(n,l,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=wb(),window[Zb+this.uniqueCallbackIdentifier]=n,window[Fb+this.uniqueCallbackIdentifier]=l,this.myIFrame=gf.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){ht("frame writing exception"),m.stack&&ht(m.stack),ht(m)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||ht("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[zg]=this.myID,n[Ug]=this.myPW,n[Lg]=this.currentSerial;let l=this.urlFn(n),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Bg+r.length<=Hg;){const h=this.pendingSegs.shift();r=r+"&"+Jb+o+"="+h.seg+"&"+Pb+o+"="+h.ts+"&"+$b+o+"="+h.d,o++}return l=l+r,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,r){this.pendingSegs.push({seg:n,ts:l,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const r=()=>{this.outstandingRequests.delete(l),this.newRequest_()},o=setTimeout(r,Math.floor(nE)),f=()=>{clearTimeout(o),r()};this.addTag(n,f)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),l())},r.onerror=()=>{ht("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=16384,aE=45e3;let zr=null;typeof MozWebSocket<"u"?zr=MozWebSocket:typeof WebSocket<"u"&&(zr=WebSocket);class Pt{constructor(n,l,r,o,f,h,m){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ts(this.connId),this.stats_=pf(l),this.connURL=Pt.connectionURL_(l,h,m,o,r),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,r,o,f){const h={};return h[Eg]=_f,typeof location<"u"&&location.hostname&&Ng.test(location.hostname)&&(h[Tg]=Ag),l&&(h[Cg]=l),r&&(h[Rg]=r),o&&(h[Jc]=o),f&&(h[Dg]=f),xg(n,wg,h)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ui.set("previous_websocket_failure",!0);try{let r;nS(),this.mySock=new zr(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Pt.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(l);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&zr!==null&&!Pt.forceDisallow_}static previouslyFailed(){return Ui.isInMemoryStorage||Ui.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ui.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const r=ka(l);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(I(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const r=this.extractFrameCount_(l);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const l=Je(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=Sg(l,lE);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(aE))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Pt.responsesRequiredToBeHealthy=2;Pt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{static get ALL_TRANSPORTS(){return[Nl,Pt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const l=Pt&&Pt.isAvailable();let r=l&&!Pt.previouslyFailed();if(n.webSocketOnly&&(l||Nt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Pt];else{const o=this.transports_=[];for(const f of Va.ALL_TRANSPORTS)f&&f.isAvailable()&&o.push(f);Va.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Va.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=6e4,rE=5e3,uE=10*1024,oE=100*1024,Ic="t",Ep="d",cE="s",Cp="r",fE="e",Tp="o",Ap="a",Np="n",Rp="p",hE="h";class dE{constructor(n,l,r,o,f,h,m,p,_,E){this.id=n,this.repoInfo_=l,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=f,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ts("c:"+this.id+":"),this.transportManager_=new Va(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,r)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Ba(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>oE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>uE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Ic in n){const l=n[Ic];l===Ap?this.upgradeIfSecondaryHealthy_():l===Cp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===Tp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=Oa("t",n),r=Oa("d",n);if(l==="c")this.onSecondaryControl_(r);else if(l==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Rp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ap,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Np,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=Oa("t",n),r=Oa("d",n);l==="c"?this.onControl_(r):l==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=Oa(Ic,n);if(Ep in n){const r=n[Ep];if(l===hE){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(l===Np){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===cE?this.onConnectionShutdown_(r):l===Cp?this.onReset_(r):l===fE?Wc("Server Error: "+r):l===Tp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Wc("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,r=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),_f!==r&&Nt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,r),Ba(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(sE))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ba(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(rE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Rp,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ui.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{put(n,l,r,o){}merge(n,l,r,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,r){}onDisconnectMerge(n,l,r){}onDisconnectCancel(n,l){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(n){this.allowedEvents_=n,this.listeners_={},I(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,l)}}on(n,l,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:r});const o=this.getInitialEvent(n);o&&l.apply(r,o)}off(n,l,r){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let f=0;f<o.length;f++)if(o[f].callback===l&&(!r||r===o[f].context)){o.splice(f,1);return}}validateEventType_(n){I(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends jg{static getInstance(){return new Ur}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ug()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return I(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=32,wp=768;class Ae{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function _e(){return new Ae("")}function ie(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function ui(a){return a.pieces_.length-a.pieceNum_}function Oe(a){let n=a.pieceNum_;return n<a.pieces_.length&&n++,new Ae(a.pieces_,n)}function qg(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function mE(a){let n="";for(let l=a.pieceNum_;l<a.pieces_.length;l++)a.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(a.pieces_[l])));return n||"/"}function kg(a,n=0){return a.pieces_.slice(a.pieceNum_+n)}function Gg(a){if(a.pieceNum_>=a.pieces_.length)return null;const n=[];for(let l=a.pieceNum_;l<a.pieces_.length-1;l++)n.push(a.pieces_[l]);return new Ae(n,0)}function Pe(a,n){const l=[];for(let r=a.pieceNum_;r<a.pieces_.length;r++)l.push(a.pieces_[r]);if(n instanceof Ae)for(let r=n.pieceNum_;r<n.pieces_.length;r++)l.push(n.pieces_[r]);else{const r=n.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&l.push(r[o])}return new Ae(l,0)}function le(a){return a.pieceNum_>=a.pieces_.length}function gt(a,n){const l=ie(a),r=ie(n);if(l===null)return n;if(l===r)return gt(Oe(a),Oe(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+a+")")}function yf(a,n){if(ui(a)!==ui(n))return!1;for(let l=a.pieceNum_,r=n.pieceNum_;l<=a.pieces_.length;l++,r++)if(a.pieces_[l]!==n.pieces_[r])return!1;return!0}function $t(a,n){let l=a.pieceNum_,r=n.pieceNum_;if(ui(a)>ui(n))return!1;for(;l<a.pieces_.length;){if(a.pieces_[l]!==n.pieces_[r])return!1;++l,++r}return!0}class _E{constructor(n,l){this.errorPrefix_=l,this.parts_=kg(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Wr(this.parts_[r]);Yg(this)}}function pE(a,n){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(n),a.byteLength_+=Wr(n),Yg(a)}function gE(a){const n=a.parts_.pop();a.byteLength_-=Wr(n),a.parts_.length>0&&(a.byteLength_-=1)}function Yg(a){if(a.byteLength_>wp)throw new Error(a.errorPrefix_+"has a key path longer than "+wp+" bytes ("+a.byteLength_+").");if(a.parts_.length>Dp)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Dp+") or object contains a cycle "+xi(a))}function xi(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends jg{static getInstance(){return new vf}constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return I(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=1e3,yE=300*1e3,Mp=30*1e3,vE=1.3,SE=3e4,bE="server_kill",Op=3;class Dn extends Ig{constructor(n,l,r,o,f,h,m,p){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=p,this.id=Dn.nextPersistentConnectionId_++,this.log_=ts("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xa,this.maxReconnectDelay_=yE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Ur.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,r){const o=++this.requestNumber_,f={r:o,a:n,b:l};this.log_(Je(f)),I(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();const l=new Fr,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?l.resolve(m):l.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),l.promise}listen(n,l,r,o){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),I(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),I(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:l,query:n,tag:r};this.listens.get(h).set(f,m),this.connected_&&this.sendListen_(m)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(r)})}sendListen_(n){const l=n.query,r=l._path.toString(),o=l._queryIdentifier;this.log_("Listen on "+r+" for "+o);const f={p:r},h="q";n.tag&&(f.q=l._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,m=>{const p=m.d,_=m.s;Dn.warnOnListenWarnings_(p,l),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",m),_!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(_,p))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&un(n,"w")){const r=wl(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+l._queryParams.getIndex().toString()+'"',f=l._path.toString();Nt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||oS(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Mp)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=uS(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(l,r,o=>{const f=o.s,h=o.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,r=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,r)})}unlisten(n,l){const r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),I(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,l)}sendUnlisten_(n,l,r,o){this.log_("Unlisten on "+n+" for "+l);const f={p:n},h="n";o&&(f.q=r,f.t=o),this.sendRequest(h,f)}onDisconnectPut(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:r})}onDisconnectMerge(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:r})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,r,o){const f={p:l,d:r};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(n,l,r,o){this.putInternal("p",n,l,r,o)}merge(n,l,r,o){this.putInternal("m",n,l,r,o)}putInternal(n,l,r,o,f){this.initConnection_();const h={p:l,d:r};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,r,f=>{this.log_(l+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(f.s,f.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,r=>{if(r.s!=="ok"){const f=r.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Je(n));const l=n.r,r=this.requestCBHash_[l];r&&(delete this.requestCBHash_[l],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):Wc("Unrecognized action received from server: "+Je(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){I(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xa,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=xa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>SE&&(this.reconnectDelay_=xa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*vE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Dn.nextConnectionId_++,f=this.lastSessionId;let h=!1,m=null;const p=function(){m?m.close():(h=!0,r())},_=function(v){I(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(v)};this.realtime_={close:p,sendRequest:_};const E=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,S]=await Promise.all([this.authTokenProvider_.getToken(E),this.appCheckTokenProvider_.getToken(E)]);h?ht("getToken() completed but was canceled"):(ht("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=S&&S.token,m=new dE(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,r,U=>{Nt(U+" ("+this.repoInfo_.toString()+")"),this.interrupt(bE)},f))}catch(v){this.log_("Failed to get token: "+v),h||(this.repoInfo_.nodeAdmin&&Nt(v),p())}}}interrupt(n){ht("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ht("Resuming connection for reason: "+n),delete this.interruptReasons_[n],sp(this.interruptReasons_)&&(this.reconnectDelay_=xa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let r;l?r=l.map(f=>mf(f)).join("$"):r="default";const o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,l){const r=new Ae(n).toString();let o;if(this.listens.has(r)){const f=this.listens.get(r);o=f.get(l),f.delete(l),f.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,l){ht("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Op&&(this.reconnectDelay_=Mp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){ht("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Op&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+gg.replace(/\./g,"-")]=1,ug()?n["framework.cordova"]=1:tS()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Ur.getInstance().currentlyOnline();return sp(this.interruptReasons_)&&n}}Dn.nextPersistentConnectionId_=0;Dn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new ae(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const r=new ae(Bi,n),o=new ae(Bi,l);return this.compare(r,o)!==0}minPost(){return ae.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ar;class Vg extends Jr{static get __EMPTY_NODE(){return Ar}static set __EMPTY_NODE(n){Ar=n}compare(n,l){return zl(n.name,l.name)}isDefinedOn(n){throw xl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return ae.MIN}maxPost(){return new ae(ri,Ar)}makePost(n,l){return I(typeof n=="string","KeyIndex indexValue must always be a string."),new ae(n,Ar)}toString(){return".key"}}const Hi=new Vg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(n,l,r,o,f=null){this.isReverse_=o,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=l?r(n.key,l):1,o&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class it{constructor(n,l,r,o,f){this.key=n,this.value=l,this.color=r??it.RED,this.left=o??At.EMPTY_NODE,this.right=f??At.EMPTY_NODE}copy(n,l,r,o,f){return new it(n??this.key,l??this.value,r??this.color,o??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,r){let o=this;const f=r(n,o.key);return f<0?o=o.copy(null,null,null,o.left.insert(n,l,r),null):f===0?o=o.copy(null,l,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,l,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return At.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let r,o;if(r=this,l(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,l),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),l(n,r.key)===0){if(r.right.isEmpty())return At.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,l))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}it.RED=!0;it.BLACK=!1;class EE{copy(n,l,r,o,f){return this}insert(n,l,r){return new it(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class At{constructor(n,l=At.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new At(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,it.BLACK,null,null))}remove(n){return new At(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,it.BLACK,null,null))}get(n){let l,r=this.root_;for(;!r.isEmpty();){if(l=this.comparator_(n,r.key),l===0)return r.value;l<0?r=r.left:l>0&&(r=r.right)}return null}getPredecessorKey(n){let l,r=this.root_,o=null;for(;!r.isEmpty();)if(l=this.comparator_(n,r.key),l===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else l<0?r=r.left:l>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Nr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new Nr(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new Nr(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new Nr(this.root_,null,this.comparator_,!0,n)}}At.EMPTY_NODE=new EE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(a,n){return zl(a.name,n.name)}function Sf(a,n){return zl(a,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc;function TE(a){Pc=a}const Qg=function(a){return typeof a=="number"?"number:"+bg(a):"string:"+a},Xg=function(a){if(a.isLeafNode()){const n=a.val();I(typeof n=="string"||typeof n=="number"||typeof n=="object"&&un(n,".sv"),"Priority must be a string or number.")}else I(a===Pc||a.isEmpty(),"priority of unexpected type.");I(a===Pc||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xp;class nt{static set __childrenNodeConstructor(n){xp=n}static get __childrenNodeConstructor(){return xp}constructor(n,l=nt.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,I(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Xg(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new nt(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return le(n)?this:ie(n)===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:nt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const r=ie(n);return r===null?l:l.isEmpty()&&r!==".priority"?this:(I(r!==".priority"||ui(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,nt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Oe(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Qg(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=bg(this.value_):n+=this.value_,this.lazyHash_=vg(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===nt.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof nt.__childrenNodeConstructor?-1:(I(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,r=typeof this.value_,o=nt.VALUE_TYPE_ORDER.indexOf(l),f=nt.VALUE_TYPE_ORDER.indexOf(r);return I(o>=0,"Unknown leaf type: "+l),I(f>=0,"Unknown leaf type: "+r),o===f?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}nt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kg,Zg;function AE(a){Kg=a}function NE(a){Zg=a}class RE extends Jr{compare(n,l){const r=n.node.getPriority(),o=l.node.getPriority(),f=r.compareTo(o);return f===0?zl(n.name,l.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return ae.MIN}maxPost(){return new ae(ri,new nt("[PRIORITY-POST]",Zg))}makePost(n,l){const r=Kg(n);return new ae(l,new nt("[PRIORITY-POST]",r))}toString(){return".priority"}}const je=new RE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=Math.log(2);class wE{constructor(n){const l=f=>parseInt(Math.log(f)/DE,10),r=f=>parseInt(Array(f+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const o=r(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Lr=function(a,n,l,r){a.sort(n);const o=function(p,_){const E=_-p;let v,S;if(E===0)return null;if(E===1)return v=a[p],S=l?l(v):v,new it(S,v.node,it.BLACK,null,null);{const U=parseInt(E/2,10)+p,B=o(p,U),K=o(U+1,_);return v=a[U],S=l?l(v):v,new it(S,v.node,it.BLACK,B,K)}},f=function(p){let _=null,E=null,v=a.length;const S=function(B,K){const j=v-B,Q=v;v-=B;const X=o(j+1,Q),he=a[j],De=l?l(he):he;U(new it(De,he.node,K,null,X))},U=function(B){_?(_.left=B,_=B):(E=B,_=B)};for(let B=0;B<p.count;++B){const K=p.nextBitIsOne(),j=Math.pow(2,p.count-(B+1));K?S(j,it.BLACK):(S(j,it.BLACK),S(j,it.RED))}return E},h=new wE(a.length),m=f(h);return new At(r||n,m)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc;const Al={};class Rn{static get Default(){return I(Al&&je,"ChildrenNode.ts has not been loaded"),jc=jc||new Rn({".priority":Al},{".priority":je}),jc}constructor(n,l){this.indexes_=n,this.indexSet_=l}get(n){const l=wl(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof At?l:null}hasIndex(n){return un(this.indexSet_,n.toString())}addIndex(n,l){I(n!==Hi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const f=l.getIterator(ae.Wrap);let h=f.getNext();for(;h;)o=o||n.isDefinedOn(h.node),r.push(h),h=f.getNext();let m;o?m=Lr(r,n.getCompare()):m=Al;const p=n.toString(),_={...this.indexSet_};_[p]=n;const E={...this.indexes_};return E[p]=m,new Rn(E,_)}addToIndexes(n,l){const r=wr(this.indexes_,(o,f)=>{const h=wl(this.indexSet_,f);if(I(h,"Missing index implementation for "+f),o===Al)if(h.isDefinedOn(n.node)){const m=[],p=l.getIterator(ae.Wrap);let _=p.getNext();for(;_;)_.name!==n.name&&m.push(_),_=p.getNext();return m.push(n),Lr(m,h.getCompare())}else return Al;else{const m=l.get(n.name);let p=o;return m&&(p=p.remove(new ae(n.name,m))),p.insert(n,n.node)}});return new Rn(r,this.indexSet_)}removeFromIndexes(n,l){const r=wr(this.indexes_,o=>{if(o===Al)return o;{const f=l.get(n.name);return f?o.remove(new ae(n.name,f)):o}});return new Rn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let za;class P{static get EMPTY_NODE(){return za||(za=new P(new At(Sf),null,Rn.Default))}constructor(n,l,r){this.children_=n,this.priorityNode_=l,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Xg(this.priorityNode_),this.children_.isEmpty()&&I(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||za}updatePriority(n){return this.children_.isEmpty()?this:new P(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?za:l}}getChild(n){const l=ie(n);return l===null?this:this.getImmediateChild(l).getChild(Oe(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(I(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const r=new ae(n,l);let o,f;l.isEmpty()?(o=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,l),f=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?za:this.priorityNode_;return new P(o,h,f)}}updateChild(n,l){const r=ie(n);if(r===null)return l;{I(ie(n)!==".priority"||ui(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Oe(n),l);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let r=0,o=0,f=!0;if(this.forEachChild(je,(h,m)=>{l[h]=m.val(n),r++,f&&P.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):f=!1}),!n&&f&&o<2*r){const h=[];for(const m in l)h[m]=l[m];return h}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Qg(this.getPriority().val())+":"),this.forEachChild(je,(l,r)=>{const o=r.hash();o!==""&&(n+=":"+l+":"+o)}),this.lazyHash_=n===""?"":vg(n)}return this.lazyHash_}getPredecessorChildName(n,l,r){const o=this.resolveIndex_(r);if(o){const f=o.getPredecessorKey(new ae(n,l));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new ae(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new ae(l,this.children_.get(l)):null}forEachChild(n,l){const r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>l(o.name,o.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,ae.Wrap);let f=o.peek();for(;f!=null&&l.compare(f,n)<0;)o.getNext(),f=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,ae.Wrap);let f=o.peek();for(;f!=null&&l.compare(f,n)>0;)o.getNext(),f=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ns?-1:0}withIndex(n){if(n===Hi||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new P(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===Hi||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const r=this.getIterator(je),o=l.getIterator(je);let f=r.getNext(),h=o.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=r.getNext(),h=o.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===Hi?null:this.indexMap_.get(n.toString())}}P.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ME extends P{constructor(){super(new At(Sf),P.EMPTY_NODE,Rn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return P.EMPTY_NODE}isEmpty(){return!1}}const ns=new ME;Object.defineProperties(ae,{MIN:{value:new ae(Bi,P.EMPTY_NODE)},MAX:{value:new ae(ri,ns)}});Vg.__EMPTY_NODE=P.EMPTY_NODE;nt.__childrenNodeConstructor=P;TE(ns);NE(ns);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=!0;function lt(a,n=null){if(a===null)return P.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(n=a[".priority"]),I(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const l=a;return new nt(l,lt(n))}if(!(a instanceof Array)&&OE){const l=[];let r=!1;if(Rt(a,(h,m)=>{if(h.substring(0,1)!=="."){const p=lt(m);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),l.push(new ae(h,p)))}}),l.length===0)return P.EMPTY_NODE;const f=Lr(l,CE,h=>h.name,Sf);if(r){const h=Lr(l,je.getCompare());return new P(f,lt(n),new Rn({".priority":h},{".priority":je}))}else return new P(f,lt(n),Rn.Default)}else{let l=P.EMPTY_NODE;return Rt(a,(r,o)=>{if(un(a,r)&&r.substring(0,1)!=="."){const f=lt(o);(f.isLeafNode()||!f.isEmpty())&&(l=l.updateImmediateChild(r,f))}}),l.updatePriority(lt(n))}}AE(lt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends Jr{constructor(n){super(),this.indexPath_=n,I(!le(n)&&ie(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const r=this.extractChild(n.node),o=this.extractChild(l.node),f=r.compareTo(o);return f===0?zl(n.name,l.name):f}makePost(n,l){const r=lt(n),o=P.EMPTY_NODE.updateChild(this.indexPath_,r);return new ae(l,o)}maxPost(){const n=P.EMPTY_NODE.updateChild(this.indexPath_,ns);return new ae(ri,n)}toString(){return kg(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE extends Jr{compare(n,l){const r=n.node.compareTo(l.node);return r===0?zl(n.name,l.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return ae.MIN}maxPost(){return ae.MAX}makePost(n,l){const r=lt(n);return new ae(l,r)}toString(){return".value"}}const Fg=new xE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(a){return{type:"value",snapshotNode:a}}function Ml(a,n){return{type:"child_added",snapshotNode:n,childName:a}}function Qa(a,n){return{type:"child_removed",snapshotNode:n,childName:a}}function Xa(a,n,l){return{type:"child_changed",snapshotNode:n,childName:a,oldSnap:l}}function zE(a,n){return{type:"child_moved",snapshotNode:n,childName:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(n){this.index_=n}updateChild(n,l,r,o,f,h){I(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=n.getImmediateChild(l);return m.getChild(o).equals(r.getChild(o))&&m.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?n.hasChild(l)?h.trackChildChange(Qa(l,m)):I(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(Ml(l,r)):h.trackChildChange(Xa(l,r,m))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(l,r).withIndex(this.index_)}updateFullNode(n,l,r){return r!=null&&(n.isLeafNode()||n.forEachChild(je,(o,f)=>{l.hasChild(o)||r.trackChildChange(Qa(o,f))}),l.isLeafNode()||l.forEachChild(je,(o,f)=>{if(n.hasChild(o)){const h=n.getImmediateChild(o);h.equals(f)||r.trackChildChange(Xa(o,f,h))}else r.trackChildChange(Ml(o,f))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?P.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(n){this.indexedFilter_=new Ef(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Ka.getStartPost_(n),this.endPost_=Ka.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&r}updateChild(n,l,r,o,f,h){return this.matches(new ae(l,r))||(r=P.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,r,o,f,h)}updateFullNode(n,l,r){l.isLeafNode()&&(l=P.EMPTY_NODE);let o=l.withIndex(this.index_);o=o.updatePriority(P.EMPTY_NODE);const f=this;return l.forEachChild(je,(h,m)=>{f.matches(new ae(h,m))||(o=o.updateImmediateChild(h,P.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=l=>{const r=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ka(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,r,o,f,h){return this.rangedFilter_.matches(new ae(l,r))||(r=P.EMPTY_NODE),n.getImmediateChild(l).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,r,o,f,h):this.fullLimitUpdateChild_(n,l,r,f,h)}updateFullNode(n,l,r){let o;if(l.isLeafNode()||l.isEmpty())o=P.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){o=P.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const m=f.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{o=l.withIndex(this.index_),o=o.updatePriority(P.EMPTY_NODE);let f;this.reverse_?f=o.getReverseIterator(this.index_):f=o.getIterator(this.index_);let h=0;for(;f.hasNext();){const m=f.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:o=o.updateImmediateChild(m.name,P.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,r,o,f){let h;if(this.reverse_){const v=this.index_.getCompare();h=(S,U)=>v(U,S)}else h=this.index_.getCompare();const m=n;I(m.numChildren()===this.limit_,"");const p=new ae(l,r),_=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),E=this.rangedFilter_.matches(p);if(m.hasChild(l)){const v=m.getImmediateChild(l);let S=o.getChildAfterChild(this.index_,_,this.reverse_);for(;S!=null&&(S.name===l||m.hasChild(S.name));)S=o.getChildAfterChild(this.index_,S,this.reverse_);const U=S==null?1:h(S,p);if(E&&!r.isEmpty()&&U>=0)return f?.trackChildChange(Xa(l,r,v)),m.updateImmediateChild(l,r);{f?.trackChildChange(Qa(l,v));const K=m.updateImmediateChild(l,P.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(f?.trackChildChange(Ml(S.name,S.node)),K.updateImmediateChild(S.name,S.node)):K}}else return r.isEmpty()?n:E&&h(_,p)>=0?(f!=null&&(f.trackChildChange(Qa(_.name,_.node)),f.trackChildChange(Ml(l,r))),m.updateImmediateChild(l,r).updateImmediateChild(_.name,P.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=je}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return I(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return I(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bi}hasEnd(){return this.endSet_}getIndexEndValue(){return I(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return I(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ri}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return I(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===je}copy(){const n=new Cf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function LE(a){return a.loadsAllData()?new Ef(a.getIndex()):a.hasLimit()?new UE(a):new Ka(a)}function HE(a,n){const l=a.copy();return l.limitSet_=!0,l.limit_=n,l.viewFrom_="r",l}function BE(a,n){const l=a.copy();return l.index_=n,l}function zp(a){const n={};if(a.isDefault())return n;let l;if(a.index_===je?l="$priority":a.index_===Fg?l="$value":a.index_===Hi?l="$key":(I(a.index_ instanceof bf,"Unrecognized index type!"),l=a.index_.toString()),n.orderBy=Je(l),a.startSet_){const r=a.startAfterSet_?"startAfter":"startAt";n[r]=Je(a.indexStartValue_),a.startNameSet_&&(n[r]+=","+Je(a.indexStartName_))}if(a.endSet_){const r=a.endBeforeSet_?"endBefore":"endAt";n[r]=Je(a.indexEndValue_),a.endNameSet_&&(n[r]+=","+Je(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?n.limitToFirst=a.limit_:n.limitToLast=a.limit_),n}function Up(a){const n={};if(a.startSet_&&(n.sp=a.indexStartValue_,a.startNameSet_&&(n.sn=a.indexStartName_),n.sin=!a.startAfterSet_),a.endSet_&&(n.ep=a.indexEndValue_,a.endNameSet_&&(n.en=a.indexEndName_),n.ein=!a.endBeforeSet_),a.limitSet_){n.l=a.limit_;let l=a.viewFrom_;l===""&&(a.isViewFromLeft()?l="l":l="r"),n.vf=l}return a.index_!==je&&(n.i=a.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Ig{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(I(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,l,r,o){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=ts("p:rest:"),this.listens_={}}listen(n,l,r,o){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=Hr.getListenId_(n,r),m={};this.listens_[h]=m;const p=zp(n._queryParams);this.restRequest_(f+".json",p,(_,E)=>{let v=E;if(_===404&&(v=null,_=null),_===null&&this.onDataUpdate_(f,v,!1,r),wl(this.listens_,h)===m){let S;_?_===401?S="permission_denied":S="rest_error:"+_:S="ok",o(S,null)}})}unlisten(n,l){const r=Hr.getListenId_(n,l);delete this.listens_[r]}get(n){const l=zp(n._queryParams),r=n._path.toString(),o=new Fr;return this.restRequest_(r+".json",l,(f,h)=>{let m=h;f===404&&(m=null,f=null),f===null?(this.onDataUpdate_(r,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(n){}restRequest_(n,l={},r){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,f])=>{o&&o.accessToken&&(l.auth=o.accessToken),f&&f.token&&(l.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+cS(l);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let p=null;if(m.status>=200&&m.status<300){try{p=ka(m.responseText)}catch{Nt("Failed to parse JSON response for "+h+": "+m.responseText)}r(null,p)}else m.status!==401&&m.status!==404&&Nt("Got unsuccessful REST response for "+h+" Status: "+m.status),r(m.status);r=null}},m.open("GET",h,!0),m.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.rootNode_=P.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return{value:null,children:new Map}}function Jg(a,n,l){if(le(n))a.value=l,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(n,l);else{const r=ie(n);a.children.has(r)||a.children.set(r,Br());const o=a.children.get(r);n=Oe(n),Jg(o,n,l)}}function $c(a,n,l){a.value!==null?l(n,a.value):jE(a,(r,o)=>{const f=new Ae(n.toString()+"/"+r);$c(o,f,l)})}function jE(a,n){a.children.forEach((l,r)=>{n(r,l)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l={...n};return this.last_&&Rt(this.last_,(r,o)=>{l[r]=l[r]-o}),this.last_=n,l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=10*1e3,kE=30*1e3,GE=300*1e3;class YE{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new qE(n);const r=Lp+(kE-Lp)*Math.random();Ba(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),l={};let r=!1;Rt(n,(o,f)=>{f>0&&un(this.statsToReport_,o)&&(l[o]=f,r=!0)}),r&&this.server_.reportStats(l),Ba(this.reportStats_.bind(this),Math.floor(Math.random()*2*GE))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(en||(en={}));function Pg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Tf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Af(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(n,l,r){this.path=n,this.affectedTree=l,this.revert=r,this.type=en.ACK_USER_WRITE,this.source=Pg()}operationForChild(n){if(le(this.path)){if(this.affectedTree.value!=null)return I(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new Ae(n));return new Ir(_e(),l,this.revert)}}else return I(ie(this.path)===n,"operationForChild called for unrelated child."),new Ir(Oe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(n,l){this.source=n,this.path=l,this.type=en.LISTEN_COMPLETE}operationForChild(n){return le(this.path)?new Za(this.source,_e()):new Za(this.source,Oe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(n,l,r){this.source=n,this.path=l,this.snap=r,this.type=en.OVERWRITE}operationForChild(n){return le(this.path)?new Ii(this.source,_e(),this.snap.getImmediateChild(n)):new Ii(this.source,Oe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(n,l,r){this.source=n,this.path=l,this.children=r,this.type=en.MERGE}operationForChild(n){if(le(this.path)){const l=this.children.subtree(new Ae(n));return l.isEmpty()?null:l.value?new Ii(this.source,_e(),l.value):new Fa(this.source,_e(),l)}else return I(ie(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Fa(this.source,Oe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(n,l,r){this.node_=n,this.fullyInitialized_=l,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(le(n))return this.isFullyInitialized()&&!this.filtered_;const l=ie(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function QE(a,n,l,r){const o=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&a.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(zE(h.childName,h.snapshotNode))}),Ua(a,o,"child_removed",n,r,l),Ua(a,o,"child_added",n,r,l),Ua(a,o,"child_moved",f,r,l),Ua(a,o,"child_changed",n,r,l),Ua(a,o,"value",n,r,l),o}function Ua(a,n,l,r,o,f){const h=r.filter(m=>m.type===l);h.sort((m,p)=>KE(a,m,p)),h.forEach(m=>{const p=XE(a,m,f);o.forEach(_=>{_.respondsTo(m.type)&&n.push(_.createEvent(p,a.query_))})})}function XE(a,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,a.index_)),n}function KE(a,n,l){if(n.childName==null||l.childName==null)throw xl("Should only compare child_ events.");const r=new ae(n.childName,n.snapshotNode),o=new ae(l.childName,l.snapshotNode);return a.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(a,n){return{eventCache:a,serverCache:n}}function Ia(a,n,l,r){return Pr(new oi(n,l,r),a.serverCache)}function $g(a,n,l,r){return Pr(a.eventCache,new oi(n,l,r))}function jr(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function ji(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc;const ZE=()=>(qc||(qc=new At(zb)),qc);class Le{static fromObject(n){let l=new Le(null);return Rt(n,(r,o)=>{l=l.set(new Ae(r),o)}),l}constructor(n,l=ZE()){this.value=n,this.children=l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:_e(),value:this.value};if(le(n))return null;{const r=ie(n),o=this.children.get(r);if(o!==null){const f=o.findRootMostMatchingPathAndValue(Oe(n),l);return f!=null?{path:Pe(new Ae(r),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(le(n))return this;{const l=ie(n),r=this.children.get(l);return r!==null?r.subtree(Oe(n)):new Le(null)}}set(n,l){if(le(n))return new Le(l,this.children);{const r=ie(n),f=(this.children.get(r)||new Le(null)).set(Oe(n),l),h=this.children.insert(r,f);return new Le(this.value,h)}}remove(n){if(le(n))return this.children.isEmpty()?new Le(null):new Le(null,this.children);{const l=ie(n),r=this.children.get(l);if(r){const o=r.remove(Oe(n));let f;return o.isEmpty()?f=this.children.remove(l):f=this.children.insert(l,o),this.value===null&&f.isEmpty()?new Le(null):new Le(this.value,f)}else return this}}get(n){if(le(n))return this.value;{const l=ie(n),r=this.children.get(l);return r?r.get(Oe(n)):null}}setTree(n,l){if(le(n))return l;{const r=ie(n),f=(this.children.get(r)||new Le(null)).setTree(Oe(n),l);let h;return f.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,f),new Le(this.value,h)}}fold(n){return this.fold_(_e(),n)}fold_(n,l){const r={};return this.children.inorderTraversal((o,f)=>{r[o]=f.fold_(Pe(n,o),l)}),l(n,this.value,r)}findOnPath(n,l){return this.findOnPath_(n,_e(),l)}findOnPath_(n,l,r){const o=this.value?r(l,this.value):!1;if(o)return o;if(le(n))return null;{const f=ie(n),h=this.children.get(f);return h?h.findOnPath_(Oe(n),Pe(l,f),r):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,_e(),l)}foreachOnPath_(n,l,r){if(le(n))return this;{this.value&&r(l,this.value);const o=ie(n),f=this.children.get(o);return f?f.foreachOnPath_(Oe(n),Pe(l,o),r):new Le(null)}}foreach(n){this.foreach_(_e(),n)}foreach_(n,l){this.children.inorderTraversal((r,o)=>{o.foreach_(Pe(n,r),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,r)=>{r.value&&n(l,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(n){this.writeTree_=n}static empty(){return new tn(new Le(null))}}function ja(a,n,l){if(le(n))return new tn(new Le(l));{const r=a.writeTree_.findRootMostValueAndPath(n);if(r!=null){const o=r.path;let f=r.value;const h=gt(o,n);return f=f.updateChild(h,l),new tn(a.writeTree_.set(o,f))}else{const o=new Le(l),f=a.writeTree_.setTree(n,o);return new tn(f)}}}function Hp(a,n,l){let r=a;return Rt(l,(o,f)=>{r=ja(r,Pe(n,o),f)}),r}function Bp(a,n){if(le(n))return tn.empty();{const l=a.writeTree_.setTree(n,new Le(null));return new tn(l)}}function ef(a,n){return qi(a,n)!=null}function qi(a,n){const l=a.writeTree_.findRootMostValueAndPath(n);return l!=null?a.writeTree_.get(l.path).getChild(gt(l.path,n)):null}function Ip(a){const n=[],l=a.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(je,(r,o)=>{n.push(new ae(r,o))}):a.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&n.push(new ae(r,o.value))}),n}function ai(a,n){if(le(n))return a;{const l=qi(a,n);return l!=null?new tn(new Le(l)):new tn(a.writeTree_.subtree(n))}}function tf(a){return a.writeTree_.isEmpty()}function Ol(a,n){return ey(_e(),a.writeTree_,n)}function ey(a,n,l){if(n.value!=null)return l.updateChild(a,n.value);{let r=null;return n.children.inorderTraversal((o,f)=>{o===".priority"?(I(f.value!==null,"Priority writes must always be leaf nodes"),r=f.value):l=ey(Pe(a,o),f,l)}),!l.getChild(a).isEmpty()&&r!==null&&(l=l.updateChild(Pe(a,".priority"),r)),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(a,n){return ly(n,a)}function FE(a,n,l,r,o){I(r>a.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),a.allWrites.push({path:n,snap:l,writeId:r,visible:o}),o&&(a.visibleWrites=ja(a.visibleWrites,n,l)),a.lastWriteId=r}function WE(a,n){for(let l=0;l<a.allWrites.length;l++){const r=a.allWrites[l];if(r.writeId===n)return r}return null}function JE(a,n){const l=a.allWrites.findIndex(m=>m.writeId===n);I(l>=0,"removeWrite called with nonexistent writeId.");const r=a.allWrites[l];a.allWrites.splice(l,1);let o=r.visible,f=!1,h=a.allWrites.length-1;for(;o&&h>=0;){const m=a.allWrites[h];m.visible&&(h>=l&&PE(m,r.path)?o=!1:$t(r.path,m.path)&&(f=!0)),h--}if(o){if(f)return $E(a),!0;if(r.snap)a.visibleWrites=Bp(a.visibleWrites,r.path);else{const m=r.children;Rt(m,p=>{a.visibleWrites=Bp(a.visibleWrites,Pe(r.path,p))})}return!0}else return!1}function PE(a,n){if(a.snap)return $t(a.path,n);for(const l in a.children)if(a.children.hasOwnProperty(l)&&$t(Pe(a.path,l),n))return!0;return!1}function $E(a){a.visibleWrites=ty(a.allWrites,eC,_e()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function eC(a){return a.visible}function ty(a,n,l){let r=tn.empty();for(let o=0;o<a.length;++o){const f=a[o];if(n(f)){const h=f.path;let m;if(f.snap)$t(l,h)?(m=gt(l,h),r=ja(r,m,f.snap)):$t(h,l)&&(m=gt(h,l),r=ja(r,_e(),f.snap.getChild(m)));else if(f.children){if($t(l,h))m=gt(l,h),r=Hp(r,m,f.children);else if($t(h,l))if(m=gt(h,l),le(m))r=Hp(r,_e(),f.children);else{const p=wl(f.children,ie(m));if(p){const _=p.getChild(Oe(m));r=ja(r,_e(),_)}}}else throw xl("WriteRecord should have .snap or .children")}}return r}function ny(a,n,l,r,o){if(!r&&!o){const f=qi(a.visibleWrites,n);if(f!=null)return f;{const h=ai(a.visibleWrites,n);if(tf(h))return l;if(l==null&&!ef(h,_e()))return null;{const m=l||P.EMPTY_NODE;return Ol(h,m)}}}else{const f=ai(a.visibleWrites,n);if(!o&&tf(f))return l;if(!o&&l==null&&!ef(f,_e()))return null;{const h=function(_){return(_.visible||o)&&(!r||!~r.indexOf(_.writeId))&&($t(_.path,n)||$t(n,_.path))},m=ty(a.allWrites,h,n),p=l||P.EMPTY_NODE;return Ol(m,p)}}}function tC(a,n,l){let r=P.EMPTY_NODE;const o=qi(a.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(je,(f,h)=>{r=r.updateImmediateChild(f,h)}),r;if(l){const f=ai(a.visibleWrites,n);return l.forEachChild(je,(h,m)=>{const p=Ol(ai(f,new Ae(h)),m);r=r.updateImmediateChild(h,p)}),Ip(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const f=ai(a.visibleWrites,n);return Ip(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function nC(a,n,l,r,o){I(r||o,"Either existingEventSnap or existingServerSnap must exist");const f=Pe(n,l);if(ef(a.visibleWrites,f))return null;{const h=ai(a.visibleWrites,f);return tf(h)?o.getChild(l):Ol(h,o.getChild(l))}}function iC(a,n,l,r){const o=Pe(n,l),f=qi(a.visibleWrites,o);if(f!=null)return f;if(r.isCompleteForChild(l)){const h=ai(a.visibleWrites,o);return Ol(h,r.getNode().getImmediateChild(l))}else return null}function lC(a,n){return qi(a.visibleWrites,n)}function aC(a,n,l,r,o,f,h){let m;const p=ai(a.visibleWrites,n),_=qi(p,_e());if(_!=null)m=_;else if(l!=null)m=Ol(p,l);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const E=[],v=h.getCompare(),S=f?m.getReverseIteratorFrom(r,h):m.getIteratorFrom(r,h);let U=S.getNext();for(;U&&E.length<o;)v(U,r)!==0&&E.push(U),U=S.getNext();return E}else return[]}function sC(){return{visibleWrites:tn.empty(),allWrites:[],lastWriteId:-1}}function qr(a,n,l,r){return ny(a.writeTree,a.treePath,n,l,r)}function Nf(a,n){return tC(a.writeTree,a.treePath,n)}function jp(a,n,l,r){return nC(a.writeTree,a.treePath,n,l,r)}function kr(a,n){return lC(a.writeTree,Pe(a.treePath,n))}function rC(a,n,l,r,o,f){return aC(a.writeTree,a.treePath,n,l,r,o,f)}function Rf(a,n,l){return iC(a.writeTree,a.treePath,n,l)}function iy(a,n){return ly(Pe(a.treePath,n),a.writeTree)}function ly(a,n){return{treePath:a,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,r=n.childName;I(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),I(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const f=o.type;if(l==="child_added"&&f==="child_removed")this.changeMap.set(r,Xa(r,n.snapshotNode,o.snapshotNode));else if(l==="child_removed"&&f==="child_added")this.changeMap.delete(r);else if(l==="child_removed"&&f==="child_changed")this.changeMap.set(r,Qa(r,o.oldSnap));else if(l==="child_changed"&&f==="child_added")this.changeMap.set(r,Ml(r,n.snapshotNode));else if(l==="child_changed"&&f==="child_changed")this.changeMap.set(r,Xa(r,n.snapshotNode,o.oldSnap));else throw xl("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{getCompleteChild(n){return null}getChildAfterChild(n,l,r){return null}}const ay=new oC;class Df{constructor(n,l,r=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=r}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new oi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Rf(this.writes_,n,r)}}getChildAfterChild(n,l,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ji(this.viewCache_),f=rC(this.writes_,o,l,1,r,n);return f.length===0?null:f[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(a){return{filter:a}}function fC(a,n){I(n.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),I(n.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function hC(a,n,l,r,o){const f=new uC;let h,m;if(l.type===en.OVERWRITE){const _=l;_.source.fromUser?h=nf(a,n,_.path,_.snap,r,o,f):(I(_.source.fromServer,"Unknown source."),m=_.source.tagged||n.serverCache.isFiltered()&&!le(_.path),h=Gr(a,n,_.path,_.snap,r,o,m,f))}else if(l.type===en.MERGE){const _=l;_.source.fromUser?h=mC(a,n,_.path,_.children,r,o,f):(I(_.source.fromServer,"Unknown source."),m=_.source.tagged||n.serverCache.isFiltered(),h=lf(a,n,_.path,_.children,r,o,m,f))}else if(l.type===en.ACK_USER_WRITE){const _=l;_.revert?h=gC(a,n,_.path,r,o,f):h=_C(a,n,_.path,_.affectedTree,r,o,f)}else if(l.type===en.LISTEN_COMPLETE)h=pC(a,n,l.path,r,f);else throw xl("Unknown operation type: "+l.type);const p=f.getChanges();return dC(n,h,p),{viewCache:h,changes:p}}function dC(a,n,l){const r=n.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=jr(a);(l.length>0||!a.eventCache.isFullyInitialized()||o&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&l.push(Wg(jr(n)))}}function sy(a,n,l,r,o,f){const h=n.eventCache;if(kr(r,l)!=null)return n;{let m,p;if(le(l))if(I(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const _=ji(n),E=_ instanceof P?_:P.EMPTY_NODE,v=Nf(r,E);m=a.filter.updateFullNode(n.eventCache.getNode(),v,f)}else{const _=qr(r,ji(n));m=a.filter.updateFullNode(n.eventCache.getNode(),_,f)}else{const _=ie(l);if(_===".priority"){I(ui(l)===1,"Can't have a priority with additional path components");const E=h.getNode();p=n.serverCache.getNode();const v=jp(r,l,E,p);v!=null?m=a.filter.updatePriority(E,v):m=h.getNode()}else{const E=Oe(l);let v;if(h.isCompleteForChild(_)){p=n.serverCache.getNode();const S=jp(r,l,h.getNode(),p);S!=null?v=h.getNode().getImmediateChild(_).updateChild(E,S):v=h.getNode().getImmediateChild(_)}else v=Rf(r,_,n.serverCache);v!=null?m=a.filter.updateChild(h.getNode(),_,v,E,o,f):m=h.getNode()}}return Ia(n,m,h.isFullyInitialized()||le(l),a.filter.filtersNodes())}}function Gr(a,n,l,r,o,f,h,m){const p=n.serverCache;let _;const E=h?a.filter:a.filter.getIndexedFilter();if(le(l))_=E.updateFullNode(p.getNode(),r,null);else if(E.filtersNodes()&&!p.isFiltered()){const U=p.getNode().updateChild(l,r);_=E.updateFullNode(p.getNode(),U,null)}else{const U=ie(l);if(!p.isCompleteForPath(l)&&ui(l)>1)return n;const B=Oe(l),j=p.getNode().getImmediateChild(U).updateChild(B,r);U===".priority"?_=E.updatePriority(p.getNode(),j):_=E.updateChild(p.getNode(),U,j,B,ay,null)}const v=$g(n,_,p.isFullyInitialized()||le(l),E.filtersNodes()),S=new Df(o,v,f);return sy(a,v,l,o,S,m)}function nf(a,n,l,r,o,f,h){const m=n.eventCache;let p,_;const E=new Df(o,n,f);if(le(l))_=a.filter.updateFullNode(n.eventCache.getNode(),r,h),p=Ia(n,_,!0,a.filter.filtersNodes());else{const v=ie(l);if(v===".priority")_=a.filter.updatePriority(n.eventCache.getNode(),r),p=Ia(n,_,m.isFullyInitialized(),m.isFiltered());else{const S=Oe(l),U=m.getNode().getImmediateChild(v);let B;if(le(S))B=r;else{const K=E.getCompleteChild(v);K!=null?qg(S)===".priority"&&K.getChild(Gg(S)).isEmpty()?B=K:B=K.updateChild(S,r):B=P.EMPTY_NODE}if(U.equals(B))p=n;else{const K=a.filter.updateChild(m.getNode(),v,B,S,E,h);p=Ia(n,K,m.isFullyInitialized(),a.filter.filtersNodes())}}}return p}function qp(a,n){return a.eventCache.isCompleteForChild(n)}function mC(a,n,l,r,o,f,h){let m=n;return r.foreach((p,_)=>{const E=Pe(l,p);qp(n,ie(E))&&(m=nf(a,m,E,_,o,f,h))}),r.foreach((p,_)=>{const E=Pe(l,p);qp(n,ie(E))||(m=nf(a,m,E,_,o,f,h))}),m}function kp(a,n,l){return l.foreach((r,o)=>{n=n.updateChild(r,o)}),n}function lf(a,n,l,r,o,f,h,m){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let p=n,_;le(l)?_=r:_=new Le(null).setTree(l,r);const E=n.serverCache.getNode();return _.children.inorderTraversal((v,S)=>{if(E.hasChild(v)){const U=n.serverCache.getNode().getImmediateChild(v),B=kp(a,U,S);p=Gr(a,p,new Ae(v),B,o,f,h,m)}}),_.children.inorderTraversal((v,S)=>{const U=!n.serverCache.isCompleteForChild(v)&&S.value===null;if(!E.hasChild(v)&&!U){const B=n.serverCache.getNode().getImmediateChild(v),K=kp(a,B,S);p=Gr(a,p,new Ae(v),K,o,f,h,m)}}),p}function _C(a,n,l,r,o,f,h){if(kr(o,l)!=null)return n;const m=n.serverCache.isFiltered(),p=n.serverCache;if(r.value!=null){if(le(l)&&p.isFullyInitialized()||p.isCompleteForPath(l))return Gr(a,n,l,p.getNode().getChild(l),o,f,m,h);if(le(l)){let _=new Le(null);return p.getNode().forEachChild(Hi,(E,v)=>{_=_.set(new Ae(E),v)}),lf(a,n,l,_,o,f,m,h)}else return n}else{let _=new Le(null);return r.foreach((E,v)=>{const S=Pe(l,E);p.isCompleteForPath(S)&&(_=_.set(E,p.getNode().getChild(S)))}),lf(a,n,l,_,o,f,m,h)}}function pC(a,n,l,r,o){const f=n.serverCache,h=$g(n,f.getNode(),f.isFullyInitialized()||le(l),f.isFiltered());return sy(a,h,l,r,ay,o)}function gC(a,n,l,r,o,f){let h;if(kr(r,l)!=null)return n;{const m=new Df(r,n,o),p=n.eventCache.getNode();let _;if(le(l)||ie(l)===".priority"){let E;if(n.serverCache.isFullyInitialized())E=qr(r,ji(n));else{const v=n.serverCache.getNode();I(v instanceof P,"serverChildren would be complete if leaf node"),E=Nf(r,v)}E=E,_=a.filter.updateFullNode(p,E,f)}else{const E=ie(l);let v=Rf(r,E,n.serverCache);v==null&&n.serverCache.isCompleteForChild(E)&&(v=p.getImmediateChild(E)),v!=null?_=a.filter.updateChild(p,E,v,Oe(l),m,f):n.eventCache.getNode().hasChild(E)?_=a.filter.updateChild(p,E,P.EMPTY_NODE,Oe(l),m,f):_=p,_.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=qr(r,ji(n)),h.isLeafNode()&&(_=a.filter.updateFullNode(_,h,f)))}return h=n.serverCache.isFullyInitialized()||kr(r,_e())!=null,Ia(n,_,h,a.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Ef(r.getIndex()),f=LE(r);this.processor_=cC(f);const h=l.serverCache,m=l.eventCache,p=o.updateFullNode(P.EMPTY_NODE,h.getNode(),null),_=f.updateFullNode(P.EMPTY_NODE,m.getNode(),null),E=new oi(p,h.isFullyInitialized(),o.filtersNodes()),v=new oi(_,m.isFullyInitialized(),f.filtersNodes());this.viewCache_=Pr(v,E),this.eventGenerator_=new VE(this.query_)}get query(){return this.query_}}function vC(a){return a.viewCache_.serverCache.getNode()}function SC(a){return jr(a.viewCache_)}function bC(a,n){const l=ji(a.viewCache_);return l&&(a.query._queryParams.loadsAllData()||!le(n)&&!l.getImmediateChild(ie(n)).isEmpty())?l.getChild(n):null}function Gp(a){return a.eventRegistrations_.length===0}function EC(a,n){a.eventRegistrations_.push(n)}function Yp(a,n,l){const r=[];if(l){I(n==null,"A cancel should cancel all event registrations.");const o=a.query._path;a.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(l,o);h&&r.push(h)})}if(n){let o=[];for(let f=0;f<a.eventRegistrations_.length;++f){const h=a.eventRegistrations_[f];if(!h.matches(n))o.push(h);else if(n.hasAnyCallback()){o=o.concat(a.eventRegistrations_.slice(f+1));break}}a.eventRegistrations_=o}else a.eventRegistrations_=[];return r}function Vp(a,n,l,r){n.type===en.MERGE&&n.source.queryId!==null&&(I(ji(a.viewCache_),"We should always have a full cache before handling merges"),I(jr(a.viewCache_),"Missing event cache, even though we have a server cache"));const o=a.viewCache_,f=hC(a.processor_,o,n,l,r);return fC(a.processor_,f.viewCache),I(f.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=f.viewCache,ry(a,f.changes,f.viewCache.eventCache.getNode(),null)}function CC(a,n){const l=a.viewCache_.eventCache,r=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(je,(f,h)=>{r.push(Ml(f,h))}),l.isFullyInitialized()&&r.push(Wg(l.getNode())),ry(a,r,l.getNode(),n)}function ry(a,n,l,r){const o=r?[r]:a.eventRegistrations_;return QE(a.eventGenerator_,n,l,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yr;class uy{constructor(){this.views=new Map}}function TC(a){I(!Yr,"__referenceConstructor has already been defined"),Yr=a}function AC(){return I(Yr,"Reference.ts has not been loaded"),Yr}function NC(a){return a.views.size===0}function wf(a,n,l,r){const o=n.source.queryId;if(o!==null){const f=a.views.get(o);return I(f!=null,"SyncTree gave us an op for an invalid query."),Vp(f,n,l,r)}else{let f=[];for(const h of a.views.values())f=f.concat(Vp(h,n,l,r));return f}}function oy(a,n,l,r,o){const f=n._queryIdentifier,h=a.views.get(f);if(!h){let m=qr(l,o?r:null),p=!1;m?p=!0:r instanceof P?(m=Nf(l,r),p=!1):(m=P.EMPTY_NODE,p=!1);const _=Pr(new oi(m,p,!1),new oi(r,o,!1));return new yC(n,_)}return h}function RC(a,n,l,r,o,f){const h=oy(a,n,r,o,f);return a.views.has(n._queryIdentifier)||a.views.set(n._queryIdentifier,h),EC(h,l),CC(h,l)}function DC(a,n,l,r){const o=n._queryIdentifier,f=[];let h=[];const m=ci(a);if(o==="default")for(const[p,_]of a.views.entries())h=h.concat(Yp(_,l,r)),Gp(_)&&(a.views.delete(p),_.query._queryParams.loadsAllData()||f.push(_.query));else{const p=a.views.get(o);p&&(h=h.concat(Yp(p,l,r)),Gp(p)&&(a.views.delete(o),p.query._queryParams.loadsAllData()||f.push(p.query)))}return m&&!ci(a)&&f.push(new(AC())(n._repo,n._path)),{removed:f,events:h}}function cy(a){const n=[];for(const l of a.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function si(a,n){let l=null;for(const r of a.views.values())l=l||bC(r,n);return l}function fy(a,n){if(n._queryParams.loadsAllData())return eu(a);{const r=n._queryIdentifier;return a.views.get(r)}}function hy(a,n){return fy(a,n)!=null}function ci(a){return eu(a)!=null}function eu(a){for(const n of a.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vr;function wC(a){I(!Vr,"__referenceConstructor has already been defined"),Vr=a}function MC(){return I(Vr,"Reference.ts has not been loaded"),Vr}let OC=1;class Qp{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Le(null),this.pendingWriteTree_=sC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function dy(a,n,l,r,o){return FE(a.pendingWriteTree_,n,l,r,o),o?ls(a,new Ii(Pg(),n,l)):[]}function Li(a,n,l=!1){const r=WE(a.pendingWriteTree_,n);if(JE(a.pendingWriteTree_,n)){let f=new Le(null);return r.snap!=null?f=f.set(_e(),!0):Rt(r.children,h=>{f=f.set(new Ae(h),!0)}),ls(a,new Ir(r.path,f,l))}else return[]}function is(a,n,l){return ls(a,new Ii(Tf(),n,l))}function xC(a,n,l){const r=Le.fromObject(l);return ls(a,new Fa(Tf(),n,r))}function zC(a,n){return ls(a,new Za(Tf(),n))}function UC(a,n,l){const r=Of(a,l);if(r){const o=xf(r),f=o.path,h=o.queryId,m=gt(f,n),p=new Za(Af(h),m);return zf(a,f,p)}else return[]}function Qr(a,n,l,r,o=!1){const f=n._path,h=a.syncPointTree_.get(f);let m=[];if(h&&(n._queryIdentifier==="default"||hy(h,n))){const p=DC(h,n,l,r);NC(h)&&(a.syncPointTree_=a.syncPointTree_.remove(f));const _=p.removed;if(m=p.events,!o){const E=_.findIndex(S=>S._queryParams.loadsAllData())!==-1,v=a.syncPointTree_.findOnPath(f,(S,U)=>ci(U));if(E&&!v){const S=a.syncPointTree_.subtree(f);if(!S.isEmpty()){const U=BC(S);for(let B=0;B<U.length;++B){const K=U[B],j=K.query,Q=gy(a,K);a.listenProvider_.startListening(qa(j),Wa(a,j),Q.hashFn,Q.onComplete)}}}!v&&_.length>0&&!r&&(E?a.listenProvider_.stopListening(qa(n),null):_.forEach(S=>{const U=a.queryToTagMap.get(tu(S));a.listenProvider_.stopListening(qa(S),U)}))}IC(a,_)}return m}function my(a,n,l,r){const o=Of(a,r);if(o!=null){const f=xf(o),h=f.path,m=f.queryId,p=gt(h,n),_=new Ii(Af(m),p,l);return zf(a,h,_)}else return[]}function LC(a,n,l,r){const o=Of(a,r);if(o){const f=xf(o),h=f.path,m=f.queryId,p=gt(h,n),_=Le.fromObject(l),E=new Fa(Af(m),p,_);return zf(a,h,E)}else return[]}function af(a,n,l,r=!1){const o=n._path;let f=null,h=!1;a.syncPointTree_.foreachOnPath(o,(S,U)=>{const B=gt(S,o);f=f||si(U,B),h=h||ci(U)});let m=a.syncPointTree_.get(o);m?(h=h||ci(m),f=f||si(m,_e())):(m=new uy,a.syncPointTree_=a.syncPointTree_.set(o,m));let p;f!=null?p=!0:(p=!1,f=P.EMPTY_NODE,a.syncPointTree_.subtree(o).foreachChild((U,B)=>{const K=si(B,_e());K&&(f=f.updateImmediateChild(U,K))}));const _=hy(m,n);if(!_&&!n._queryParams.loadsAllData()){const S=tu(n);I(!a.queryToTagMap.has(S),"View does not exist, but we have a tag");const U=jC();a.queryToTagMap.set(S,U),a.tagToQueryMap.set(U,S)}const E=$r(a.pendingWriteTree_,o);let v=RC(m,n,l,E,f,p);if(!_&&!h&&!r){const S=fy(m,n);v=v.concat(qC(a,n,S))}return v}function Mf(a,n,l){const o=a.pendingWriteTree_,f=a.syncPointTree_.findOnPath(n,(h,m)=>{const p=gt(h,n),_=si(m,p);if(_)return _});return ny(o,n,f,l,!0)}function HC(a,n){const l=n._path;let r=null;a.syncPointTree_.foreachOnPath(l,(_,E)=>{const v=gt(_,l);r=r||si(E,v)});let o=a.syncPointTree_.get(l);o?r=r||si(o,_e()):(o=new uy,a.syncPointTree_=a.syncPointTree_.set(l,o));const f=r!=null,h=f?new oi(r,!0,!1):null,m=$r(a.pendingWriteTree_,n._path),p=oy(o,n,m,f?h.getNode():P.EMPTY_NODE,f);return SC(p)}function ls(a,n){return _y(n,a.syncPointTree_,null,$r(a.pendingWriteTree_,_e()))}function _y(a,n,l,r){if(le(a.path))return py(a,n,l,r);{const o=n.get(_e());l==null&&o!=null&&(l=si(o,_e()));let f=[];const h=ie(a.path),m=a.operationForChild(h),p=n.children.get(h);if(p&&m){const _=l?l.getImmediateChild(h):null,E=iy(r,h);f=f.concat(_y(m,p,_,E))}return o&&(f=f.concat(wf(o,a,r,l))),f}}function py(a,n,l,r){const o=n.get(_e());l==null&&o!=null&&(l=si(o,_e()));let f=[];return n.children.inorderTraversal((h,m)=>{const p=l?l.getImmediateChild(h):null,_=iy(r,h),E=a.operationForChild(h);E&&(f=f.concat(py(E,m,p,_)))}),o&&(f=f.concat(wf(o,a,r,l))),f}function gy(a,n){const l=n.query,r=Wa(a,l);return{hashFn:()=>(vC(n)||P.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?UC(a,l._path,r):zC(a,l._path);{const f=Hb(o,l);return Qr(a,l,null,f)}}}}function Wa(a,n){const l=tu(n);return a.queryToTagMap.get(l)}function tu(a){return a._path.toString()+"$"+a._queryIdentifier}function Of(a,n){return a.tagToQueryMap.get(n)}function xf(a){const n=a.indexOf("$");return I(n!==-1&&n<a.length-1,"Bad queryKey."),{queryId:a.substr(n+1),path:new Ae(a.substr(0,n))}}function zf(a,n,l){const r=a.syncPointTree_.get(n);I(r,"Missing sync point for query tag that we're tracking");const o=$r(a.pendingWriteTree_,n);return wf(r,l,o,null)}function BC(a){return a.fold((n,l,r)=>{if(l&&ci(l))return[eu(l)];{let o=[];return l&&(o=cy(l)),Rt(r,(f,h)=>{o=o.concat(h)}),o}})}function qa(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(MC())(a._repo,a._path):a}function IC(a,n){for(let l=0;l<n.length;++l){const r=n[l];if(!r._queryParams.loadsAllData()){const o=tu(r),f=a.queryToTagMap.get(o);a.queryToTagMap.delete(o),a.tagToQueryMap.delete(f)}}}function jC(){return OC++}function qC(a,n,l){const r=n._path,o=Wa(a,n),f=gy(a,l),h=a.listenProvider_.startListening(qa(n),o,f.hashFn,f.onComplete),m=a.syncPointTree_.subtree(r);if(o)I(!ci(m.value),"If we're adding a query, it shouldn't be shadowed");else{const p=m.fold((_,E,v)=>{if(!le(_)&&E&&ci(E))return[eu(E).query];{let S=[];return E&&(S=S.concat(cy(E).map(U=>U.query))),Rt(v,(U,B)=>{S=S.concat(B)}),S}});for(let _=0;_<p.length;++_){const E=p[_];a.listenProvider_.stopListening(qa(E),Wa(a,E))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new Uf(l)}node(){return this.node_}}class Lf{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=Pe(this.path_,n);return new Lf(this.syncTree_,l)}node(){return Mf(this.syncTree_,this.path_)}}const kC=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},Xp=function(a,n,l){if(!a||typeof a!="object")return a;if(I(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return GC(a[".sv"],n,l);if(typeof a[".sv"]=="object")return YC(a[".sv"],n);I(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},GC=function(a,n,l){switch(a){case"timestamp":return l.timestamp;default:I(!1,"Unexpected server value: "+a)}},YC=function(a,n,l){a.hasOwnProperty("increment")||I(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const r=a.increment;typeof r!="number"&&I(!1,"Unexpected increment value: "+r);const o=n.node();if(I(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const h=o.getValue();return typeof h!="number"?r:h+r},VC=function(a,n,l,r){return Hf(n,new Lf(l,a),r)},yy=function(a,n,l){return Hf(a,new Uf(n),l)};function Hf(a,n,l){const r=a.getPriority().val(),o=Xp(r,n.getImmediateChild(".priority"),l);let f;if(a.isLeafNode()){const h=a,m=Xp(h.getValue(),n,l);return m!==h.getValue()||o!==h.getPriority().val()?new nt(m,lt(o)):a}else{const h=a;return f=h,o!==h.getPriority().val()&&(f=f.updatePriority(new nt(o))),h.forEachChild(je,(m,p)=>{const _=Hf(p,n.getImmediateChild(m),l);_!==p&&(f=f.updateImmediateChild(m,_))}),f}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(n="",l=null,r={children:{},childCount:0}){this.name=n,this.parent=l,this.node=r}}function If(a,n){let l=n instanceof Ae?n:new Ae(n),r=a,o=ie(l);for(;o!==null;){const f=wl(r.node.children,o)||{children:{},childCount:0};r=new Bf(o,r,f),l=Oe(l),o=ie(l)}return r}function Ll(a){return a.node.value}function vy(a,n){a.node.value=n,sf(a)}function Sy(a){return a.node.childCount>0}function QC(a){return Ll(a)===void 0&&!Sy(a)}function nu(a,n){Rt(a.node.children,(l,r)=>{n(new Bf(l,a,r))})}function by(a,n,l,r){l&&n(a),nu(a,o=>{by(o,n,!0)})}function XC(a,n,l){let r=a.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function as(a){return new Ae(a.parent===null?a.name:as(a.parent)+"/"+a.name)}function sf(a){a.parent!==null&&KC(a.parent,a.name,a)}function KC(a,n,l){const r=QC(l),o=un(a.node.children,n);r&&o?(delete a.node.children[n],a.node.childCount--,sf(a)):!r&&!o&&(a.node.children[n]=l.node,a.node.childCount++,sf(a))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=/[\[\].#$\/\u0000-\u001F\u007F]/,FC=/[\[\].#$\u0000-\u001F\u007F]/,kc=10*1024*1024,Ey=function(a){return typeof a=="string"&&a.length!==0&&!ZC.test(a)},Cy=function(a){return typeof a=="string"&&a.length!==0&&!FC.test(a)},WC=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Cy(a)},Kp=function(a){return a===null||typeof a=="string"||typeof a=="number"&&!df(a)||a&&typeof a=="object"&&un(a,".sv")},Ty=function(a,n,l,r){r&&n===void 0||jf(ff(a,"value"),n,l)},jf=function(a,n,l){const r=l instanceof Ae?new _E(l,a):l;if(n===void 0)throw new Error(a+"contains undefined "+xi(r));if(typeof n=="function")throw new Error(a+"contains a function "+xi(r)+" with contents = "+n.toString());if(df(n))throw new Error(a+"contains "+n.toString()+" "+xi(r));if(typeof n=="string"&&n.length>kc/3&&Wr(n)>kc)throw new Error(a+"contains a string greater than "+kc+" utf8 bytes "+xi(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,f=!1;if(Rt(n,(h,m)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!Ey(h)))throw new Error(a+" contains an invalid key ("+h+") "+xi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);pE(r,h),jf(a,m,r),gE(r)}),o&&f)throw new Error(a+' contains ".value" child '+xi(r)+" in addition to actual children.")}},qf=function(a,n,l,r){if(!Cy(l))throw new Error(ff(a,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},JC=function(a,n,l,r){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),qf(a,n,l)},Ay=function(a,n){if(ie(n)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},PC=function(a,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Ey(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!WC(l))throw new Error(ff(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function kf(a,n){let l=null;for(let r=0;r<n.length;r++){const o=n[r],f=o.getPath();l!==null&&!yf(f,l.path)&&(a.eventLists_.push(l),l=null),l===null&&(l={events:[],path:f}),l.events.push(o)}l&&a.eventLists_.push(l)}function Ny(a,n,l){kf(a,l),Ry(a,r=>yf(r,n))}function rn(a,n,l){kf(a,l),Ry(a,r=>$t(r,n)||$t(n,r))}function Ry(a,n){a.recursionDepth_++;let l=!0;for(let r=0;r<a.eventLists_.length;r++){const o=a.eventLists_[r];if(o){const f=o.path;n(f)?(eT(a.eventLists_[r]),a.eventLists_[r]=null):l=!1}}l&&(a.eventLists_=[]),a.recursionDepth_--}function eT(a){for(let n=0;n<a.events.length;n++){const l=a.events[n];if(l!==null){a.events[n]=null;const r=l.getEventRunner();Ha&&ht("event: "+l.toString()),Ul(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="repo_interrupt",nT=25;class iT{constructor(n,l,r,o){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $C,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Br(),this.transactionQueueTree_=new Bf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function lT(a,n,l){if(a.stats_=pf(a.repoInfo_),a.forceRestClient_||qb())a.server_=new Hr(a.repoInfo_,(r,o,f,h)=>{Zp(a,r,o,f,h)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>Fp(a,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Je(l)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}a.persistentConnection_=new Dn(a.repoInfo_,n,(r,o,f,h)=>{Zp(a,r,o,f,h)},r=>{Fp(a,r)},r=>{aT(a,r)},a.authTokenProvider_,a.appCheckProvider_,l),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(r=>{a.server_.refreshAuthToken(r)}),a.appCheckProvider_.addTokenChangeListener(r=>{a.server_.refreshAppCheckToken(r.token)}),a.statsReporter_=Qb(a.repoInfo_,()=>new YE(a.stats_,a.server_)),a.infoData_=new IE,a.infoSyncTree_=new Qp({startListening:(r,o,f,h)=>{let m=[];const p=a.infoData_.getNode(r._path);return p.isEmpty()||(m=is(a.infoSyncTree_,r._path,p),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),Yf(a,"connected",!1),a.serverSyncTree_=new Qp({startListening:(r,o,f,h)=>(a.server_.listen(r,f,o,(m,p)=>{const _=h(m,p);rn(a.eventQueue_,r._path,_)}),[]),stopListening:(r,o)=>{a.server_.unlisten(r,o)}})}function Dy(a){const l=a.infoData_.getNode(new Ae(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function Gf(a){return kC({timestamp:Dy(a)})}function Zp(a,n,l,r,o){a.dataUpdateCount++;const f=new Ae(n);l=a.interceptServerDataCallback_?a.interceptServerDataCallback_(n,l):l;let h=[];if(o)if(r){const p=wr(l,_=>lt(_));h=LC(a.serverSyncTree_,f,p,o)}else{const p=lt(l);h=my(a.serverSyncTree_,f,p,o)}else if(r){const p=wr(l,_=>lt(_));h=xC(a.serverSyncTree_,f,p)}else{const p=lt(l);h=is(a.serverSyncTree_,f,p)}let m=f;h.length>0&&(m=lu(a,f)),rn(a.eventQueue_,m,h)}function Fp(a,n){Yf(a,"connected",n),n===!1&&uT(a)}function aT(a,n){Rt(n,(l,r)=>{Yf(a,l,r)})}function Yf(a,n,l){const r=new Ae("/.info/"+n),o=lt(l);a.infoData_.updateSnapshot(r,o);const f=is(a.infoSyncTree_,r,o);rn(a.eventQueue_,r,f)}function wy(a){return a.nextWriteId_++}function sT(a,n,l){const r=HC(a.serverSyncTree_,n);return r!=null?Promise.resolve(r):a.server_.get(n).then(o=>{const f=lt(o).withIndex(n._queryParams.getIndex());af(a.serverSyncTree_,n,l,!0);let h;if(n._queryParams.loadsAllData())h=is(a.serverSyncTree_,n._path,f);else{const m=Wa(a.serverSyncTree_,n);h=my(a.serverSyncTree_,n._path,f,m)}return rn(a.eventQueue_,n._path,h),Qr(a.serverSyncTree_,n,l,null,!0),f},o=>(iu(a,"get for query "+Je(n)+" failed: "+o),Promise.reject(new Error(o))))}function rT(a,n,l,r,o){iu(a,"set",{path:n.toString(),value:l,priority:r});const f=Gf(a),h=lt(l,r),m=Mf(a.serverSyncTree_,n),p=yy(h,m,f),_=wy(a),E=dy(a.serverSyncTree_,n,p,_,!0);kf(a.eventQueue_,E),a.server_.put(n.toString(),h.val(!0),(S,U)=>{const B=S==="ok";B||Nt("set at "+n+" failed: "+S);const K=Li(a.serverSyncTree_,_,!B);rn(a.eventQueue_,n,K),fT(a,o,S,U)});const v=Uy(a,n);lu(a,v),rn(a.eventQueue_,v,[])}function uT(a){iu(a,"onDisconnectEvents");const n=Gf(a),l=Br();$c(a.onDisconnect_,_e(),(o,f)=>{const h=VC(o,f,a.serverSyncTree_,n);Jg(l,o,h)});let r=[];$c(l,_e(),(o,f)=>{r=r.concat(is(a.serverSyncTree_,o,f));const h=Uy(a,o);lu(a,h)}),a.onDisconnect_=Br(),rn(a.eventQueue_,_e(),r)}function oT(a,n,l){let r;ie(n._path)===".info"?r=af(a.infoSyncTree_,n,l):r=af(a.serverSyncTree_,n,l),Ny(a.eventQueue_,n._path,r)}function Wp(a,n,l){let r;ie(n._path)===".info"?r=Qr(a.infoSyncTree_,n,l):r=Qr(a.serverSyncTree_,n,l),Ny(a.eventQueue_,n._path,r)}function cT(a){a.persistentConnection_&&a.persistentConnection_.interrupt(tT)}function iu(a,...n){let l="";a.persistentConnection_&&(l=a.persistentConnection_.id+":"),ht(l,...n)}function fT(a,n,l,r){n&&Ul(()=>{if(l==="ok")n(null);else{const o=(l||"error").toUpperCase();let f=o;r&&(f+=": "+r);const h=new Error(f);h.code=o,n(h)}})}function My(a,n,l){return Mf(a.serverSyncTree_,n,l)||P.EMPTY_NODE}function Vf(a,n=a.transactionQueueTree_){if(n||au(a,n),Ll(n)){const l=xy(a,n);I(l.length>0,"Sending zero length transaction queue"),l.every(o=>o.status===0)&&hT(a,as(n),l)}else Sy(n)&&nu(n,l=>{Vf(a,l)})}function hT(a,n,l){const r=l.map(_=>_.currentWriteId),o=My(a,n,r);let f=o;const h=o.hash();for(let _=0;_<l.length;_++){const E=l[_];I(E.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const v=gt(n,E.path);f=f.updateChild(v,E.currentOutputSnapshotRaw)}const m=f.val(!0),p=n;a.server_.put(p.toString(),m,_=>{iu(a,"transaction put response",{path:p.toString(),status:_});let E=[];if(_==="ok"){const v=[];for(let S=0;S<l.length;S++)l[S].status=2,E=E.concat(Li(a.serverSyncTree_,l[S].currentWriteId)),l[S].onComplete&&v.push(()=>l[S].onComplete(null,!0,l[S].currentOutputSnapshotResolved)),l[S].unwatcher();au(a,If(a.transactionQueueTree_,n)),Vf(a,a.transactionQueueTree_),rn(a.eventQueue_,n,E);for(let S=0;S<v.length;S++)Ul(v[S])}else{if(_==="datastale")for(let v=0;v<l.length;v++)l[v].status===3?l[v].status=4:l[v].status=0;else{Nt("transaction at "+p.toString()+" failed: "+_);for(let v=0;v<l.length;v++)l[v].status=4,l[v].abortReason=_}lu(a,n)}},h)}function lu(a,n){const l=Oy(a,n),r=as(l),o=xy(a,l);return dT(a,o,r),r}function dT(a,n,l){if(n.length===0)return;const r=[];let o=[];const h=n.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<n.length;m++){const p=n[m],_=gt(l,p.path);let E=!1,v;if(I(_!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)E=!0,v=p.abortReason,o=o.concat(Li(a.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=nT)E=!0,v="maxretry",o=o.concat(Li(a.serverSyncTree_,p.currentWriteId,!0));else{const S=My(a,p.path,h);p.currentInputSnapshot=S;const U=n[m].update(S.val());if(U!==void 0){jf("transaction failed: Data returned ",U,p.path);let B=lt(U);typeof U=="object"&&U!=null&&un(U,".priority")||(B=B.updatePriority(S.getPriority()));const j=p.currentWriteId,Q=Gf(a),X=yy(B,S,Q);p.currentOutputSnapshotRaw=B,p.currentOutputSnapshotResolved=X,p.currentWriteId=wy(a),h.splice(h.indexOf(j),1),o=o.concat(dy(a.serverSyncTree_,p.path,X,p.currentWriteId,p.applyLocally)),o=o.concat(Li(a.serverSyncTree_,j,!0))}else E=!0,v="nodata",o=o.concat(Li(a.serverSyncTree_,p.currentWriteId,!0))}rn(a.eventQueue_,l,o),o=[],E&&(n[m].status=2,(function(S){setTimeout(S,Math.floor(0))})(n[m].unwatcher),n[m].onComplete&&(v==="nodata"?r.push(()=>n[m].onComplete(null,!1,n[m].currentInputSnapshot)):r.push(()=>n[m].onComplete(new Error(v),!1,null))))}au(a,a.transactionQueueTree_);for(let m=0;m<r.length;m++)Ul(r[m]);Vf(a,a.transactionQueueTree_)}function Oy(a,n){let l,r=a.transactionQueueTree_;for(l=ie(n);l!==null&&Ll(r)===void 0;)r=If(r,l),n=Oe(n),l=ie(n);return r}function xy(a,n){const l=[];return zy(a,n,l),l.sort((r,o)=>r.order-o.order),l}function zy(a,n,l){const r=Ll(n);if(r)for(let o=0;o<r.length;o++)l.push(r[o]);nu(n,o=>{zy(a,o,l)})}function au(a,n){const l=Ll(n);if(l){let r=0;for(let o=0;o<l.length;o++)l[o].status!==2&&(l[r]=l[o],r++);l.length=r,vy(n,l.length>0?l:void 0)}nu(n,r=>{au(a,r)})}function Uy(a,n){const l=as(Oy(a,n)),r=If(a.transactionQueueTree_,n);return XC(r,o=>{Gc(a,o)}),Gc(a,r),by(r,o=>{Gc(a,o)}),l}function Gc(a,n){const l=Ll(n);if(l){const r=[];let o=[],f=-1;for(let h=0;h<l.length;h++)l[h].status===3||(l[h].status===1?(I(f===h-1,"All SENT items should be at beginning of queue."),f=h,l[h].status=3,l[h].abortReason="set"):(I(l[h].status===0,"Unexpected transaction status in abort"),l[h].unwatcher(),o=o.concat(Li(a.serverSyncTree_,l[h].currentWriteId,!0)),l[h].onComplete&&r.push(l[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?vy(n,void 0):l.length=f+1,rn(a.eventQueue_,as(n),o);for(let h=0;h<r.length;h++)Ul(r[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(a){let n="";const l=a.split("/");for(let r=0;r<l.length;r++)if(l[r].length>0){let o=l[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}function _T(a){const n={};a.charAt(0)==="?"&&(a=a.substring(1));for(const l of a.split("&")){if(l.length===0)continue;const r=l.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Nt(`Invalid query segment '${l}' in query '${a}'`)}return n}const Jp=function(a,n){const l=pT(a),r=l.namespace;l.domain==="firebase.com"&&Mn(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&l.domain!=="localhost"&&Mn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||Ob();const o=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new Og(l.host,l.secure,r,o,n,"",r!==l.subdomain),path:new Ae(l.pathString)}},pT=function(a){let n="",l="",r="",o="",f="",h=!0,m="https",p=443;if(typeof a=="string"){let _=a.indexOf("//");_>=0&&(m=a.substring(0,_-1),a=a.substring(_+2));let E=a.indexOf("/");E===-1&&(E=a.length);let v=a.indexOf("?");v===-1&&(v=a.length),n=a.substring(0,Math.min(E,v)),E<v&&(o=mT(a.substring(E,v)));const S=_T(a.substring(Math.min(a.length,v)));_=n.indexOf(":"),_>=0?(h=m==="https"||m==="wss",p=parseInt(n.substring(_+1),10)):_=n.length;const U=n.slice(0,_);if(U.toLowerCase()==="localhost")l="localhost";else if(U.split(".").length<=2)l=U;else{const B=n.indexOf(".");r=n.substring(0,B).toLowerCase(),l=n.substring(B+1),f=r}"ns"in S&&(f=S.ns)}return{host:n,port:p,domain:l,subdomain:r,secure:h,scheme:m,pathString:o,namespace:f}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",gT=(function(){let a=0;const n=[];return function(l){const r=l===a;a=l;let o;const f=new Array(8);for(o=7;o>=0;o--)f[o]=Pp.charAt(l%64),l=Math.floor(l/64);I(l===0,"Cannot push at time == 0");let h=f.join("");if(r){for(o=11;o>=0&&n[o]===63;o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)h+=Pp.charAt(n[o]);return I(h.length===20,"nextPushId: Length should be 20."),h}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(n,l,r,o){this.eventType=n,this.eventRegistration=l,this.snapshot=r,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Je(this.snapshot.exportVal())}}class vT{constructor(n,l,r){this.eventRegistration=n,this.error=l,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return I(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(n,l,r,o){this._repo=n,this._path=l,this._queryParams=r,this._orderByCalled=o}get key(){return le(this._path)?null:qg(this._path)}get ref(){return new On(this._repo,this._path)}get _queryIdentifier(){const n=Up(this._queryParams),l=mf(n);return l==="{}"?"default":l}get _queryObject(){return Up(this._queryParams)}isEqual(n){if(n=fi(n),!(n instanceof ss))return!1;const l=this._repo===n._repo,r=yf(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return l&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+mE(this._path)}}function ST(a,n){if(a._orderByCalled===!0)throw new Error(n+": You can't combine multiple orderBy calls.")}function bT(a){let n=null,l=null;if(a.hasStart()&&(n=a.getIndexStartValue()),a.hasEnd()&&(l=a.getIndexEndValue()),a.getIndex()===Hi){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(a.hasStart()){if(a.getIndexStartName()!==Bi)throw new Error(r);if(typeof n!="string")throw new Error(o)}if(a.hasEnd()){if(a.getIndexEndName()!==ri)throw new Error(r);if(typeof l!="string")throw new Error(o)}}else if(a.getIndex()===je){if(n!=null&&!Kp(n)||l!=null&&!Kp(l))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(I(a.getIndex()instanceof bf||a.getIndex()===Fg,"unknown index type."),n!=null&&typeof n=="object"||l!=null&&typeof l=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class On extends ss{constructor(n,l){super(n,l,new Cf,!1)}get parent(){const n=Gg(this._path);return n===null?null:new On(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class Ja{constructor(n,l,r){this._node=n,this.ref=l,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new Ae(n),r=Pa(this.ref,n);return new Ja(this._node.getChild(l),r,je)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>n(new Ja(o,Pa(this.ref,r),je)))}hasChild(n){const l=new Ae(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Xr(a,n){return a=fi(a),a._checkNotDeleted("ref"),n!==void 0?Pa(a._root,n):a._root}function Pa(a,n){return a=fi(a),ie(a._path)===null?JC("child","path",n):qf("child","path",n),new On(a._repo,Pe(a._path,n))}function ET(a,n){a=fi(a),Ay("push",a._path),Ty("push",n,a._path,!0);const l=Dy(a._repo),r=gT(l),o=Pa(a,r),f=Pa(a,r);let h;return h=Promise.resolve(f),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}function Hy(a,n){a=fi(a),Ay("set",a._path),Ty("set",n,a._path,!1);const l=new Fr;return rT(a._repo,a._path,n,null,l.wrapCallback(()=>{})),l.promise}function CT(a){a=fi(a);const n=new Ly(()=>{}),l=new su(n);return sT(a._repo,a,l).then(r=>new Ja(r,new On(a._repo,a._path),a._queryParams.getIndex()))}class su{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,l){const r=l._queryParams.getIndex();return new yT("value",this,new Ja(n.snapshotNode,new On(l._repo,l._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new vT(this,n,l):null}matches(n){return n instanceof su?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function TT(a,n,l,r,o){let f;if(typeof r=="object"&&(f=void 0,o=r),typeof r=="function"&&(f=r),o&&o.onlyOnce){const p=l,_=(E,v)=>{Wp(a._repo,a,m),p(E,v)};_.userCallback=l.userCallback,_.context=l.context,l=_}const h=new Ly(l,f||void 0),m=new su(h);return oT(a._repo,a,m),()=>Wp(a._repo,a,m)}function AT(a,n,l,r){return TT(a,"value",n,l,r)}class By{}class NT extends By{constructor(n){super(),this._limit=n,this.type="limitToLast"}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ss(n._repo,n._path,HE(n._queryParams,this._limit),n._orderByCalled)}}function RT(a){if(typeof a!="number"||Math.floor(a)!==a||a<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new NT(a)}class DT extends By{constructor(n){super(),this._path=n,this.type="orderByChild"}_apply(n){ST(n,"orderByChild");const l=new Ae(this._path);if(le(l))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new bf(l),o=BE(n._queryParams,r);return bT(o),new ss(n._repo,n._path,o,!0)}}function wT(a){return qf("orderByChild","path",a),new DT(a)}function MT(a,...n){let l=fi(a);for(const r of n)l=r._apply(l);return l}TC(On);wC(On);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="FIREBASE_DATABASE_EMULATOR_HOST",rf={};let xT=!1;function zT(a,n,l,r){const o=n.lastIndexOf(":"),f=n.substring(0,o),h=cf(f);a.repoInfo_=new Og(n,h,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,l),r&&(a.authTokenProvider_=r)}function UT(a,n,l,r,o){let f=r||a.options.databaseURL;f===void 0&&(a.options.projectId||Mn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ht("Using default host for project ",a.options.projectId),f=`${a.options.projectId}-default-rtdb.firebaseio.com`);let h=Jp(f,o),m=h.repoInfo,p;typeof process<"u"&&pp&&(p=pp[OT]),p?(f=`http://${p}?ns=${m.namespace}`,h=Jp(f,o),m=h.repoInfo):h.repoInfo.secure;const _=new Gb(a.name,a.options,n);PC("Invalid Firebase Database URL",h),le(h.path)||Mn("Database URL must point to the root of a Firebase Database (not including a child path).");const E=HT(m,a,_,new kb(a,l));return new BT(E,a)}function LT(a,n){const l=rf[n];(!l||l[a.key]!==a)&&Mn(`Database ${n}(${a.repoInfo_}) has already been deleted.`),cT(a),delete l[a.key]}function HT(a,n,l,r){let o=rf[n.name];o||(o={},rf[n.name]=o);let f=o[a.toURLString()];return f&&Mn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new iT(a,xT,l,r),o[a.toURLString()]=f,f}class BT{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(lT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new On(this._repo,_e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(LT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Mn("Cannot call "+n+" on a deleted database.")}}function IT(a=mb(),n){const l=ob(a,"database").getImmediate({identifier:n});if(!l._instanceStarted){const r=Z1("database");r&&jT(l,...r)}return l}function jT(a,n,l,r={}){a=fi(a),a._checkNotDeleted("useEmulator");const o=`${n}:${l}`,f=a._repoInternal;if(a._instanceStarted){if(o===a._repoInternal.repoInfo_.host&&Mr(r,f.repoInfo_.emulatorOptions))return;Mn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)r.mockUserToken&&Mn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Rr(Rr.OWNER);else if(r.mockUserToken){const m=typeof r.mockUserToken=="string"?r.mockUserToken:W1(r.mockUserToken,a.app.options.projectId);h=new Rr(m)}cf(n)&&(F1(n),$1("Database",!0)),zT(f,o,r,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(a){Ab(db),xr(new Ga("database",(n,{instanceIdentifier:l})=>{const r=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return UT(r,o,f,l)},"PUBLIC").setMultipleInstances(!0)),Rl(gp,yp,a),Rl(gp,yp,"esm2020")}Dn.prototype.simpleListen=function(a,n){this.sendRequest("q",{p:a},n)};Dn.prototype.echo=function(a,n){this.sendRequest("echo",{d:a},n)};qT();var kT="firebase",GT="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rl(kT,GT,"app");const YT={apiKey:"AIzaSyBdR578XLxU2k0eBcshB4wJORDD_aXl1bo",authDomain:"maze-9af3d.firebaseapp.com",databaseURL:"https://maze-9af3d-default-rtdb.europe-west1.firebasedatabase.app",projectId:"maze-9af3d",storageBucket:"maze-9af3d.firebasestorage.app",messagingSenderId:"534727704829",appId:"1:534727704829:web:f0b338ea0d76824cd63e94"},VT=mg(YT),Kr=IT(VT),Zr="leaderboard",$p=100;async function QT(a,n,l){try{const r=Xr(Kr,Zr),o=ET(r),f={playerName:a,time:n,date:new Date().toISOString(),mazeSize:l};await Hy(o,f),await KT()}catch(r){throw console.error("Error adding leaderboard entry:",r),r}}function XT(a,n=10){const l=Xr(Kr,Zr),r=MT(l,wT("time"),RT(n*2));return AT(r,f=>{if(!f.exists()){a([]);return}const h=[];f.forEach(p=>{h.push({id:p.key,...p.val()})});const m=h.sort((p,_)=>p.time-_.time).slice(0,n);a(m)},f=>{console.error("Error subscribing to leaderboard:",f)})}async function KT(){try{const a=Xr(Kr,Zr),n=await CT(a);if(!n.exists())return;const l=[];if(n.forEach(r=>{l.push({id:r.key,date:r.val().date})}),l.length>$p){l.sort((o,f)=>new Date(o.date).getTime()-new Date(f.date).getTime());const r=l.slice(0,l.length-$p);for(const o of r){const f=Xr(Kr,`${Zr}/${o.id}`);await Hy(f,null)}}}catch(a){console.error("Error cleaning up old entries:",a)}}const eg=({limit:a=10,currentPlayerTime:n})=>{const[l,r]=q.useState([]),[o,f]=q.useState(!0);if(q.useEffect(()=>{const p=XT(_=>{r(_),f(!1)},a);return()=>p()},[a]),o)return L.jsxs("div",{className:"leaderboard-container",children:[L.jsx("h2",{className:"leaderboard-title",children:"🏆 Таблиця лідерів"}),L.jsx("div",{className:"leaderboard-empty",children:L.jsx("p",{children:"Завантаження..."})})]});if(l.length===0)return L.jsxs("div",{className:"leaderboard-container",children:[L.jsx("h2",{className:"leaderboard-title",children:"🏆 Таблиця лідерів"}),L.jsxs("div",{className:"leaderboard-empty",children:[L.jsx("p",{children:"Поки немає записів"}),L.jsx("p",{children:"Станьте першим! 🌟"})]})]});const h=p=>{switch(p){case 0:return"🥇";case 1:return"🥈";case 2:return"🥉";default:return`${p+1}.`}},m=p=>n?Math.abs(p.time-n)<.1:!1;return L.jsxs("div",{className:"leaderboard-container",children:[L.jsxs("h2",{className:"leaderboard-title",children:["🏆 Топ ",a," гравців"]}),L.jsxs("div",{className:"leaderboard-table",children:[L.jsxs("div",{className:"leaderboard-header",children:[L.jsx("div",{className:"leaderboard-cell leaderboard-rank",children:"#"}),L.jsx("div",{className:"leaderboard-cell leaderboard-name",children:"Ім'я"}),L.jsx("div",{className:"leaderboard-cell leaderboard-time",children:"Час"}),L.jsx("div",{className:"leaderboard-cell leaderboard-date",children:"Дата"})]}),l.map((p,_)=>L.jsxs("div",{className:`leaderboard-row ${m(p)?"leaderboard-current":""} ${_<3?"leaderboard-top3":""}`,children:[L.jsx("div",{className:"leaderboard-cell leaderboard-rank",children:L.jsx("span",{className:"rank-medal",children:h(_)})}),L.jsxs("div",{className:"leaderboard-cell leaderboard-name",children:[p.playerName,m(p)&&L.jsx("span",{className:"current-badge",children:"ВИ"})]}),L.jsxs("div",{className:"leaderboard-cell leaderboard-time",children:["⏱️ ",w1(p.time)]}),L.jsxs("div",{className:"leaderboard-cell leaderboard-date",children:["📅 ",M1(p.date)]})]},p.id))]})]})},ZT={mazeWidth:20,mazeHeight:15,cellSize:30,difficulty:"medium"},FT=a=>{const n=q.useMemo(()=>({...ZT,...a}),[a]),[l,r]=q.useState(()=>Yc(n)),o=q.useCallback(p=>{r(_=>{const E=WT(_.player.position,p);if(JT(E,_.maze)){const v={position:E,direction:p},U=_.maze[E.y][E.x].type===ft.FINISH?"won":"playing",B=U==="won"?Date.now():void 0;return{..._,player:v,moves:_.moves+1,gameStatus:U,endTime:B}}return _})},[]),f=q.useCallback(()=>{r(p=>({...p,gameStatus:p.gameStatus==="paused"?"playing":"paused"}))},[]),h=q.useCallback(()=>{r(Yc(n))},[n]),m=q.useCallback(p=>{const _={...n,...p};r(Yc(_))},[n]);return{gameState:l,movePlayer:o,togglePause:f,resetGame:h,startNewGame:m,settings:n}};function Yc(a){return{maze:R1(a.mazeWidth,a.mazeHeight),player:{position:{x:1,y:1},direction:"right"},gameStatus:"playing",startTime:Date.now(),moves:0,mazeSize:{width:a.mazeWidth,height:a.mazeHeight}}}function WT(a,n){const r={up:{x:0,y:-1},down:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0}}[n];return{x:a.x+r.x,y:a.y+r.y}}function JT(a,n){return a.y<0||a.y>=n.length||a.x<0||a.x>=n[0].length?!1:n[a.y][a.x].type!==ft.WALL}const PT={ArrowUp:"up",ArrowDown:"down",ArrowLeft:"left",ArrowRight:"right",w:"up",W:"up",s:"down",S:"down",a:"left",A:"left",d:"right",D:"right"},$T=({onMove:a,onPause:n,onReset:l,keyMap:r=PT,enabled:o=!0})=>{const f=q.useRef(new Set),h=q.useCallback(_=>{if(!o)return;const E=_.key;if(!f.current.has(E)){if(f.current.add(E),r[E]&&a){_.preventDefault(),a(r[E]);return}if((E==="Escape"||E==="p"||E==="P")&&n){_.preventDefault(),n();return}if((E==="r"||E==="R")&&l){_.preventDefault(),l();return}}},[o,r,a,n,l]),m=q.useCallback(_=>{f.current.delete(_.key)},[]);return q.useEffect(()=>{if(!o){f.current.clear();return}const _=f.current;return window.addEventListener("keydown",h),window.addEventListener("keyup",m),()=>{window.removeEventListener("keydown",h),window.removeEventListener("keyup",m),_.clear()}},[o,h,m]),{triggerMove:q.useCallback(_=>{o&&a&&a(_)},[o,a]),pressedKeys:f.current}},eA=({onUpdate:a,fps:n=60,enabled:l=!0})=>{const r=q.useRef(void 0),o=q.useRef(void 0),f=1e3/n,h=q.useCallback(m=>{o.current!==void 0?m-o.current>=f&&(o.current=m):o.current=m,r.current=requestAnimationFrame(h)},[a,f]);return q.useEffect(()=>{if(l&&a)return r.current=requestAnimationFrame(h),()=>{r.current&&cancelAnimationFrame(r.current)}},[l,h,a]),{isRunning:l&&!!r.current}},tA=(a={})=>{const{volume:n=.5,enabled:l=!0}=a,[r,o]=q.useState(!1),[f,h]=q.useState(n),m=q.useRef(null);q.useEffect(()=>{if(typeof window<"u"&&l){const j=window.AudioContext||window.webkitAudioContext;m.current=new j}return()=>{m.current&&m.current.close()}},[l]);const p=q.useCallback(()=>{if(!l||r||!m.current)return;const j=m.current,Q=j.createOscillator(),X=j.createGain();Q.connect(X),X.connect(j.destination),Q.frequency.value=400,Q.type="sine",X.gain.setValueAtTime(f*.3,j.currentTime),X.gain.exponentialRampToValueAtTime(.01,j.currentTime+.1),Q.start(j.currentTime),Q.stop(j.currentTime+.1)},[l,r,f]),_=q.useCallback(()=>{if(!l||r||!m.current)return;const j=m.current,Q=j.createOscillator(),X=j.createGain();Q.connect(X),X.connect(j.destination),Q.frequency.value=150,Q.type="square",X.gain.setValueAtTime(f*.5,j.currentTime),X.gain.exponentialRampToValueAtTime(.01,j.currentTime+.15),Q.start(j.currentTime),Q.stop(j.currentTime+.15)},[l,r,f]),E=q.useCallback(()=>{if(!l||r||!m.current)return;const j=m.current;[523.25,587.33,659.25,783.99].forEach((X,he)=>{const De=j.createOscillator(),He=j.createGain();De.connect(He),He.connect(j.destination),De.frequency.value=X,De.type="sine";const we=j.currentTime+he*.15;He.gain.setValueAtTime(f*.4,we),He.gain.exponentialRampToValueAtTime(.01,we+.3),De.start(we),De.stop(we+.3)})},[l,r,f]),v=q.useCallback(()=>{if(!l||r||!m.current)return;const j=m.current,Q=j.createOscillator(),X=j.createGain();Q.connect(X),X.connect(j.destination),Q.frequency.value=440,Q.type="sine",X.gain.setValueAtTime(f*.3,j.currentTime),X.gain.exponentialRampToValueAtTime(.01,j.currentTime+.2),Q.start(j.currentTime),Q.stop(j.currentTime+.2)},[l,r,f]),S=q.useCallback(()=>{if(!l||r||!m.current)return;const j=m.current,Q=j.createOscillator(),X=j.createGain();Q.connect(X),X.connect(j.destination),Q.frequency.value=300,Q.type="triangle",X.gain.setValueAtTime(f*.3,j.currentTime),X.gain.exponentialRampToValueAtTime(.01,j.currentTime+.15),Q.start(j.currentTime),Q.stop(j.currentTime+.15)},[l,r,f]),U=q.useCallback(j=>{switch(j){case"move":p();break;case"wall":_();break;case"win":E();break;case"start":v();break;case"pause":S();break}},[p,_,E,v,S]),B=q.useCallback(()=>{o(j=>!j)},[]),K=q.useCallback(j=>{h(Math.max(0,Math.min(1,j)))},[]);return{playSound:U,playMoveSound:p,playWallSound:_,playWinSound:E,playStartSound:v,playPauseSound:S,toggleMute:B,setVolume:K,isMuted:r,volume:f}},nA={name:"Epic Quest",description:"⚔️ Епічний квест - героїчна та мотивуюча",melody:[{freq:523.25,duration:.3},{freq:659.25,duration:.3},{freq:783.99,duration:.6},{freq:659.25,duration:.3},{freq:783.99,duration:.3},{freq:880,duration:.6},{freq:783.99,duration:.3},{freq:659.25,duration:.3},{freq:523.25,duration:.6}],bassLine:[{freq:130.81,duration:.9},{freq:174.61,duration:.9},{freq:196,duration:.9},{freq:130.81,duration:.9}]},iA={epicQuest:nA},lA=iA.epicQuest,aA=(a={})=>{const{volume:n=.3,enabled:l=!0,theme:r=lA}=a,o=q.useRef(null),[f,h]=q.useState(!1),m=q.useRef(!1),[p,_]=q.useState(!1),E=q.useRef(!1),v=q.useRef([]),S=q.useRef(null),U=q.useRef(null),B=q.useMemo(()=>r.melody,[r]),K=q.useMemo(()=>r.bassLine,[r]),j=q.useCallback(()=>{U.current&&(clearTimeout(U.current),U.current=null),v.current.forEach(F=>{try{F.stop()}catch{}}),v.current=[]},[]);q.useEffect(()=>{if(typeof window<"u"&&l){const F=window.AudioContext||window.webkitAudioContext;o.current=new F,S.current=o.current.createGain(),S.current.connect(o.current.destination),S.current.gain.value=n}return()=>{j(),o.current&&o.current.close()}},[l,n,j]);const Q=q.useCallback(()=>{if(!o.current||!S.current||E.current)return;const F=o.current,Be=S.current;let $e=F.currentTime;B.forEach(ve=>{const xe=F.createOscillator(),Ge=F.createGain();xe.connect(Ge),Ge.connect(Be),xe.frequency.value=ve.freq,xe.type="square",Ge.gain.setValueAtTime(.15,$e),Ge.gain.exponentialRampToValueAtTime(.01,$e+ve.duration),xe.start($e),xe.stop($e+ve.duration),v.current.push(xe),$e+=ve.duration});let dt=F.currentTime;K.forEach(ve=>{const xe=F.createOscillator(),Ge=F.createGain();xe.connect(Ge),Ge.connect(Be),xe.frequency.value=ve.freq,xe.type="triangle",Ge.gain.setValueAtTime(.1,dt),Ge.gain.exponentialRampToValueAtTime(.01,dt+ve.duration),xe.start(dt),xe.stop(dt+ve.duration),v.current.push(xe),dt+=ve.duration});const mt=B.reduce((ve,xe)=>ve+xe.duration,0);U.current=setTimeout(()=>{m.current&&!E.current&&Q()},mt*1e3)},[B,K]),X=q.useCallback(()=>{o.current&&(o.current.state==="suspended"&&o.current.resume(),h(!0),m.current=!0,Q())},[Q]),he=q.useCallback(()=>{h(!1),m.current=!1,j()},[j]),De=q.useCallback(()=>{f?he():X()},[f,X,he]),He=q.useCallback(()=>{_(F=>{const Be=!F;return E.current=Be,Be?j():m.current&&Q(),Be})},[j,Q]),we=q.useCallback(F=>{S.current&&(S.current.gain.value=Math.max(0,Math.min(1,F)))},[]);return{startMusic:X,pauseMusic:he,toggleMusic:De,toggleMute:He,setVolume:we,isPlaying:f,isMuted:p}},sA=({width:a=800,height:n=500})=>{const{gameState:l,movePlayer:r,togglePause:o,resetGame:f}=FT({mazeWidth:24,mazeHeight:18}),h=q.useRef(null),m=q.useRef(l.gameStatus),[p,_]=q.useState({width:a,height:n}),[E,v]=q.useState(!0),[S,U]=q.useState(!1),[B,K]=q.useState(""),[j,Q]=q.useState(void 0),{playSound:X,toggleMute:he,isMuted:De}=tA({volume:.8,enabled:!0}),{startMusic:He,pauseMusic:we,toggleMute:F,isPlaying:Be,isMuted:$e}=aA({volume:.25,enabled:!0}),dt=q.useCallback(H=>{r(H),X("move")},[r,X,l]),mt=q.useCallback(()=>{o(),X("pause"),l.gameStatus==="playing"?we():l.gameStatus==="paused"&&He()},[o,X,l.gameStatus,we,He]),ve=q.useCallback(()=>{f(),X("start"),Be||He()},[f,X,Be,He]);$T({onMove:dt,onPause:mt,onReset:ve,enabled:!E&&!S&&l.gameStatus!=="won"}),q.useEffect(()=>{if(l.gameStatus==="won"&&m.current!=="won"&&(X("win"),we(),l.endTime&&l.startTime)){const H=(l.endTime-l.startTime)/1e3,W=`${l.maze[0].length}x${l.maze.length}`;QT(B||"Анонім",H,W).catch(ge=>{console.error("Failed to save to Firebase:",ge)}),Q(H)}m.current=l.gameStatus},[l.gameStatus,l.endTime,l.startTime,l.maze,X,we,B]);const xe=q.useCallback(()=>{v(!1),U(!0)},[]),Ge=q.useCallback(H=>{K(H),U(!1),He(),X("start")},[He,X]);q.useEffect(()=>{const H=h.current;if(!H)return;const W=N1(H.size.width,H.size.height,l.mazeSize.width,l.mazeSize.height);C1(H.ctx,l,W)},[l,p]),eA({onUpdate:()=>{},enabled:l.gameStatus==="playing",fps:60});const Dt=q.useCallback(H=>{h.current=H},[]),M=q.useCallback(H=>{h.current&&(h.current={...h.current,size:H},_(H))},[]);return L.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"10px",width:"100%",maxWidth:"900px",margin:"0 auto"},children:E?L.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"70vh",textAlign:"center",gap:"30px",width:"100%"},children:[L.jsx("h1",{style:{fontSize:"clamp(2rem, 8vw, 4rem)",color:"white",WebkitBackgroundClip:"text",backgroundClip:"text",margin:0,fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.1)"},children:"🌟 Лабіринти від Захара 🌟"}),L.jsxs("div",{style:{fontSize:"clamp(1rem, 3vw, 1.5rem)",color:"#fff",backgroundColor:"rgba(0,0,0,0.5)",padding:"20px",borderRadius:"15px",maxWidth:"500px"},children:[L.jsx("p",{style:{margin:"10px 0"},children:"🎮 Знайди шлях у лабіринті!"}),L.jsx("p",{style:{margin:"10px 0"},children:"🎵 З музикою у стилі 90-х"}),L.jsx("p",{style:{margin:"10px 0"},children:"🕹️ Ретро 8-bit звуки"}),L.jsx("p",{style:{margin:"10px 0"},children:"🏆 Таблиця лідерів"})]}),L.jsx("button",{onClick:xe,style:{padding:"20px 50px",fontSize:"clamp(1.2rem, 4vw, 2rem)",fontWeight:"bold",background:"linear-gradient(135deg, #f39c12 0%, #e67e22 100%)",color:"white",border:"none",borderRadius:"50px",cursor:"pointer",boxShadow:"0 8px 16px rgba(0,0,0,0.3)",transition:"all 0.3s ease",animation:"pulse 2s infinite"},onMouseEnter:H=>{H.currentTarget.style.transform="scale(1.1)",H.currentTarget.style.boxShadow="0 12px 24px rgba(0,0,0,0.4)"},onMouseLeave:H=>{H.currentTarget.style.transform="scale(1)",H.currentTarget.style.boxShadow="0 8px 16px rgba(0,0,0,0.3)"},children:"🎮 ПОЧАТИ ГРУ! 🎶"}),L.jsxs("div",{style:{fontSize:"clamp(0.9rem, 2.5vw, 1.1rem)",color:"#ddd",backgroundColor:"rgba(0,0,0,0.3)",padding:"15px",borderRadius:"10px"},children:[L.jsxs("p",{children:["⌨️ Керування: ",L.jsx("strong",{children:"стрілки"})," або ",L.jsx("strong",{children:"WASD"})]}),L.jsxs("p",{children:["⏸️ ",L.jsx("strong",{children:"ESC"})," - пауза | 🔄 ",L.jsx("strong",{children:"R"})," - рестарт"]})]}),L.jsx(eg,{limit:10})]}):S?L.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"70vh",width:"100%"},children:L.jsx(B1,{onSubmit:Ge})}):L.jsxs(L.Fragment,{children:[L.jsx("h1",{style:{color:"white",marginBottom:"15px",fontSize:"clamp(1.5rem, 5vw, 2.5rem)",textAlign:"center"},children:"🌟 Лабіринти від Захара 🌟"}),L.jsx(O1,{gameState:l}),L.jsx(g1,{width:a,height:n,onCanvasReady:Dt,onResize:M}),L.jsx(x1,{onPause:mt,onReset:ve,onMove:dt,isPaused:l.gameStatus==="paused",onToggleSound:he,isMuted:De,onToggleMusic:F,isMusicMuted:$e}),L.jsxs("div",{style:{background:"white",marginTop:"15px",textAlign:"center",color:"rgb(221, 221, 221)",maxWidth:"600px",padding:"15px",fontSize:"clamp(0.85rem, 2.5vw, 1rem)",backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:"10px"},children:[L.jsx("p",{children:L.jsx("strong",{children:"Керування:"})}),L.jsxs("p",{children:["⌨️ Використовуйте ",L.jsx("strong",{children:"стрілки"})," або ",L.jsx("strong",{children:"WASD"})," для руху"]}),L.jsxs("p",{children:["⏸️ ",L.jsx("strong",{children:"ESC"})," - пауза | 🔄 ",L.jsx("strong",{children:"R"})," - рестарт"]}),L.jsx("p",{children:"🎯 Знайдіть зелений квадрат (старт) та дістаньтеся до червоного (фініш)!"})]}),l.gameStatus==="won"&&L.jsxs("div",{style:{marginTop:"30px",width:"100%"},children:[L.jsxs("div",{style:{textAlign:"center",fontSize:"clamp(1.5rem, 5vw, 3rem)",color:"#f39c12",marginBottom:"20px",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.2)"},children:["🎉 ВІТАЄМО, ",B,"! 🎉"]}),L.jsx(eg,{limit:10,currentPlayerTime:j})]})]})})};function rA(){return L.jsx("div",{className:"App",children:L.jsx(sA,{width:800,height:600})})}p1.createRoot(document.getElementById("root")).render(L.jsx(q.StrictMode,{children:L.jsx(rA,{})}));
