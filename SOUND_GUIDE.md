# üîä –ì—ñ–¥ –ø–æ –∑–≤—É–∫–æ–≤–∏—Ö –µ—Ñ–µ–∫—Ç–∞—Ö

## ‚úÖ –©–æ –≤–∂–µ –ø—Ä–∞—Ü—é—î

–ó–≤—É–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–¥–∞–Ω–æ –¥–æ –≥—Ä–∏! –£ –≤–∞—Å —î:

1. **üéµ –ó–≤—É–∫ —Ä—É—Ö—É** - –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –∫—Ä–æ—Ü—ñ –≥—Ä–∞–≤—Ü—è
2. **üèÜ –ó–≤—É–∫ –ø–µ—Ä–µ–º–æ–≥–∏** - –º–µ–ª–æ–¥—ñ—è –ø—Ä–∏ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—ñ —Ñ—ñ–Ω—ñ—à—É
3. **‚è∏Ô∏è –ó–≤—É–∫ –ø–∞—É–∑–∏** - –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ ESC
4. **üîÑ –ó–≤—É–∫ —Ä–µ—Å—Ç–∞—Ä—Ç—É** - –ø—Ä–∏ –ø–æ—á–∞—Ç–∫—É –Ω–æ–≤–æ—ó –≥—Ä–∏
5. **üîá/üîä –ö–Ω–æ–ø–∫–∞ –≤–∏–º–∫–Ω–µ–Ω–Ω—è –∑–≤—É–∫—É** - —Ñ—ñ–æ–ª–µ—Ç–æ–≤–∞ –∫–Ω–æ–ø–∫–∞ –≤ UI

## üéÆ –ö–µ—Ä—É–≤–∞–Ω–Ω—è –∑–≤—É–∫–æ–º

- **–ö–Ω–æ–ø–∫–∞ "üîä –ó–≤—É–∫"** - –ø–µ—Ä–µ–º–∏–∫–∞—î –∑–≤—É–∫ (üîá –∫–æ–ª–∏ –≤–∏–º–∫–Ω–µ–Ω–æ)
- –ó–≤—É–∫–∏ –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º —á–µ—Ä–µ–∑ Web Audio API
- –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –∑–æ–≤–Ω—ñ—à–Ω—ñ –∞—É–¥—ñ–æ—Ñ–∞–π–ª–∏!

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–≤—É–∫—ñ–≤

### –ó–º—ñ–Ω–∞ –≥—É—á–Ω–æ—Å—Ç—ñ

–í—ñ–¥–∫—Ä–∏–π—Ç–µ `src/components/Game/MazeGame.tsx` (—Ä—è–¥–æ–∫ ~27):

```typescript
const { playSound, toggleMute, isMuted } = useSound({
  volume: 0.3,  // –ó–º—ñ–Ω—ñ—Ç—å –≤—ñ–¥ 0.0 (—Ç–∏—Ö–æ) –¥–æ 1.0 (–≥–æ–ª–æ—Å–Ω–æ)
  enabled: true
});
```

### –í–∏–º–∫–Ω—É—Ç–∏ –∑–≤—É–∫–∏ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º

```typescript
const { playSound, toggleMute, isMuted } = useSound({
  volume: 0.3,
  enabled: false  // –ó–≤—É–∫–∏ –≤–∏–º–∫–Ω–µ–Ω—ñ
});
```

## üéµ –ö–∞—Å—Ç–æ–º—ñ–∑–∞—Ü—ñ—è –∑–≤—É–∫—ñ–≤

–í—ñ–¥–∫—Ä–∏–π—Ç–µ `src/hooks/useSound.ts` –¥–ª—è –∑–º—ñ–Ω–∏ –∑–≤—É–∫—ñ–≤:

### 1. –ó–≤—É–∫ —Ä—É—Ö—É (—Ä—è–¥–æ–∫ ~43)

```typescript
const playMoveSound = useCallback(() => {
  // ...
  oscillator.frequency.value = 400; // –ó–º—ñ–Ω—ñ—Ç—å —á–∞—Å—Ç–æ—Ç—É (200-800 Hz)
  oscillator.type = 'sine';         // –¢–∏–ø: 'sine', 'square', 'triangle', 'sawtooth'
  // ...
```

**–¢–∏–ø–∏ —Ö–≤–∏–ª—å:**
- `sine` - –º'—è–∫–∏–π, —á–∏—Å—Ç–∏–π –∑–≤—É–∫
- `square` - —Ä—ñ–∑–∫–∏–π, –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∏–π
- `triangle` - —Å–µ—Ä–µ–¥–Ω—ñ–π –º—ñ–∂ sine —ñ square
- `sawtooth` - –Ω–∞—Å–∏—á–µ–Ω–∏–π, –±–∞–≥–∞—Ç–∏–π —Ç–µ–º–±—Ä

### 2. –ó–≤—É–∫ –ø–µ—Ä–µ–º–æ–≥–∏ (—Ä—è–¥–æ–∫ ~83)

```typescript
const playWinSound = useCallback(() => {
  // –ù–æ—Ç–∏ –º–µ–ª–æ–¥—ñ—ó (–î–æ, –†–µ, –ú—ñ, –°–æ–ª—å)
  const notes = [523.25, 587.33, 659.25, 783.99];
  
  // –ú–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –Ω–∞ —ñ–Ω—à—ñ –Ω–æ—Ç–∏:
  // –î–æ = 261.63, –†–µ = 293.66, –ú—ñ = 329.63
  // –§–∞ = 349.23, –°–æ–ª—å = 392.00, –õ—è = 440.00, –°—ñ = 493.88
```

### 3. –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π –∑–≤—É–∫

–î–æ–¥–∞–π—Ç–µ –Ω–æ–≤—É —Ñ—É–Ω–∫—Ü—ñ—é –≤ `useSound.ts`:

```typescript
const playNewSound = useCallback(() => {
  if (!enabled || isMuted || !audioContextRef.current) return;

  const ctx = audioContextRef.current;
  const oscillator = ctx.createOscillator();
  const gainNode = ctx.createGain();

  oscillator.connect(gainNode);
  gainNode.connect(ctx.destination);

  oscillator.frequency.value = 600;  // –í–∞—à–∞ —á–∞—Å—Ç–æ—Ç–∞
  oscillator.type = 'sine';           // –í–∞—à —Ç–∏–ø

  gainNode.gain.setValueAtTime(currentVolume * 0.3, ctx.currentTime);
  gainNode.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.2);

  oscillator.start(ctx.currentTime);
  oscillator.stop(ctx.currentTime + 0.2);
}, [enabled, isMuted, currentVolume]);

// –î–æ–¥–∞–π—Ç–µ –¥–æ return:
return {
  // ... —ñ–Ω—à—ñ –∑–≤—É–∫–∏
  playNewSound
};
```

## üéº –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –∞—É–¥—ñ–æ—Ñ–∞–π–ª—ñ–≤

–Ø–∫—â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å–ø—Ä–∞–≤–∂–Ω—ñ –∞—É–¥—ñ–æ—Ñ–∞–π–ª–∏ (MP3, WAV):

1. **–î–æ–¥–∞–π—Ç–µ —Ñ–∞–π–ª–∏ –≤ `public/sounds/`:**
   ```
   public/
   ‚îî‚îÄ‚îÄ sounds/
       ‚îú‚îÄ‚îÄ move.mp3
       ‚îú‚îÄ‚îÄ win.mp3
       ‚îú‚îÄ‚îÄ pause.mp3
       ‚îî‚îÄ‚îÄ start.mp3
   ```

2. **–°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π —Ö—É–∫ `useAudioFiles.ts`:**

```typescript
import { useCallback, useRef, useState } from 'react';

export const useAudioFiles = (volume: number = 0.5) => {
  const audioRefs = useRef<Record<string, HTMLAudioElement>>({});
  const [isMuted, setIsMuted] = useState(false);

  const loadSound = useCallback((name: string, path: string) => {
    const audio = new Audio(path);
    audio.volume = volume;
    audioRefs.current[name] = audio;
  }, [volume]);

  const playSound = useCallback((name: string) => {
    if (isMuted) return;
    const audio = audioRefs.current[name];
    if (audio) {
      audio.currentTime = 0;
      audio.play();
    }
  }, [isMuted]);

  // –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—Å—ñ –∑–≤—É–∫–∏
  useEffect(() => {
    loadSound('move', '/sounds/move.mp3');
    loadSound('win', '/sounds/win.mp3');
    loadSound('pause', '/sounds/pause.mp3');
    loadSound('start', '/sounds/start.mp3');
  }, [loadSound]);

  return { playSound, toggleMute: () => setIsMuted(p => !p), isMuted };
};
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

### –î–ª—è –∫—Ä–∞—â–æ–≥–æ –¥–æ—Å–≤—ñ–¥—É:

1. **–ù–µ —Ä–æ–±—ñ—Ç—å –∑–≤—É–∫–∏ –Ω–∞–¥—Ç–æ –≥—É—á–Ω–∏–º–∏** - 0.3 –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ
2. **–ó–≤—É–∫ —Ä—É—Ö—É –º–∞—î –±—É—Ç–∏ –∫–æ—Ä–æ—Ç–∫–∏–º** (0.1-0.15 —Å–µ–∫)
3. **–ó–≤—É–∫ –ø–µ—Ä–µ–º–æ–≥–∏ –º–æ–∂–µ –±—É—Ç–∏ –¥–æ–≤—à–∏–º** (1-2 —Å–µ–∫)
4. **–î–æ–¥–∞–π—Ç–µ –∑–∞—Ç—É—Ö–∞–Ω–Ω—è** (exponentialRampToValueAtTime)

### –ß–∞—Å—Ç–æ—Ç–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –∑–≤—É–∫—ñ–≤:

- **–ü–æ–∑–∏—Ç–∏–≤–Ω—ñ –¥—ñ—ó** (—Ä—É—Ö, –∑–±—ñ—Ä –ø—Ä–µ–¥–º–µ—Ç—ñ–≤): 400-600 Hz, sine
- **–ù–µ–≥–∞—Ç–∏–≤–Ω—ñ –¥—ñ—ó** (–ø–æ–º–∏–ª–∫–∏, –∑—ñ—Ç–∫–Ω–µ–Ω–Ω—è): 100-200 Hz, square
- **–ü–µ—Ä–µ–º–æ–≥–∞**: –º–µ–ª–æ–¥—ñ—è –∑ –Ω–æ—Ç 500-800 Hz, sine
- **UI –∑–≤—É–∫–∏** (–∫–Ω–æ–ø–∫–∏, –º–µ–Ω—é): 300-400 Hz, triangle

## üêõ –í—ñ–¥–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è

### –ó–≤—É–∫–∏ –Ω–µ –≤—ñ–¥—Ç–≤–æ—Ä—é—é—Ç—å—Å—è?

1. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** - –º–æ–∂—É—Ç—å –±—É—Ç–∏ –ø–æ–º–∏–ª–∫–∏
2. **–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è —â–æ –∑–≤—É–∫ —É–≤—ñ–º–∫–Ω–µ–Ω–∏–π** –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
3. **–î–µ—è–∫—ñ –±—Ä–∞—É–∑–µ—Ä–∏ –±–ª–æ–∫—É—é—Ç—å –∞–≤—Ç–æ–≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è** - –ø–æ—Ç—Ä—ñ–±–Ω–∞ –≤–∑–∞—î–º–æ–¥—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
4. **Safari –º–æ–∂–µ –≤–∏–º–∞–≥–∞—Ç–∏ –ø—Ä–µ—Ñ—ñ–∫—Å** - –≤–∂–µ –¥–æ–¥–∞–Ω–æ `webkitAudioContext`

### –ó–≤—É–∫–∏ –≤—ñ–¥—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –∑ –∑–∞—Ç—Ä–∏–º–∫–æ—é?

- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Web Audio API (–≤–∂–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ)
- –£–Ω–∏–∫–∞–π—Ç–µ `new Audio()` –¥–ª—è —á–∞—Å—Ç–∏—Ö –∑–≤—É–∫—ñ–≤
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è —â–æ `audioContext` —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –æ–¥–∏–Ω —Ä–∞–∑

## üìö –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

- [Web Audio API MDN](https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API)
- [–ß–∞—Å—Ç–æ—Ç–∏ –º—É–∑–∏—á–Ω–∏—Ö –Ω–æ—Ç](https://pages.mtu.edu/~suits/notefreqs.html)
- [–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω—ñ –∑–≤—É–∫–æ–≤—ñ –µ—Ñ–µ–∫—Ç–∏](https://freesound.org)

## üéµ –ü—Ä–∏–∫–ª–∞–¥–∏ –º–µ–ª–æ–¥—ñ–π

### –ú–µ–ª–æ–¥—ñ—è –ø–µ—Ä–µ–º–æ–≥–∏ (Super Mario):
```typescript
const notes = [659.25, 659.25, 0, 659.25, 0, 523.25, 659.25, 0, 783.99];
// –ú—ñ, –ú—ñ, –ø–∞—É–∑–∞, –ú—ñ, –ø–∞—É–∑–∞, –î–æ, –ú—ñ, –ø–∞—É–∑–∞, –°–æ–ª—å
```

### –ú–µ–ª–æ–¥—ñ—è —Å—Ç–∞—Ä—Ç—É (Space Invaders):
```typescript
const notes = [220, 196, 185, 165];
// –õ—è, –°–æ–ª—å, –§–∞#, –ú—ñ
```
